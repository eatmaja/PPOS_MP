*** Query: 2025-07-30 01:49:06 UTC *******************
SELECT GET_LOCK('544d53b047586a14572ee08e4ae1bb9b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.397 ms

*** Query: 2025-07-30 01:49:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.461 ms

*** Query: 2025-07-30 01:49:06 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.457 ms

*** Query: 2025-07-30 01:49:06 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.113 ms

*** Query: 2025-07-30 01:49:06 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.493 ms

*** Query: 2025-07-30 08:49:06 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 1.034 ms

*** Query: 2025-07-30 08:49:06 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.491 ms

*** Query: 2025-07-30 08:49:06 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e', '171.14.0.1', '__ci_last_regenerate|i:1753840146;_ci_previous_url|s:39:\"https://eatmaja.co.id/ppos_demo/public/\";')
 Affected rows: 1
 Execution Time: 3.318 ms

*** Query: 2025-07-30 08:49:06 +07 *******************
SELECT RELEASE_LOCK('544d53b047586a14572ee08e4ae1bb9b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT GET_LOCK('544d53b047586a14572ee08e4ae1bb9b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.057 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.348 ms

*** Query: 2025-07-30 08:49:18 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.987 ms

*** Query: 2025-07-30 08:49:18 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 08:49:18 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'admin'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.448 ms

*** Query: 2025-07-30 08:49:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753840146;_ci_previous_url|s:39:\"https://eatmaja.co.id/ppos_demo/public/\";person_id|s:1:\"1\";'
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.717 ms

*** Query: 2025-07-30 08:49:18 +07 *******************
SELECT RELEASE_LOCK('544d53b047586a14572ee08e4ae1bb9b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT GET_LOCK('544d53b047586a14572ee08e4ae1bb9b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.163 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.467 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.42 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.359 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.325 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.46 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.939 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 01:49:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 08:49:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753840146;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.398 ms

*** Query: 2025-07-30 08:49:18 +07 *******************
SELECT RELEASE_LOCK('544d53b047586a14572ee08e4ae1bb9b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT GET_LOCK('544d53b047586a14572ee08e4ae1bb9b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.203 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.457 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.027 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 01:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 08:49:28 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753840146;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";'
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.231 ms

*** Query: 2025-07-30 08:49:28 +07 *******************
SELECT RELEASE_LOCK('544d53b047586a14572ee08e4ae1bb9b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT GET_LOCK('544d53b047586a14572ee08e4ae1bb9b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.186 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.223 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.398 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.105 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 01:49:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.281 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.283 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.445 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.347 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.271 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.434 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c5e9ae9ab2a4bfb1c20d59f8d4a2965e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.082 ms

*** Query: 2025-07-30 08:49:44 +07 *******************
SELECT RELEASE_LOCK('544d53b047586a14572ee08e4ae1bb9b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 03:36:01 UTC *******************
SELECT GET_LOCK('1d39ca602a0a562933bca8d2e981be56', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.579 ms

*** Query: 2025-07-30 03:36:01 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.514 ms

*** Query: 2025-07-30 03:36:01 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.65 ms

*** Query: 2025-07-30 03:36:01 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.221 ms

*** Query: 2025-07-30 03:36:01 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.88 ms

*** Query: 2025-07-30 10:36:01 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 1.172 ms

*** Query: 2025-07-30 10:36:01 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.881 ms

*** Query: 2025-07-30 10:36:01 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:c45a79a8993e52297613a0fa9c7069ac', '171.14.0.1', '__ci_last_regenerate|i:1753846561;_ci_previous_url|s:39:\"https://eatmaja.co.id/ppos_demo/public/\";')
 Affected rows: 1
 Execution Time: 2.077 ms

*** Query: 2025-07-30 10:36:01 +07 *******************
SELECT RELEASE_LOCK('1d39ca602a0a562933bca8d2e981be56') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT GET_LOCK('1d39ca602a0a562933bca8d2e981be56', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.39 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.076 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.216 ms

*** Query: 2025-07-30 10:36:10 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.971 ms

*** Query: 2025-07-30 10:36:10 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.61 ms

*** Query: 2025-07-30 10:36:10 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'admin'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.414 ms

*** Query: 2025-07-30 10:36:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753846561;_ci_previous_url|s:39:\"https://eatmaja.co.id/ppos_demo/public/\";person_id|s:1:\"1\";'
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.864 ms

*** Query: 2025-07-30 10:36:10 +07 *******************
SELECT RELEASE_LOCK('1d39ca602a0a562933bca8d2e981be56') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT GET_LOCK('1d39ca602a0a562933bca8d2e981be56', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.406 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.238 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.447 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.004 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 03:36:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 10:36:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753846561;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.046 ms

*** Query: 2025-07-30 10:36:10 +07 *******************
SELECT RELEASE_LOCK('1d39ca602a0a562933bca8d2e981be56') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT GET_LOCK('1d39ca602a0a562933bca8d2e981be56', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.208 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.566 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.174 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 03:36:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 10:36:31 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753846561;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";'
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 16.742 ms

*** Query: 2025-07-30 10:36:31 +07 *******************
SELECT RELEASE_LOCK('1d39ca602a0a562933bca8d2e981be56') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT GET_LOCK('1d39ca602a0a562933bca8d2e981be56', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.172 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.21 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.425 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.354 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 03:36:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.219 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.285 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.43 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.293 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.275 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.085 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.007 ms

*** Query: 2025-07-30 10:36:33 +07 *******************
SELECT RELEASE_LOCK('1d39ca602a0a562933bca8d2e981be56') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT GET_LOCK('1d39ca602a0a562933bca8d2e981be56', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.406 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.562 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.466 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.377 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.279 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.515 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.128 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 03:39:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.231 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.231 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.285 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.261 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.217 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.376 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.735 ms

*** Query: 2025-07-30 10:39:05 +07 *******************
SELECT RELEASE_LOCK('1d39ca602a0a562933bca8d2e981be56') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT GET_LOCK('1d39ca602a0a562933bca8d2e981be56', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.402 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c45a79a8993e52297613a0fa9c7069ac'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.983 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT RELEASE_LOCK('1d39ca602a0a562933bca8d2e981be56') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT GET_LOCK('061c9d90b17122b126b03d32713626dd', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.15 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.224 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.49 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.412 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.498 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.515 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.151 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.377 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.405 ms

*** Query: 2025-07-30 03:41:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.2 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.199 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.571 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.246 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.228 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.488 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.484 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:fd18b6384725501eeddc60c78b2446f7', '171.14.0.1', '__ci_last_regenerate|i:1753846890;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";')
 Affected rows: 1
 Execution Time: 2.849 ms

*** Query: 2025-07-30 10:41:30 +07 *******************
SELECT RELEASE_LOCK('061c9d90b17122b126b03d32713626dd') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT GET_LOCK('061c9d90b17122b126b03d32713626dd', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.155 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.432 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.267 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.718 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.132 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.419 ms

*** Query: 2025-07-30 03:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'company'
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'company', `value` = 'Persona Point Of Sales'
WHERE `ospos_app_config`.`key` IN ('company')
 Affected rows: 0
 Execution Time: 0.241 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.281 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'address'
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'address', `value` = 'Jakarta'
WHERE `ospos_app_config`.`key` IN ('address')
 Affected rows: 0
 Execution Time: 0.381 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.366 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'phone'
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'phone', `value` = '000-000-0000'
WHERE `ospos_app_config`.`key` IN ('phone')
 Affected rows: 0
 Execution Time: 0.252 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.403 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'email'
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'email', `value` = 'ganti@domain.co.id'
WHERE `ospos_app_config`.`key` IN ('email')
 Affected rows: 0
 Execution Time: 0.24 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.285 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'fax'
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'fax', `value` = ''
WHERE `ospos_app_config`.`key` IN ('fax')
 Affected rows: 0
 Execution Time: 0.225 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.46 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'website'
 Affected rows: 1
 Execution Time: 0.497 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'website', `value` = ''
WHERE `ospos_app_config`.`key` IN ('website')
 Affected rows: 0
 Execution Time: 0.327 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.39 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'return_policy'
 Affected rows: 1
 Execution Time: 0.373 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'return_policy', `value` = 'Terimakasih'
WHERE `ospos_app_config`.`key` IN ('return_policy')
 Affected rows: 0
 Execution Time: 0.284 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.529 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'company_logo'
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'company_logo', `value` = 'logo_frontaccounting.jpg'
WHERE `ospos_app_config`.`key` IN ('company_logo')
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.438 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.256 ms

*** Query: 2025-07-30 10:41:45 +07 *******************
SELECT RELEASE_LOCK('061c9d90b17122b126b03d32713626dd') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT GET_LOCK('061c9d90b17122b126b03d32713626dd', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.401 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.27 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.491 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.232 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.282 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 03:42:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.209 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.185 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.206 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.248 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.225 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 10:42:58 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.471 ms

*** Query: 2025-07-30 10:42:59 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.302 ms

*** Query: 2025-07-30 10:42:59 +07 *******************
SELECT RELEASE_LOCK('061c9d90b17122b126b03d32713626dd') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT GET_LOCK('061c9d90b17122b126b03d32713626dd', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.233 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.443 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.901 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.192 ms

*** Query: 2025-07-30 03:43:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'company'
 Affected rows: 1
 Execution Time: 0.188 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'company', `value` = 'Persona Point Of Sales'
WHERE `ospos_app_config`.`key` IN ('company')
 Affected rows: 0
 Execution Time: 0.194 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.24 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'address'
 Affected rows: 1
 Execution Time: 0.175 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'address', `value` = 'Jakarta'
WHERE `ospos_app_config`.`key` IN ('address')
 Affected rows: 0
 Execution Time: 0.151 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.216 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'phone'
 Affected rows: 1
 Execution Time: 0.139 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'phone', `value` = '000-000-0000'
WHERE `ospos_app_config`.`key` IN ('phone')
 Affected rows: 0
 Execution Time: 0.137 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.189 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'email'
 Affected rows: 1
 Execution Time: 0.151 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'email', `value` = 'ganti@domain.co.id'
WHERE `ospos_app_config`.`key` IN ('email')
 Affected rows: 0
 Execution Time: 0.14 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.198 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'fax'
 Affected rows: 1
 Execution Time: 0.152 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'fax', `value` = ''
WHERE `ospos_app_config`.`key` IN ('fax')
 Affected rows: 0
 Execution Time: 0.134 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.192 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'website'
 Affected rows: 1
 Execution Time: 0.141 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'website', `value` = ''
WHERE `ospos_app_config`.`key` IN ('website')
 Affected rows: 0
 Execution Time: 0.143 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.188 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'return_policy'
 Affected rows: 1
 Execution Time: 0.142 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'return_policy', `value` = 'Terimakasih'
WHERE `ospos_app_config`.`key` IN ('return_policy')
 Affected rows: 0
 Execution Time: 0.137 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.196 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 6.116 ms

*** Query: 2025-07-30 10:43:03 +07 *******************
SELECT RELEASE_LOCK('061c9d90b17122b126b03d32713626dd') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT GET_LOCK('061c9d90b17122b126b03d32713626dd', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.205 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.359 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.237 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.501 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.186 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.415 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 10:43:33 +07 *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:fd18b6384725501eeddc60c78b2446f7'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.493 ms

*** Query: 2025-07-30 10:43:33 +07 *******************
SELECT RELEASE_LOCK('061c9d90b17122b126b03d32713626dd') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT GET_LOCK('344ffcf1c5c7baedabb0842c9ff6022b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.178 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.228 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.083 ms

*** Query: 2025-07-30 03:43:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 10:43:33 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.955 ms

*** Query: 2025-07-30 10:43:33 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.415 ms

*** Query: 2025-07-30 10:43:33 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086', '171.14.0.1', '__ci_last_regenerate|i:1753847013;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";')
 Affected rows: 1
 Execution Time: 3.928 ms

*** Query: 2025-07-30 10:43:33 +07 *******************
SELECT RELEASE_LOCK('344ffcf1c5c7baedabb0842c9ff6022b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT GET_LOCK('344ffcf1c5c7baedabb0842c9ff6022b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.636 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.066 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 10:43:38 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.75 ms

*** Query: 2025-07-30 10:43:38 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 10:43:38 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'admin'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.394 ms

*** Query: 2025-07-30 10:43:38 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847013;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";person_id|s:1:\"1\";'
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.509 ms

*** Query: 2025-07-30 10:43:38 +07 *******************
SELECT RELEASE_LOCK('344ffcf1c5c7baedabb0842c9ff6022b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.432 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT GET_LOCK('344ffcf1c5c7baedabb0842c9ff6022b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.188 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.428 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.895 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 03:43:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 10:43:38 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847013;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.866 ms

*** Query: 2025-07-30 10:43:38 +07 *******************
SELECT RELEASE_LOCK('344ffcf1c5c7baedabb0842c9ff6022b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT GET_LOCK('344ffcf1c5c7baedabb0842c9ff6022b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.451 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.273 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.434 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.013 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 03:43:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 10:43:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847013;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";'
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 9.295 ms

*** Query: 2025-07-30 10:43:41 +07 *******************
SELECT RELEASE_LOCK('344ffcf1c5c7baedabb0842c9ff6022b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT GET_LOCK('344ffcf1c5c7baedabb0842c9ff6022b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 1.681 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.235 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.213 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.407 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.006 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.188 ms

*** Query: 2025-07-30 03:43:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.184 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.161 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.149 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.144 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.185 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.158 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.156 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.15 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.443 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847013;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";'
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.557 ms

*** Query: 2025-07-30 10:43:43 +07 *******************
SELECT RELEASE_LOCK('344ffcf1c5c7baedabb0842c9ff6022b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT GET_LOCK('344ffcf1c5c7baedabb0842c9ff6022b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.392 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.445 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.399 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.358 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.79 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.286 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.394 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 03:43:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 10:43:52 +07 *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:29f3fbaa8a129c2f74ec1e4d6a7f9086'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.78 ms

*** Query: 2025-07-30 10:43:52 +07 *******************
SELECT RELEASE_LOCK('344ffcf1c5c7baedabb0842c9ff6022b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 03:43:53 UTC *******************
SELECT GET_LOCK('5800f1bd49e0e189f8f13df29fb9fc2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 03:43:53 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:39bc79002f82dd00131b4438725512b0'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.297 ms

*** Query: 2025-07-30 03:43:53 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.942 ms

*** Query: 2025-07-30 03:43:53 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 10:43:53 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.945 ms

*** Query: 2025-07-30 10:43:53 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 10:43:53 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:39bc79002f82dd00131b4438725512b0', '171.14.0.1', '__ci_last_regenerate|i:1753847033;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";')
 Affected rows: 1
 Execution Time: 2.373 ms

*** Query: 2025-07-30 10:43:53 +07 *******************
SELECT RELEASE_LOCK('5800f1bd49e0e189f8f13df29fb9fc2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT GET_LOCK('5800f1bd49e0e189f8f13df29fb9fc2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:39bc79002f82dd00131b4438725512b0'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 6.351 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:39bc79002f82dd00131b4438725512b0'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.867 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT RELEASE_LOCK('5800f1bd49e0e189f8f13df29fb9fc2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.509 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT GET_LOCK('e4c48511ceaca39c2fb1b56bac4692fe', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.725 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 1.271 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 2.518 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.23 ms

*** Query: 2025-07-30 10:56:59 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 1.733 ms

*** Query: 2025-07-30 10:56:59 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.496 ms

*** Query: 2025-07-30 10:56:59 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'admin'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 10.997 ms

*** Query: 2025-07-30 10:56:59 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:caadd5892e06b8f4af5cb36d324af016', '171.14.0.1', '__ci_last_regenerate|i:1753847819;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";person_id|s:1:\"1\";')
 Affected rows: 1
 Execution Time: 1.938 ms

*** Query: 2025-07-30 10:56:59 +07 *******************
SELECT RELEASE_LOCK('e4c48511ceaca39c2fb1b56bac4692fe') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.38 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT GET_LOCK('e4c48511ceaca39c2fb1b56bac4692fe', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.36 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 8.558 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 1.501 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 1.649 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 1.729 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.318 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.47 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.44 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.42 ms

*** Query: 2025-07-30 03:56:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 10:56:59 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847819;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.494 ms

*** Query: 2025-07-30 10:56:59 +07 *******************
SELECT RELEASE_LOCK('e4c48511ceaca39c2fb1b56bac4692fe') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT GET_LOCK('e4c48511ceaca39c2fb1b56bac4692fe', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.43 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.442 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.527 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.271 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.695 ms

*** Query: 2025-07-30 03:57:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 10:57:08 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847819;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";'
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.118775 s

*** Query: 2025-07-30 10:57:08 +07 *******************
SELECT RELEASE_LOCK('e4c48511ceaca39c2fb1b56bac4692fe') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.689 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT GET_LOCK('e4c48511ceaca39c2fb1b56bac4692fe', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.167 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.501 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.261 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.454 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.262 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.031 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.711 ms

*** Query: 2025-07-30 03:57:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 2.473 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 1.333 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 1.354 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 2.152 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 1.254 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 1.391 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.587 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847819;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";'
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.405 ms

*** Query: 2025-07-30 10:57:10 +07 *******************
SELECT RELEASE_LOCK('e4c48511ceaca39c2fb1b56bac4692fe') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT GET_LOCK('e4c48511ceaca39c2fb1b56bac4692fe', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.422 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.76 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.301 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.283 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.667 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.505 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 03:58:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.247 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.263 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.241 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.217 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.185 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.539 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.276 ms

*** Query: 2025-07-30 10:58:51 +07 *******************
SELECT RELEASE_LOCK('e4c48511ceaca39c2fb1b56bac4692fe') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT GET_LOCK('e4c48511ceaca39c2fb1b56bac4692fe', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.535 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.057 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.445 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.395 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.856 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.764 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.535 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 10:59:27 +07 *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:caadd5892e06b8f4af5cb36d324af016'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.217 ms

*** Query: 2025-07-30 10:59:27 +07 *******************
SELECT RELEASE_LOCK('e4c48511ceaca39c2fb1b56bac4692fe') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.376 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.355 ms

*** Query: 2025-07-30 03:59:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.525 ms

*** Query: 2025-07-30 10:59:27 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 1.044 ms

*** Query: 2025-07-30 10:59:27 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.694 ms

*** Query: 2025-07-30 10:59:28 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:1c94fa5829b7908b74bd10e899d92484', '171.14.0.1', '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";')
 Affected rows: 1
 Execution Time: 2.753 ms

*** Query: 2025-07-30 10:59:28 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.431 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.633 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.428 ms

*** Query: 2025-07-30 10:59:36 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 1.16 ms

*** Query: 2025-07-30 10:59:36 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.652 ms

*** Query: 2025-07-30 10:59:36 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'sales01'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.501 ms

*** Query: 2025-07-30 10:59:36 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";person_id|s:1:\"3\";'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.236 ms

*** Query: 2025-07-30 10:59:36 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.147 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.205 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.337 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.099 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 03:59:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.17 ms

*** Query: 2025-07-30 10:59:36 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"3\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.405 ms

*** Query: 2025-07-30 10:59:36 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.159 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.428 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.495 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.428 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.581 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.797 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.452 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.45 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.416 ms

*** Query: 2025-07-30 03:59:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.441 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.714 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.577 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.909 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.282 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.095 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 1.061 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.305 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.211 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.972 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.448 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.549 ms

*** Query: 2025-07-30 10:59:39 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.205 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.38 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.502 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.422 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.486 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.509 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.392 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.334 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 03:59:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 10:59:44 +07 *******************
SELECT `item_id`, `name`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `name` LIKE '%ite%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 1
 Execution Time: 1.047 ms

*** Query: 2025-07-30 10:59:44 +07 *******************
SELECT `item_id`, `item_number`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `item_number` LIKE '%ite%' ESCAPE '!'
ORDER BY `item_number` ASC
 Affected rows: 0
 Execution Time: 0.494 ms

*** Query: 2025-07-30 10:59:44 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `name` LIKE '%ite%' ESCAPE '!'
OR  `item_kit_number` LIKE '%ite%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 0
 Execution Time: 2.183 ms

*** Query: 2025-07-30 10:59:44 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.722 ms

*** Query: 2025-07-30 10:59:44 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.384 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 1.575 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.445 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.643 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.574 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.568 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 1.159 ms

*** Query: 2025-07-30 03:59:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.69 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `item_kit_number` = '1'
 Affected rows: 0
 Execution Time: 0.582 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
AND `ospos_items`.`deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.527 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` IS NULL
AND `receiving_id` IS NULL
 Affected rows: 1
 Execution Time: 3.825 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.582 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.451 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.577 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.468 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.238 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.893 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.892 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.869 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.406 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.273 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.21 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.359 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/sales/add\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:1:\"1\";s:8:\"discount\";s:1:\"0\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:5:\"9.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.962 ms

*** Query: 2025-07-30 10:59:46 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.492 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.498 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.524 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.499 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.388 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.537 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.554 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.8 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.405 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%g%' ESCAPE '!'
OR  `last_name` LIKE '%g%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%g%' ESCAPE '!'
OR  `email` LIKE '%g%' ESCAPE '!'
OR  `phone_number` LIKE '%g%' ESCAPE '!'
OR  `company_name` LIKE '%g%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `last_name` ASC
 Affected rows: 1
 Execution Time: 0.774 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.522 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.529 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.466 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.367 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.498 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.359 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.36 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.526 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.462 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%gu%' ESCAPE '!'
OR  `last_name` LIKE '%gu%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%gu%' ESCAPE '!'
OR  `email` LIKE '%gu%' ESCAPE '!'
OR  `phone_number` LIKE '%gu%' ESCAPE '!'
OR  `company_name` LIKE '%gu%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `last_name` ASC
 Affected rows: 1
 Execution Time: 0.594 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.394 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.554 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.423 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.605 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.486 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.459 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.596 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.392 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.479 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.647 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 03:59:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%gue%' ESCAPE '!'
OR  `last_name` LIKE '%gue%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%gue%' ESCAPE '!'
OR  `email` LIKE '%gue%' ESCAPE '!'
OR  `phone_number` LIKE '%gue%' ESCAPE '!'
OR  `company_name` LIKE '%gue%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `last_name` ASC
 Affected rows: 1
 Execution Time: 0.713 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 2.519 ms

*** Query: 2025-07-30 10:59:54 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.334 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.553 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.342 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.368 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 03:59:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_id)) ENGINE=MEMORY (SELECT `ospos_sales`.`sale_id` AS `sale_id`, AVG(`ospos_sales_items`.`discount`) AS avg_discount, SUM(`ospos_sales_items`.`quantity_purchased`) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `ospos_sales`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
GROUP BY `sale_id`)
 Affected rows: 1
 Execution Time: 1.13 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
 Affected rows: 1
 Execution Time: 0.882 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
DROP TEMPORARY TABLE IF EXISTS ospos_sales_items_temp
 Affected rows: 0
 Execution Time: 0.244 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.359 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.501 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.276 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.341 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.449 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:59:\"https://eatmaja.co.id/ppos_demo/public/sales/selectCustomer\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:1:\"1\";s:8:\"discount\";s:4:\"0.00\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:5:\"9.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.556 ms

*** Query: 2025-07-30 10:59:55 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.423 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.459 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.418 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.521 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.105 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.358 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:00:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.533 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
INSERT INTO `ospos_sales` (`sale_time`, `customer_id`, `employee_id`, `comment`, `sale_status`, `invoice_number`, `quote_number`, `work_order_number`, `dinner_table_id`, `sale_type`) VALUES ('2025-07-30 11:00:20', 2, 3, '', '1', NULL, NULL, NULL, 1, 0)
 Affected rows: 1
 Execution Time: 0.417 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.363 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.548 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
INSERT INTO `ospos_sales_items` (`sale_id`, `item_id`, `line`, `description`, `serialnumber`, `quantity_purchased`, `discount`, `discount_type`, `item_cost_price`, `item_unit_price`, `item_location`, `print_option`) VALUES (2, '1', 1, '', '', '1', '0.00', 0, '100000.00', '100000.00', 1, 0)
 Affected rows: 1
 Execution Time: 0.437 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
INSERT IGNORE INTO `ospos_attribute_links` (`item_id`, `definition_id`, `attribute_id`, `sale_id`)
SELECT 1, definition_id, attribute_id, 2 FROM ospos_attribute_links WHERE item_id = 1 AND sale_id IS NULL AND receiving_id IS NULL
 Affected rows: 0
 Execution Time: 0.549 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.65 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.667 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.309 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.841 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.816 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:52:\"https://eatmaja.co.id/ppos_demo/public/sales/suspend\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.242 ms

*** Query: 2025-07-30 11:00:20 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.181 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.359 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.029 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:00:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.326 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.469 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.317 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.837 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.735 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.199 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.18 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.419 ms

*** Query: 2025-07-30 11:00:29 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.58 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.373 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.07 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:00:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.731 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.192 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.931 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.901 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.384 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.178 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:12:\"sale_invoice\";dinner_table|i:1;sale_type|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.564 ms

*** Query: 2025-07-30 11:00:34 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.169 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.43 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.196 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:00:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.186 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.368 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.789 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.355 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.188 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.845 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.81 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.247 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.198 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.351 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:10:\"sale_quote\";dinner_table|i:1;sale_type|i:3;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.747 ms

*** Query: 2025-07-30 11:00:36 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.507 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.378 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.113 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.384 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:00:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.398 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.361 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.883 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.803 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.211 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.455 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.9 ms

*** Query: 2025-07-30 11:00:40 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.156 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.999 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:00:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:00:46 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 11:00:46 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.522 ms

*** Query: 2025-07-30 11:00:46 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.415 ms

*** Query: 2025-07-30 11:00:46 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/manage\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.039 ms

*** Query: 2025-07-30 11:00:46 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.406 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.53 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.08 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 04:00:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 1.053 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 1.051 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.804 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.31 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.176 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.407 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.575 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.304 ms

*** Query: 2025-07-30 11:00:48 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.176 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.384 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.484 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.989 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:00:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.378 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.528 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.388 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.251 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.859 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.728 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.358 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.332 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.374 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.013 ms

*** Query: 2025-07-30 11:00:51 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.443 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.975 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 04:00:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:00:53 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 11:00:53 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.127 ms

*** Query: 2025-07-30 11:00:53 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.353 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.944 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.192 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 04:01:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.155 ms

*** Query: 2025-07-30 11:01:08 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.177 ms

*** Query: 2025-07-30 11:01:08 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.318 ms

*** Query: 2025-07-30 11:01:08 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.395 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.397 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.463 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.355 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:01:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:01:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 11:01:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 11:01:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.464 ms

*** Query: 2025-07-30 11:01:20 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/manage\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.174 ms

*** Query: 2025-07-30 11:01:20 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.421 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.377 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.473 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.2 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:01:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.465 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 1.12 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 1.499 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.746 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.301 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.454 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.517 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.533 ms

*** Query: 2025-07-30 11:01:21 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.41 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.774 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.975 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:01:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.977 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.51 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.622 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.2 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.165 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
AND `invoice_number` IS NOT NULL
AND  `payment_type` LIKE '%Cash%' ESCAPE '!'
AND  `payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payment_type` LIKE '%Check%' ESCAPE '!'
AND  `payment_type` LIKE '%Credit Card%' ESCAPE '!'
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.439 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.014 ms

*** Query: 2025-07-30 11:01:32 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.19 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.344 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.984 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.272 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:01:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.367 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.533 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.405 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.999 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 1.201 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 1.039 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.332 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.204 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.498 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.275 ms

*** Query: 2025-07-30 11:01:41 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.499 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.454 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.59 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.029 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.601 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.91 ms

*** Query: 2025-07-30 04:01:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:01:47 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.905 ms

*** Query: 2025-07-30 11:01:47 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.508 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.568 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.986 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:01:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.362 ms

*** Query: 2025-07-30 11:01:51 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 11:01:51 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.212 ms

*** Query: 2025-07-30 11:01:51 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.918 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.427 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.009 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%g%' ESCAPE '!'
OR  `last_name` LIKE '%g%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%g%' ESCAPE '!'
OR  `email` LIKE '%g%' ESCAPE '!'
OR  `phone_number` LIKE '%g%' ESCAPE '!'
OR  `company_name` LIKE '%g%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `last_name` ASC
 Affected rows: 1
 Execution Time: 0.507 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.989 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.377 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.185 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.436 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.991 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%gu%' ESCAPE '!'
OR  `last_name` LIKE '%gu%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%gu%' ESCAPE '!'
OR  `email` LIKE '%gu%' ESCAPE '!'
OR  `phone_number` LIKE '%gu%' ESCAPE '!'
OR  `company_name` LIKE '%gu%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `last_name` ASC
 Affected rows: 1
 Execution Time: 0.435 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.684 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.662 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.443 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.993 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:02:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%gue%' ESCAPE '!'
OR  `last_name` LIKE '%gue%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%gue%' ESCAPE '!'
OR  `email` LIKE '%gue%' ESCAPE '!'
OR  `phone_number` LIKE '%gue%' ESCAPE '!'
OR  `company_name` LIKE '%gue%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `last_name` ASC
 Affected rows: 1
 Execution Time: 0.439 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.474 ms

*** Query: 2025-07-30 11:02:25 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.138 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.354 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.918 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 04:02:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.2 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_id)) ENGINE=MEMORY (SELECT `ospos_sales`.`sale_id` AS `sale_id`, AVG(`ospos_sales_items`.`discount`) AS avg_discount, SUM(`ospos_sales_items`.`quantity_purchased`) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `ospos_sales`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
GROUP BY `sale_id`)
 Affected rows: 2
 Execution Time: 0.631 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
 Affected rows: 1
 Execution Time: 0.551 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
DROP TEMPORARY TABLE IF EXISTS ospos_sales_items_temp
 Affected rows: 0
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.364 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.461 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.202 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.205 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.178 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.448 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:59:\"https://eatmaja.co.id/ppos_demo/public/sales/selectCustomer\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 12.58 ms

*** Query: 2025-07-30 11:02:27 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'items%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 0
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.491 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.17 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.95 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:02:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:02:30 +07 *******************
SELECT *
FROM `ospos_modules`
WHERE `module_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 11:02:30 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.548 ms

*** Query: 2025-07-30 11:02:30 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.194 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.172 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.064 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.432 ms

*** Query: 2025-07-30 04:02:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:02:33 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1 AND customer_id = 2
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 11:02:33 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.714 ms

*** Query: 2025-07-30 11:02:33 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.398 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.483 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.052 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 04:02:49 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.486 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.597 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_id)) ENGINE=MEMORY (SELECT `ospos_sales`.`sale_id` AS `sale_id`, AVG(`ospos_sales_items`.`discount`) AS avg_discount, SUM(`ospos_sales_items`.`quantity_purchased`) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `ospos_sales`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
GROUP BY `sale_id`)
 Affected rows: 2
 Execution Time: 0.725 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
 Affected rows: 1
 Execution Time: 0.663 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
DROP TEMPORARY TABLE IF EXISTS ospos_sales_items_temp
 Affected rows: 0
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.326 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.444 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.328 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.443 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.291 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.573 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 4.105 ms

*** Query: 2025-07-30 11:02:49 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.44 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.42 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.098 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:02:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 11:02:51 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1 AND customer_id = 2
 Affected rows: 1
 Execution Time: 0.533 ms

*** Query: 2025-07-30 11:02:51 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.914 ms

*** Query: 2025-07-30 11:02:51 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.542 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.384 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.366 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.467 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.112 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:02:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 11:02:54 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
 Affected rows: 11
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:02:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:46:\"https://eatmaja.co.id/ppos_demo/public/reports\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.311 ms

*** Query: 2025-07-30 11:02:54 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.442 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.36 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.759 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 1.862 ms

*** Query: 2025-07-30 04:02:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.383 ms

*** Query: 2025-07-30 11:02:57 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.486 ms

*** Query: 2025-07-30 11:02:57 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:61:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.796 ms

*** Query: 2025-07-30 11:02:57 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.19 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.93 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:03:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 2
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.509 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.852 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.709 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
SELECT `sale_id`, MAX(CASE
            WHEN sale_type = 0 && sale_status = 0 THEN 'POS'
            WHEN sale_type = 1 && sale_status = 0 THEN 'INV'
            WHEN sale_type = 2 && sale_status = 1 THEN 'W/O'
            WHEN sale_type = 3 && sale_status = 1 THEN 'Q'
            WHEN sale_type = 4 && sale_status = 0 THEN 'RET'
            WHEN sale_status = 2 THEN 'CNL'
            ELSE ''
            END) AS type_code, MAX(sale_status) as sale_status, MAX(sale_time) AS sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(comment) AS comment
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 2
GROUP BY `sale_id`
ORDER BY MAX(sale_time)
 Affected rows: 0
 Execution Time: 0.409 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
SELECT SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 2
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.624 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:98:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales/2025-07-30/2025-07-30/canceled/all/0\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.475 ms

*** Query: 2025-07-30 11:03:03 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.461 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.445 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.238 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.611 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 04:03:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.362 ms

*** Query: 2025-07-30 11:03:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
 Affected rows: 11
 Execution Time: 0.374 ms

*** Query: 2025-07-30 11:03:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:46:\"https://eatmaja.co.id/ppos_demo/public/reports\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.806 ms

*** Query: 2025-07-30 11:03:12 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.163 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.404 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.379 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.947 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:03:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 11:03:14 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.455 ms

*** Query: 2025-07-30 11:03:14 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:61:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.974 ms

*** Query: 2025-07-30 11:03:14 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.226 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 1.26 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.555 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.457 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.466 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.113 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:03:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 2
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.337 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.567 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.735 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.476 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
SELECT `sale_id`, MAX(CASE
            WHEN sale_type = 0 && sale_status = 0 THEN 'POS'
            WHEN sale_type = 1 && sale_status = 0 THEN 'INV'
            WHEN sale_type = 2 && sale_status = 1 THEN 'W/O'
            WHEN sale_type = 3 && sale_status = 1 THEN 'Q'
            WHEN sale_type = 4 && sale_status = 0 THEN 'RET'
            WHEN sale_status = 2 THEN 'CNL'
            ELSE ''
            END) AS type_code, MAX(sale_status) as sale_status, MAX(sale_time) AS sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(comment) AS comment
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 1
AND `sale_type` = 3
GROUP BY `sale_id`
ORDER BY MAX(sale_time)
 Affected rows: 0
 Execution Time: 0.454 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
SELECT SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 1
AND `sale_type` = 3
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.398 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:96:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales/2025-07-30/2025-07-30/quotes/all/0\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.952 ms

*** Query: 2025-07-30 11:03:21 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 1.134 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.545 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.225 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.373 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.499 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:03:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.504 ms

*** Query: 2025-07-30 11:03:23 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
 Affected rows: 11
 Execution Time: 0.274 ms

*** Query: 2025-07-30 11:03:23 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:46:\"https://eatmaja.co.id/ppos_demo/public/reports\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.922 ms

*** Query: 2025-07-30 11:03:23 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.178 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.552 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.994 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.348 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 04:03:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.334 ms

*** Query: 2025-07-30 11:03:26 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.531 ms

*** Query: 2025-07-30 11:03:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:61:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.413 ms

*** Query: 2025-07-30 11:03:26 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 7
 Execution Time: 0.353 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.488 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.388 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.999 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:03:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 2
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.397 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.567 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.791 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.294 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
SELECT `sale_id`, MAX(CASE
            WHEN sale_type = 0 && sale_status = 0 THEN 'POS'
            WHEN sale_type = 1 && sale_status = 0 THEN 'INV'
            WHEN sale_type = 2 && sale_status = 1 THEN 'W/O'
            WHEN sale_type = 3 && sale_status = 1 THEN 'Q'
            WHEN sale_type = 4 && sale_status = 0 THEN 'RET'
            WHEN sale_status = 2 THEN 'CNL'
            ELSE ''
            END) AS type_code, MAX(sale_status) as sale_status, MAX(sale_time) AS sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(comment) AS comment
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 0
AND `sale_type` = 4
GROUP BY `sale_id`
ORDER BY MAX(sale_time)
 Affected rows: 0
 Execution Time: 0.431 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
SELECT SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 0
AND `sale_type` = 4
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753847967;_ci_previous_url|s:97:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales/2025-07-30/2025-07-30/returns/all/0\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:2;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.682 ms

*** Query: 2025-07-30 11:03:30 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT GET_LOCK('9096d0824aa85c354e3a8c04dcb04344', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.466 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.015 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 11:03:33 +07 *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:1c94fa5829b7908b74bd10e899d92484'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.729 ms

*** Query: 2025-07-30 11:03:33 +07 *******************
SELECT RELEASE_LOCK('9096d0824aa85c354e3a8c04dcb04344') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT GET_LOCK('b2128a78f0e9c22d1bd59f3251fa2769', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.929 ms

*** Query: 2025-07-30 04:03:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:03:33 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.884 ms

*** Query: 2025-07-30 11:03:33 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.44 ms

*** Query: 2025-07-30 11:03:33 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:cad258015d65f4a744062eac65ead756', '171.14.0.1', '__ci_last_regenerate|i:1753848213;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";')
 Affected rows: 1
 Execution Time: 7.728 ms

*** Query: 2025-07-30 11:03:33 +07 *******************
SELECT RELEASE_LOCK('b2128a78f0e9c22d1bd59f3251fa2769') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 04:03:44 UTC *******************
SELECT GET_LOCK('b2128a78f0e9c22d1bd59f3251fa2769', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 04:03:44 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:03:44 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.049 ms

*** Query: 2025-07-30 04:03:44 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 11:03:44 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.854 ms

*** Query: 2025-07-30 11:03:44 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 11:03:44 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'sales01'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 11:03:44 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848213;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";person_id|s:1:\"3\";'
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.298 ms

*** Query: 2025-07-30 11:03:44 +07 *******************
SELECT RELEASE_LOCK('b2128a78f0e9c22d1bd59f3251fa2769') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT GET_LOCK('b2128a78f0e9c22d1bd59f3251fa2769', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.358 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.903 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:03:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:03:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848213;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"3\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.784 ms

*** Query: 2025-07-30 11:03:45 +07 *******************
SELECT RELEASE_LOCK('b2128a78f0e9c22d1bd59f3251fa2769') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT GET_LOCK('b2128a78f0e9c22d1bd59f3251fa2769', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.527 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.401 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.433 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.132 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.454 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.53 ms

*** Query: 2025-07-30 04:03:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.338 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.607 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '3'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.481 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.458 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.257 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.892 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.862 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.24 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.438 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.462 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 3
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848213;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"3\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.843 ms

*** Query: 2025-07-30 11:03:47 +07 *******************
SELECT RELEASE_LOCK('b2128a78f0e9c22d1bd59f3251fa2769') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT GET_LOCK('b2128a78f0e9c22d1bd59f3251fa2769', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.376 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 2
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.475 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.184 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:03:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 11:03:52 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:03:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.904 ms

*** Query: 2025-07-30 11:03:52 +07 *******************
SELECT RELEASE_LOCK('b2128a78f0e9c22d1bd59f3251fa2769') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT GET_LOCK('b2128a78f0e9c22d1bd59f3251fa2769', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.15 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 0.41 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.014 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.19 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:03:54 +07 *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:cad258015d65f4a744062eac65ead756'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.052 ms

*** Query: 2025-07-30 11:03:54 +07 *******************
SELECT RELEASE_LOCK('b2128a78f0e9c22d1bd59f3251fa2769') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.186 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.981 ms

*** Query: 2025-07-30 04:03:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 11:03:54 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.869 ms

*** Query: 2025-07-30 11:03:54 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 11:03:54 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:d84c12886848741b69f10384b4549191', '171.14.0.1', '__ci_last_regenerate|i:1753848234;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";')
 Affected rows: 1
 Execution Time: 2.873 ms

*** Query: 2025-07-30 11:03:54 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.09 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 11:04:00 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 0.904 ms

*** Query: 2025-07-30 11:04:00 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.285 ms

*** Query: 2025-07-30 11:04:00 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'admin'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.609 ms

*** Query: 2025-07-30 11:04:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848234;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/login\";person_id|s:1:\"1\";'
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.818 ms

*** Query: 2025-07-30 11:04:00 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.362 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.5 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.705 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.4 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.399 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.613 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.055 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:04:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:04:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848234;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.962 ms

*** Query: 2025-07-30 11:04:00 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.412 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.461 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.995 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:04:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.387 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.169 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.822 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.66 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.474 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.438 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848234;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 5.217 ms

*** Query: 2025-07-30 11:04:03 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.493 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.368 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.475 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.365 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.594 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.22 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:04:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 11:04:04 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 11:04:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.229 ms

*** Query: 2025-07-30 11:04:04 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.463 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.46 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.944 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:04:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.006 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 2
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.242 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.387 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.347 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.194 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.921 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.705 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848234;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.665 ms

*** Query: 2025-07-30 11:04:09 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.162 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.456 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.363 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.366 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.637 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.921 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.43 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:04:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:04:10 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:04:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.536 ms

*** Query: 2025-07-30 11:04:10 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.55 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.021 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.694 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.456 ms

*** Query: 2025-07-30 04:04:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:04:18 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.779 ms

*** Query: 2025-07-30 11:04:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.823 ms

*** Query: 2025-07-30 11:04:18 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.185 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.363 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.41 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.299 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.561 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.128 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:07:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 11:07:04 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 11:07:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.63 ms

*** Query: 2025-07-30 11:07:04 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.409 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.435 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.451 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.035 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.184 ms

*** Query: 2025-07-30 04:08:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 11:08:07 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 11:08:07 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.693 ms

*** Query: 2025-07-30 11:08:07 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.164 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.151 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.387 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.415 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.892 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:08:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:08:39 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 11:08:39 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.823 ms

*** Query: 2025-07-30 11:08:39 +07 *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT GET_LOCK('a8ca4120c19a5ed463fec431a2cd7645', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.188 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:d84c12886848741b69f10384b4549191'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.666 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT RELEASE_LOCK('a8ca4120c19a5ed463fec431a2cd7645') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.484 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.377 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.555 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.213 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:09:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 11:09:21 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:09:21 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 11:09:21 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 11:09:21 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:9a30aa0dff258620c374635c9634bd67', '171.14.0.1', '__ci_last_regenerate|i:1753848561;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 2.832 ms

*** Query: 2025-07-30 11:09:21 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.145 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.478 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.001 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:09:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.942 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.579 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.714 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.257 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.206 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.349 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.727 ms

*** Query: 2025-07-30 11:09:22 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.566 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.518 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.787 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.318 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.55 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.866 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.99 ms

*** Query: 2025-07-30 04:09:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.864 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.545 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.717 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.309 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.374 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.49 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.453 ms

*** Query: 2025-07-30 11:09:43 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.175 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.489 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.978 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 04:09:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.817 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.627 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.676 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.228 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.218 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.427 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
AND `invoice_number` IS NOT NULL
AND  `payment_type` LIKE '%Cash%' ESCAPE '!'
AND  `payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payment_type` LIKE '%Check%' ESCAPE '!'
AND  `payment_type` LIKE '%Credit Card%' ESCAPE '!'
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.361 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.556 ms

*** Query: 2025-07-30 11:09:55 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.351 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.562 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.342 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.439 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:11:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 2
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.463 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.557 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.551 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.267 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.199 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 1.098 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.438 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.156 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848561;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 4.498 ms

*** Query: 2025-07-30 11:11:04 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.155 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.38 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.558 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.147 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:11:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:11:12 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 2
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.266 ms

*** Query: 2025-07-30 11:11:12 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.384 ms

*** Query: 2025-07-30 11:11:12 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:11:12 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.158 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.763 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.716 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.152 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.475 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.572 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753848561;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales?debug=true\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.921 ms

*** Query: 2025-07-30 11:11:13 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.143 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.41 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.883 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:11:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.167 ms

*** Query: 2025-07-30 11:11:15 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.181 ms

*** Query: 2025-07-30 11:11:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.098 ms

*** Query: 2025-07-30 11:11:15 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.491 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.45 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.578 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.064 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:19:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:19:42 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 11:19:42 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.823 ms

*** Query: 2025-07-30 11:19:42 +07 *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT GET_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9a30aa0dff258620c374635c9634bd67'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.012 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT RELEASE_LOCK('0a2fe252d2f67bf15c97ea2c9f5e3bb4') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.539 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.318 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.438 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.373 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.445 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.393 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.565 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.065 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.34 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.436 ms

*** Query: 2025-07-30 04:21:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 11:21:52 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa', '171.14.0.1', '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 3.208 ms

*** Query: 2025-07-30 11:21:52 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.596 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.154 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.466 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.945 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:21:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.198 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.325 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.234 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.166 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.39 ms

*** Query: 2025-07-30 11:21:53 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.423 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.436 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.416 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.367 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.5 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.117 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.33 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.276 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.846 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.153 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.357 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.961 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:22:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.194 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.279 ms

*** Query: 2025-07-30 11:22:15 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.147 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.137 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.191 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.416 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.973 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.226 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.404 ms

*** Query: 2025-07-30 04:22:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:22:19 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.246 ms

*** Query: 2025-07-30 11:22:19 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.477 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.462 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.935 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.547 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:22:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.243 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.406 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.274 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.172 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.86 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.84 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.388 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.549 ms

*** Query: 2025-07-30 11:22:20 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.462 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.919 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:22:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 11:22:22 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.542 ms

*** Query: 2025-07-30 11:22:22 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.502 ms

*** Query: 2025-07-30 11:22:22 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.162 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.47 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.981 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:22:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:22:24 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.845 ms

*** Query: 2025-07-30 11:22:24 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.225 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.419 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.948 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:22:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.186 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.365 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.88 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.758 ms

*** Query: 2025-07-30 11:22:26 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.46 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.465 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.321 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.555 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.281 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:22:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 11:22:29 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:22:29 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 0
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 11:22:29 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.312 ms

*** Query: 2025-07-30 11:22:29 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.733 ms

*** Query: 2025-07-30 11:22:29 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.446 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.486 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.13 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:22:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:22:30 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.354 ms

*** Query: 2025-07-30 11:22:30 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.798 ms

*** Query: 2025-07-30 11:22:30 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.183 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.464 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.066 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.192 ms

*** Query: 2025-07-30 04:22:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:22:32 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.778 ms

*** Query: 2025-07-30 11:22:32 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.16 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.474 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.289 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:22:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.473 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.191 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.004 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.97 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.795 ms

*** Query: 2025-07-30 11:22:36 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.601 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.509 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.945 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.383 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:22:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:22:38 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:22:38 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 11:22:38 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:22:38 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.734 ms

*** Query: 2025-07-30 11:22:38 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.75 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.588 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.488 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:22:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 11:22:58 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:22:58 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 11:22:58 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:22:58 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.591 ms

*** Query: 2025-07-30 11:22:58 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.163 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.694 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.064 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.545 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.535 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.964 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:22:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT `sales_items`.`sale_id`, `sales_items`.`item_id`, `sales_items`.`description`, `serialnumber`, `line`, `quantity_purchased`, `item_cost_price`, `item_unit_price`, `discount`, `discount_type`, `item_location`, `print_option`, `items`.`name` AS `name`, `category`, `item_type`, `stock_type`
FROM `ospos_sales_items` AS `sales_items`
JOIN `ospos_items` AS `items` ON `sales_items`.`item_id` = `items`.`item_id`
WHERE `sales_items`.`sale_id` = 2
ORDER BY `line` ASC
 Affected rows: 1
 Execution Time: 0.406 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` = 2
AND definition_flags & 2
 Affected rows: 1
 Execution Time: 0.651 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 2
 Affected rows: 0
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_id)) ENGINE=MEMORY (SELECT `ospos_sales`.`sale_id` AS `sale_id`, AVG(`ospos_sales_items`.`discount`) AS avg_discount, SUM(`ospos_sales_items`.`quantity_purchased`) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `ospos_sales`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
GROUP BY `sale_id`)
 Affected rows: 2
 Execution Time: 0.716 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
 Affected rows: 1
 Execution Time: 0.499 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
DROP TEMPORARY TABLE IF EXISTS ospos_sales_items_temp
 Affected rows: 0
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.473 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = 2
 Affected rows: 1
 Execution Time: 0.402 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.799 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:54:\"https://eatmaja.co.id/ppos_demo/public/sales/unsuspend\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:2;sales_location|i:1;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:5:\"1.000\";s:8:\"discount\";s:4:\"0.00\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:5:\"9.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}cash_mode|i:0;sales_customer|i:2;sales_employee|i:3;sales_quote_number|N;sales_work_order_number|N;sale_type|i:0;sales_comment|s:0:\"\";dinner_table|i:1;sales_mode|s:4:\"sale\";cash_rounding|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.347 ms

*** Query: 2025-07-30 11:22:59 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.956 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.491 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.972 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:23:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.205 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
UPDATE `ospos_sales` SET `sale_status` = 2
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.365 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.441 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.378 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.905 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.739 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/cancel\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:3;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 14.883 ms

*** Query: 2025-07-30 11:23:04 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.155 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.368 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.878 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:23:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:23:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:3;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 4.346 ms

*** Query: 2025-07-30 11:23:10 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.17 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.187 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.378 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.991 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:23:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.194 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.197 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.252 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.19 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.195 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.404 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:3;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.297 ms

*** Query: 2025-07-30 11:23:12 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.183 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.476 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.039 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.434 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.369 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.185 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 3
 Affected rows: 0
 Execution Time: 0.186 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
INSERT INTO `ospos_dinner_tables` (`name`, `deleted`) VALUES ('Dine-In', 0)
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.181 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.464 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.359 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.405 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.491 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.063 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.363 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:23:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.32 ms

*** Query: 2025-07-30 11:23:40 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.454 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.971 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:23:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:23:42 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.934 ms

*** Query: 2025-07-30 11:23:42 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.395 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.333 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.498 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.057 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:23:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.162 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.84 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.846 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.344 ms

*** Query: 2025-07-30 11:23:45 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.388 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.383 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.523 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.998 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:23:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 3
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.432 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.55 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.433 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.341 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.848 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.455 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:3;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.138 ms

*** Query: 2025-07-30 11:23:48 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.647 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.465 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.405 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.913 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.375 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.374 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:23:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.533 ms

*** Query: 2025-07-30 11:23:55 +07 *******************
SELECT `item_id`, `name`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `name` LIKE '%ite%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 1
 Execution Time: 0.564 ms

*** Query: 2025-07-30 11:23:55 +07 *******************
SELECT `item_id`, `item_number`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `item_number` LIKE '%ite%' ESCAPE '!'
ORDER BY `item_number` ASC
 Affected rows: 0
 Execution Time: 2.294 ms

*** Query: 2025-07-30 11:23:55 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `name` LIKE '%ite%' ESCAPE '!'
OR  `item_kit_number` LIKE '%ite%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 0
 Execution Time: 0.447 ms

*** Query: 2025-07-30 11:23:55 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 60.855 ms

*** Query: 2025-07-30 11:23:55 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 1.022 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.556 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.086 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.746 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:23:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `item_kit_number` = '1'
 Affected rows: 0
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
AND `ospos_items`.`deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.452 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` IS NULL
AND `receiving_id` IS NULL
 Affected rows: 1
 Execution Time: 1.039 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.34 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.503 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 3
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 2.015 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.607 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.343 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.914 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.866 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.429 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.481 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 11:23:56 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.484 ms

*** Query: 2025-07-30 11:23:57 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/sales/add\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:1:\"1\";s:8:\"discount\";s:1:\"0\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:5:\"9.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:3;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 24.707 ms

*** Query: 2025-07-30 11:23:57 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.186 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.34 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.309 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 2.213 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.161 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.092 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.348 ms

*** Query: 2025-07-30 04:24:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.62 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
INSERT INTO `ospos_sales` (`sale_time`, `customer_id`, `employee_id`, `comment`, `sale_status`, `invoice_number`, `quote_number`, `work_order_number`, `dinner_table_id`, `sale_type`) VALUES ('2025-07-30 11:24:04', NULL, 1, '', '1', NULL, NULL, NULL, 3, 0)
 Affected rows: 1
 Execution Time: 0.879 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.311 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.952 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 1.298 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.587 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
INSERT INTO `ospos_sales_items` (`sale_id`, `item_id`, `line`, `description`, `serialnumber`, `quantity_purchased`, `discount`, `discount_type`, `item_cost_price`, `item_unit_price`, `item_location`, `print_option`) VALUES (3, '1', 1, '', '', '1', '0', 0, '100000.00', '100000.00', 1, 0)
 Affected rows: 1
 Execution Time: 0.488 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
INSERT IGNORE INTO `ospos_attribute_links` (`item_id`, `definition_id`, `attribute_id`, `sale_id`)
SELECT 1, definition_id, attribute_id, 3 FROM ospos_attribute_links WHERE item_id = 1 AND sale_id IS NULL AND receiving_id IS NULL
 Affected rows: 0
 Execution Time: 0.588 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
UPDATE `ospos_dinner_tables` SET `status` = 1
WHERE `dinner_table_id` = 3
 Affected rows: 1
 Execution Time: 0.54 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.448 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.686 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.54 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.351 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.97 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 1.038 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:52:\"https://eatmaja.co.id/ppos_demo/public/sales/suspend\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 5.265 ms

*** Query: 2025-07-30 11:24:04 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.161 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.397 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.075 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.21 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.362 ms

*** Query: 2025-07-30 04:24:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 11:24:14 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 11:24:14 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.667 ms

*** Query: 2025-07-30 11:24:14 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.456 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.46 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.426 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.58 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.074 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:24:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:24:39 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.679 ms

*** Query: 2025-07-30 11:24:39 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.162 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.621 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.358 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.944 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:24:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.178 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.161 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.2 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.177 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 7.414 ms

*** Query: 2025-07-30 11:24:41 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.469 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.34 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.539 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.385 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:24:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.181 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.247 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.242 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.228 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.183 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.058 ms

*** Query: 2025-07-30 11:24:43 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 1.387 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.802 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.501 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'employees%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 1.057 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'employees_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 1.226 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 2.833 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.124 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.358 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:24:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:24:44 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'messages'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 11:24:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.443 ms

*** Query: 2025-07-30 11:24:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:24:44 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/employees\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.612 ms

*** Query: 2025-07-30 11:24:44 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.2 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.542 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'employees%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.473 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'employees_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.425 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.03 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:24:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:24:45 +07 *******************
SELECT *
FROM `ospos_employees` AS `employees`
JOIN `ospos_people` ON `employees`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `username` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_people`.`person_id` ASC
 LIMIT 25
 Affected rows: 2
 Execution Time: 0.463 ms

*** Query: 2025-07-30 11:24:45 +07 *******************
SELECT COUNT(employees.person_id) as count
FROM `ospos_employees` AS `employees`
JOIN `ospos_people` ON `employees`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `username` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 11:24:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.808 ms

*** Query: 2025-07-30 11:24:45 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.157 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'employees%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'employees_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.479 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.105 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:24:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_modules`
ORDER BY `sort` ASC
 Affected rows: 18
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'home'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'home'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'customers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'customers'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'items'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'item_kits'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'item_kits'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'suppliers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'suppliers'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'reports'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'receivings'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'receivings'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'sales'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.183 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'employees'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.192 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'employees'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'giftcards'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'giftcards'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.506 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'messages'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.939 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'messages'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.909 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'taxes'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.971 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'taxes'
AND `person_id` = 1
 Affected rows: 0
 Execution Time: 0.517 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'attributes'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'attributes'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.175 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'expenses'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'expenses'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.181 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'expenses_categories'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'expenses_categories'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.373 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'cashups'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'cashups'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.516 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'config'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.445 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'config'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'office'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'office'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_permissions`
JOIN `ospos_modules` AS `modules` ON `modules`.`module_id` = `ospos_permissions`.`module_id`
WHERE modules.module_id != permission_id
 Affected rows: 18
 Execution Time: 0.625 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items_Gudang__01'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.374 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'receivings_Gudang__01'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_categories'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_customers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.178 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_discounts'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_employees'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_expenses_categories'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_inventory'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_payments'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_receivings'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales_taxes'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_suppliers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_taxes'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_delete'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_Gudang__01'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.384 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.519 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.606 ms

*** Query: 2025-07-30 11:24:47 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.166 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'attributes%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'attributes_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.214 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.415 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.284 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:25:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:25:10 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.582 ms

*** Query: 2025-07-30 11:25:10 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 11:25:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:49:\"https://eatmaja.co.id/ppos_demo/public/attributes\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.853 ms

*** Query: 2025-07-30 11:25:10 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.14 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'attributes%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'attributes_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.173 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.318 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.849 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.178 ms

*** Query: 2025-07-30 04:25:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:25:11 +07 *******************
SELECT `parent_definition`.`definition_name` AS `definition_group`, `definition`.*
FROM `ospos_attribute_definitions` AS `definition`
LEFT JOIN `ospos_attribute_definitions` AS `parent_definition` ON `parent_definition`.`definition_id` = `definition`.`definition_fk`
WHERE   (
`definition`.`definition_name` LIKE '%%' ESCAPE '!'
OR  `definition`.`definition_type` LIKE '%%' ESCAPE '!'
 )
AND `definition`.`deleted` = 0
ORDER BY `definition_id` ASC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:25:11 +07 *******************
SELECT `parent_definition`.`definition_name` AS `definition_group`, `definition`.*
FROM `ospos_attribute_definitions` AS `definition`
LEFT JOIN `ospos_attribute_definitions` AS `parent_definition` ON `parent_definition`.`definition_id` = `definition`.`definition_fk`
WHERE   (
`definition`.`definition_name` LIKE '%%' ESCAPE '!'
OR  `definition`.`definition_type` LIKE '%%' ESCAPE '!'
 )
AND `definition`.`deleted` = 0
ORDER BY `definition`.`definition_name` ASC
 Affected rows: 0
 Execution Time: 0.23 ms

*** Query: 2025-07-30 11:25:11 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.423 ms

*** Query: 2025-07-30 11:25:11 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.473 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'expenses_categories%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'expenses_categories_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.467 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.055 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:25:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.471 ms

*** Query: 2025-07-30 11:25:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 11:25:13 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:58:\"https://eatmaja.co.id/ppos_demo/public/expenses_categories\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.969 ms

*** Query: 2025-07-30 11:25:13 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.181 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'expenses_categories%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'expenses_categories_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.189 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.862 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.181 ms

*** Query: 2025-07-30 04:25:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 11:25:14 +07 *******************
SELECT *
FROM `ospos_expense_categories` AS `expense_categories`
WHERE   (
`category_name` LIKE '%%' ESCAPE '!'
OR  `category_description` LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `expense_category_id` ASC
 LIMIT 25
 Affected rows: 0
 Execution Time: 1.292 ms

*** Query: 2025-07-30 11:25:14 +07 *******************
SELECT COUNT(expense_categories.expense_category_id) as count
FROM `ospos_expense_categories` AS `expense_categories`
WHERE   (
`category_name` LIKE '%%' ESCAPE '!'
OR  `category_description` LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:25:14 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 17.37 ms

*** Query: 2025-07-30 11:25:14 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.147 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.362 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.516 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.147 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 04:25:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.221 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.179 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.173 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.201 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 2.916 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.504 ms

*** Query: 2025-07-30 11:25:15 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'employees%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'employees_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.505 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.006 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.041 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.383 ms

*** Query: 2025-07-30 04:25:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:25:30 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'messages'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:25:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 11:25:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:25:30 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/employees\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.098 ms

*** Query: 2025-07-30 11:25:30 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'employees%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'employees_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.411 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.044 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.36 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:25:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 11:25:31 +07 *******************
SELECT *
FROM `ospos_employees` AS `employees`
JOIN `ospos_people` ON `employees`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `username` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_people`.`person_id` ASC
 LIMIT 25
 Affected rows: 2
 Execution Time: 0.414 ms

*** Query: 2025-07-30 11:25:31 +07 *******************
SELECT COUNT(employees.person_id) as count
FROM `ospos_employees` AS `employees`
JOIN `ospos_people` ON `employees`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `username` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 11:25:31 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.335 ms

*** Query: 2025-07-30 11:25:31 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'employees%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'employees_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.37 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.208 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:25:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_modules`
ORDER BY `sort` ASC
 Affected rows: 18
 Execution Time: 0.172 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'home'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.164 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'home'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'customers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.16 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'customers'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.176 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.185 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'items'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'item_kits'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.186 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'item_kits'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'suppliers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.164 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'suppliers'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.168 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.169 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'reports'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.175 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'receivings'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'receivings'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.164 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'sales'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.153 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'employees'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.15 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'employees'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.148 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'giftcards'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.154 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'giftcards'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.148 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'messages'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.147 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'messages'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.162 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'taxes'
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.142 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'taxes'
AND `person_id` = 1
 Affected rows: 0
 Execution Time: 0.226 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'attributes'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'attributes'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.166 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'expenses'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'expenses'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'expenses_categories'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'expenses_categories'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'cashups'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'cashups'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'config'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.172 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'config'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'office'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT `menu_group`
FROM `ospos_grants`
WHERE `permission_id` = 'office'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_permissions`
JOIN `ospos_modules` AS `modules` ON `modules`.`module_id` = `ospos_permissions`.`module_id`
WHERE modules.module_id != permission_id
 Affected rows: 18
 Execution Time: 0.306 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items_Gudang__01'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.2 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'receivings_Gudang__01'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_categories'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.176 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_customers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.172 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_discounts'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_employees'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.16 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_expenses_categories'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.152 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_inventory'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.153 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.164 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_payments'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.148 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_receivings'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.153 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales_taxes'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.158 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_suppliers'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_taxes'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.157 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_delete'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_Gudang__01'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.205 ms

*** Query: 2025-07-30 11:25:34 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.2 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.162 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.392 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.282 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.451 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.004 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:25:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.333 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.318 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.224 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.425 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.295 ms

*** Query: 2025-07-30 11:25:54 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.398 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.479 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.129 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 04:25:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:25:56 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.977 ms

*** Query: 2025-07-30 11:25:56 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.439 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.703 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'messages%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.569 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'messages_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.549 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.834 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.304 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.358 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 04:26:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:26:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:47:\"https://eatmaja.co.id/ppos_demo/public/messages\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.999 ms

*** Query: 2025-07-30 11:26:00 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.171 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.743 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.463 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.562 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.02 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:26:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:26:02 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'messages'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:26:02 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.34 ms

*** Query: 2025-07-30 11:26:02 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 11:26:02 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/customers\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.548 ms

*** Query: 2025-07-30 11:26:02 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.373 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.344 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.395 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'customers%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'customers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.275 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.477 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.995 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:26:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:26:03 +07 *******************
SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_people`.`person_id` ASC
 LIMIT 25
 Affected rows: 1
 Execution Time: 0.495 ms

*** Query: 2025-07-30 11:26:03 +07 *******************
SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 11:26:03 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_id)) ENGINE=MEMORY (SELECT `ospos_sales`.`sale_id` AS `sale_id`, AVG(`ospos_sales_items`.`discount`) AS avg_discount, SUM(`ospos_sales_items`.`quantity_purchased`) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `ospos_sales`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
GROUP BY `sale_id`)
 Affected rows: 2
 Execution Time: 0.715 ms

*** Query: 2025-07-30 11:26:03 +07 *******************
SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = 2
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
 Affected rows: 1
 Execution Time: 0.81 ms

*** Query: 2025-07-30 11:26:03 +07 *******************
DROP TEMPORARY TABLE IF EXISTS ospos_sales_items_temp
 Affected rows: 0
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:26:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.699 ms

*** Query: 2025-07-30 11:26:03 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'items%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 2
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.532 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.196 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 1
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.348 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'items%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.517 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'items%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.49 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/items\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:0;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.245 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.282 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'items%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 2
 Execution Time: 0.246 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.423 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.965 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.19 ms

*** Query: 2025-07-30 04:26:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.177 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 1
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'items%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT MAX(items.item_id) AS item_id, MAX(items.name) AS name, MAX(items.category) AS category, MAX(items.supplier_id) AS supplier_id, MAX(items.item_number) AS item_number, MAX(items.description) AS description, MAX(items.cost_price) AS cost_price, MAX(items.unit_price) AS unit_price, MAX(items.reorder_level) AS reorder_level, MAX(items.receiving_quantity) AS receiving_quantity, MAX(items.pic_filename) AS pic_filename, MAX(items.allow_alt_description) AS allow_alt_description, MAX(items.is_serialized) AS is_serialized, MAX(items.pack_name) AS pack_name, MAX(items.tax_category_id) AS tax_category_id, MAX(items.deleted) AS deleted, MAX(suppliers.person_id) AS person_id, MAX(suppliers.company_name) AS company_name, MAX(suppliers.agency_name) AS agency_name, MAX(suppliers.account_number) AS account_number, MAX(suppliers.deleted) AS deleted, MAX(inventory.trans_id) AS trans_id, MAX(inventory.trans_items) AS trans_items, MAX(inventory.trans_user) AS trans_user, MAX(inventory.trans_date) AS trans_date, MAX(inventory.trans_comment) AS trans_comment, MAX(inventory.trans_location) AS trans_location, MAX(inventory.trans_inventory) AS trans_inventory, MAX(item_quantities.item_id) AS qty_item_id, MAX(item_quantities.location_id) AS location_id, MAX(item_quantities.quantity) AS quantity
FROM `ospos_items` AS `items`
LEFT JOIN `ospos_suppliers` AS `suppliers` ON `suppliers`.`person_id` = `items`.`supplier_id`
JOIN `ospos_inventory` AS `inventory` ON `inventory`.`trans_items` = `items`.`item_id`
JOIN `ospos_item_quantities` AS `item_quantities` ON `item_quantities`.`item_id` = `items`.`item_id`
WHERE `location_id` = '1'
AND DATE_FORMAT(trans_date, "%Y-%m-%d") BETWEEN '2010-01-01' AND '2025-07-30'
AND `items`.`deleted` = 0
AND `items`.`item_type` IN (0,1,2)
GROUP BY `items`.`item_id`
ORDER BY `item_id` ASC
 LIMIT 25
 Affected rows: 1
 Execution Time: 1.124 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT COUNT(DISTINCT items.item_id) AS count
FROM `ospos_items` AS `items`
LEFT JOIN `ospos_suppliers` AS `suppliers` ON `suppliers`.`person_id` = `items`.`supplier_id`
JOIN `ospos_inventory` AS `inventory` ON `inventory`.`trans_items` = `items`.`item_id`
JOIN `ospos_item_quantities` AS `item_quantities` ON `item_quantities`.`item_id` = `items`.`item_id`
WHERE `location_id` = '1'
AND DATE_FORMAT(trans_date, "%Y-%m-%d") BETWEEN '2010-01-01' AND '2025-07-30'
AND `items`.`deleted` = 0
AND `items`.`item_type` IN (0,1,2)
 Affected rows: 1
 Execution Time: 0.44 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 1
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:26:05 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.138 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.531 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'item_kits%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'item_kits_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.514 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 1.57 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.053 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:26:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:26:06 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.513 ms

*** Query: 2025-07-30 11:26:06 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:26:06 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/item_kits\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:0;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.686 ms

*** Query: 2025-07-30 11:26:06 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 1.241 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.236 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'item_kits%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.483 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'item_kits_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.644 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.911 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 04:26:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 11:26:07 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `name` LIKE '%%' ESCAPE '!'
OR  `description` LIKE '%%' ESCAPE '!'
OR  `item_kit_number` LIKE '%%' ESCAPE '!'
ORDER BY `item_kit_id` ASC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.378 ms

*** Query: 2025-07-30 11:26:07 +07 *******************
SELECT COUNT(item_kit_id) as count
FROM `ospos_item_kits`
WHERE `name` LIKE '%%' ESCAPE '!'
OR  `description` LIKE '%%' ESCAPE '!'
OR  `item_kit_number` LIKE '%%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:26:07 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.736 ms

*** Query: 2025-07-30 11:26:07 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'suppliers%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'suppliers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.18 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.4 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.909 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:26:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:26:08 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'messages'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:26:08 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:26:08 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 11:26:08 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/suppliers\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:0;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.095 ms

*** Query: 2025-07-30 11:26:08 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.929 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.005 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'suppliers%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.433 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'suppliers_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.362 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.842 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.041 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.351 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:26:09 +07 *******************
SELECT *
FROM `ospos_suppliers` AS `suppliers`
JOIN `ospos_people` ON `suppliers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  `agency_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_people`.`person_id` ASC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.597 ms

*** Query: 2025-07-30 11:26:09 +07 *******************
SELECT COUNT(suppliers.person_id) as count
FROM `ospos_suppliers` AS `suppliers`
JOIN `ospos_people` ON `suppliers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  `agency_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 11:26:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 4.248 ms

*** Query: 2025-07-30 11:26:09 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.444 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.938 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:26:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 11:26:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
 Affected rows: 35
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:26:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:46:\"https://eatmaja.co.id/ppos_demo/public/reports\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:0;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.817 ms

*** Query: 2025-07-30 11:26:09 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'receivings%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 2
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.48 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.224 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.437 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:26:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 11:26:18 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'receivings%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.376 ms

*** Query: 2025-07-30 11:26:18 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 11:26:18 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 11:26:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:49:\"https://eatmaja.co.id/ppos_demo/public/receivings\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:0;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 5.144 ms

*** Query: 2025-07-30 11:26:18 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.168 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.79 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.984 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 04:26:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.259 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.416 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.312 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.879 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.794 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.727 ms

*** Query: 2025-07-30 11:26:20 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.602 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.15 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.338 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:26:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 11:26:23 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 11:26:23 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.041 ms

*** Query: 2025-07-30 11:26:23 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.194 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.362 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.479 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.038 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:26:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.392 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.846 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.695 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:10:\"sale_quote\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:3;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.16 ms

*** Query: 2025-07-30 11:26:30 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.176 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.424 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.482 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.984 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:26:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.368 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.164 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.792 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.857 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:12:\"sale_invoice\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.745 ms

*** Query: 2025-07-30 11:26:34 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.532 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.11 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:26:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.23 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.374 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.242 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.18 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.815 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.736 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.183 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.631 ms

*** Query: 2025-07-30 11:26:37 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.157 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.432 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.976 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:26:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.285 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.178 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.888 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.773 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849312;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.008 ms

*** Query: 2025-07-30 11:26:40 +07 *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT GET_LOCK('d477d5a1a6d94de0e8669830ce8afb2e', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:bea1a67a4eed538f1658e17155ebf7fa'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.373 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT RELEASE_LOCK('d477d5a1a6d94de0e8669830ce8afb2e') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT GET_LOCK('5689c374306bb9f779e1ec738ad80e0b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.415 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.535 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.383 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.319 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 1.574 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.065 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 04:26:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 11:26:55 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb', '171.14.0.1', '__ci_last_regenerate|i:1753849615;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:0;sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 2.141 ms

*** Query: 2025-07-30 11:26:55 +07 *******************
SELECT RELEASE_LOCK('5689c374306bb9f779e1ec738ad80e0b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT GET_LOCK('5689c374306bb9f779e1ec738ad80e0b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.442 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.015 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:26:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.194 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.176 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.175 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.175 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.175 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849615;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.083 ms

*** Query: 2025-07-30 11:26:57 +07 *******************
SELECT RELEASE_LOCK('5689c374306bb9f779e1ec738ad80e0b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT GET_LOCK('5689c374306bb9f779e1ec738ad80e0b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.432 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.351 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.439 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.047 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 0
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.337 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.733 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
SELECT RELEASE_LOCK('5689c374306bb9f779e1ec738ad80e0b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT GET_LOCK('5689c374306bb9f779e1ec738ad80e0b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.424 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.985 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 04:31:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.406 ms

*** Query: 2025-07-30 11:31:54 +07 *******************
SELECT RELEASE_LOCK('5689c374306bb9f779e1ec738ad80e0b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT GET_LOCK('5689c374306bb9f779e1ec738ad80e0b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.168 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.432 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.459 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.81 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:31:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:31:55 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849615;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.468 ms

*** Query: 2025-07-30 11:31:55 +07 *******************
SELECT RELEASE_LOCK('5689c374306bb9f779e1ec738ad80e0b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT GET_LOCK('5689c374306bb9f779e1ec738ad80e0b', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:0e80ed85f7a706e50ec9a17ffa861bfb'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.947 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT RELEASE_LOCK('5689c374306bb9f779e1ec738ad80e0b') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.534 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.012 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 04:32:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.23 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.404 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.344 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.215 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.003 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.813 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.618 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:a05e49210dce4f6f34d150a3171e5477', '171.14.0.1', '__ci_last_regenerate|i:1753849920;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:3;sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sale_type|i:0;sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 3.323 ms

*** Query: 2025-07-30 11:32:00 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.471 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.183 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.319 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.48 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.065 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:32:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 11:32:04 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:32:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 11:32:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.256 ms

*** Query: 2025-07-30 11:32:04 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.527 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.996 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:32:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT `sales_items`.`sale_id`, `sales_items`.`item_id`, `sales_items`.`description`, `serialnumber`, `line`, `quantity_purchased`, `item_cost_price`, `item_unit_price`, `discount`, `discount_type`, `item_location`, `print_option`, `items`.`name` AS `name`, `category`, `item_type`, `stock_type`
FROM `ospos_sales_items` AS `sales_items`
JOIN `ospos_items` AS `items` ON `sales_items`.`item_id` = `items`.`item_id`
WHERE `sales_items`.`sale_id` = 3
ORDER BY `line` ASC
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` = 3
AND definition_flags & 2
 Affected rows: 1
 Execution Time: 0.535 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 3
 Affected rows: 0
 Execution Time: 0.335 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` IS NULL
 Affected rows: 0
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.864 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.772 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 3
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.45 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.285 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.242 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.849 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.764 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.596 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.372 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849920;_ci_previous_url|s:54:\"https://eatmaja.co.id/ppos_demo/public/sales/unsuspend\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:3;sales_employee|i:1;sales_location|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:5:\"1.000\";s:8:\"discount\";s:4:\"0.00\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:5:\"9.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}cash_mode|i:0;sales_customer|i:-1;sales_quote_number|N;sales_work_order_number|N;sale_type|i:0;sales_comment|s:0:\"\";dinner_table|i:3;sales_mode|s:4:\"sale\";cash_rounding|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 24.882 ms

*** Query: 2025-07-30 11:32:12 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.181 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.59 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.94 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:32:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
UPDATE `ospos_sales` SET `sale_status` = 2
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 2
 Execution Time: 0.388 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.548 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.326 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.865 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.797 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.513 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849920;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/cancel\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;sales_location|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.921 ms

*** Query: 2025-07-30 11:32:23 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.463 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.334 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.437 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.584 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.998 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.421 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 04:35:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.399 ms

*** Query: 2025-07-30 11:35:17 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849920;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;sales_location|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.26 ms

*** Query: 2025-07-30 11:35:17 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.457 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.38 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.576 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.065 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.387 ms

*** Query: 2025-07-30 04:35:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.183 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.254 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849920;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;sales_location|i:1;item_location|s:1:\"1\";recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 4.757 ms

*** Query: 2025-07-30 11:35:18 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.359 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.542 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.036 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.373 ms

*** Query: 2025-07-30 04:35:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.168 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:35:28 +07 *******************
UPDATE `ospos_dinner_tables` SET `deleted` = 1
WHERE `dinner_table_id` = '3'
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:35:29 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753849920;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.544 ms

*** Query: 2025-07-30 11:35:29 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.188 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.462 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.968 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:35:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:35:29 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.276 ms

*** Query: 2025-07-30 11:35:29 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.559 ms

*** Query: 2025-07-30 11:35:29 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.754 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.937 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.029 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.559 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.657 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.336 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.353 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.533 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.307 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.442 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.027 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.344 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.42 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.374 ms

*** Query: 2025-07-30 04:35:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.379 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.323 ms

*** Query: 2025-07-30 11:35:41 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.387 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.246 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.478 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.17 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:36:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.267 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.346 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.3 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.502 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.199 ms

*** Query: 2025-07-30 11:36:12 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.185 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.667 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.113 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:36:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.47 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.322 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.188 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.473 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.813 ms

*** Query: 2025-07-30 11:36:13 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.397 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 1.201 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 1.321 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.816 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.988 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.37 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
UPDATE `ospos_dinner_tables` SET `deleted` = 1
WHERE `dinner_table_id` = '3'
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.76 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.422 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.344 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.716 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.093 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.465 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:36:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.334 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.356 ms

*** Query: 2025-07-30 11:36:27 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.465 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.765 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.276 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.341 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.443 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.575 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.128 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.703 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.39 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.451 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.443 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.569 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.063 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.526 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.404 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.212 ms

*** Query: 2025-07-30 04:36:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.576 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.561 ms

*** Query: 2025-07-30 11:36:58 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.157 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.47 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.302 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.42 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.946 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.303 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.849 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.993 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.327 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 4.273 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.408 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.549 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.284 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.426 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.429 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:36:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.185 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.34 ms

*** Query: 2025-07-30 11:36:59 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.476 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.489 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.56 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.158 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.377 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.488 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.702 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.331 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.587 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.279 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.276 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.997 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.266 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.453 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.187 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:37:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.573 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.296 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.498 ms

*** Query: 2025-07-30 11:37:00 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.36 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.458 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.511 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.994 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.335 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.666 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.523 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.221 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.068 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.159 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.257 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.512 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.051 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:37:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.331 ms

*** Query: 2025-07-30 11:37:01 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.397 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.591 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.427 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.312 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.489 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.412 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.517 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.448 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.355 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.364 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.267 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.229 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.603 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.395 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.383 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.47 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.975 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.282 ms

*** Query: 2025-07-30 04:37:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.235 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.417 ms

*** Query: 2025-07-30 11:37:02 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.156 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.405 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.988 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.299 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.394 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.261 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.265 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.476 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.03 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.313 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.17 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.434 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.209 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.388 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:37:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.297 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.349 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.229 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.197 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.184 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:37:03 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.145 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.521 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.591 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.669 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.03 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:37:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 11:37:04 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:37:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.381 ms

*** Query: 2025-07-30 11:37:04 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.194 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.472 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.255 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.441 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.087 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.435 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.53 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:37:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.407 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.622 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 1.002 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.554 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.813 ms

*** Query: 2025-07-30 11:37:05 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.178 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.421 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.459 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.038 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:37:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:37:06 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:37:06 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.098 ms

*** Query: 2025-07-30 11:37:06 +07 *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT GET_LOCK('22191311fabce791c968f457e67a2251', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:a05e49210dce4f6f34d150a3171e5477'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.505 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT RELEASE_LOCK('22191311fabce791c968f457e67a2251') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.347 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.855 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.456 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.425 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.516 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.318 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.482 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.39 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:38:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.491 ms

*** Query: 2025-07-30 11:38:21 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:229d039302b72bf8cb9cb3452f09771e', '171.14.0.1', '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";')
 Affected rows: 1
 Execution Time: 2.28 ms

*** Query: 2025-07-30 11:38:21 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.226 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.794 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.625 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.379 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.54 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.088 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:38:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.418 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.421 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.33 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.899 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.795 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.282 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.781 ms

*** Query: 2025-07-30 11:38:25 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.162 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.4 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.326 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.65 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.085 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:38:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.466 ms

*** Query: 2025-07-30 11:38:31 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.43 ms

*** Query: 2025-07-30 11:38:31 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.395 ms

*** Query: 2025-07-30 11:38:31 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.594 ms

*** Query: 2025-07-30 11:38:31 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.164 ms

*** Query: 2025-07-30 11:38:31 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.143 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.431 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.439 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.001 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.472 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.885 ms

*** Query: 2025-07-30 04:38:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.927 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.681 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.595 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.341 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.514 ms

*** Query: 2025-07-30 11:38:32 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.192 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.419 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.619 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.236 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.359 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.46 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 04:38:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 1.457 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.585 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.68 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.322 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.388 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.581 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.858 ms

*** Query: 2025-07-30 11:38:37 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.498 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.383 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.548 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.173 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:38:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 11:38:50 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 1.019 ms

*** Query: 2025-07-30 11:38:50 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.676 ms

*** Query: 2025-07-30 11:38:50 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 1.121 ms

*** Query: 2025-07-30 11:38:50 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:38:50 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.744 ms

*** Query: 2025-07-30 11:38:50 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.665 ms

*** Query: 2025-07-30 11:38:50 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
AND `invoice_number` IS NOT NULL
AND  `payment_type` LIKE '%Cash%' ESCAPE '!'
AND  `payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payment_type` LIKE '%Check%' ESCAPE '!'
AND  `payment_type` LIKE '%Credit Card%' ESCAPE '!'
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.586 ms

*** Query: 2025-07-30 11:38:51 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.843 ms

*** Query: 2025-07-30 11:38:51 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.167 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.527 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.473 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.064 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 04:38:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.513 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.346 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.218 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.864 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.823 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.444 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.399 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.417 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.883 ms

*** Query: 2025-07-30 11:38:59 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.164 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.437 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.953 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.649 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:39:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:39:01 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 0
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:39:01 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 5.327 ms

*** Query: 2025-07-30 11:39:01 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.422 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.544 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.454 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 3.205 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 04:39:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:39:04 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 0
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:39:04 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.561 ms

*** Query: 2025-07-30 11:39:04 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.412 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.348 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.516 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.007 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:39:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.326 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.445 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.346 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.956 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.793 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 30.348 ms

*** Query: 2025-07-30 11:39:13 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 1.056 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.154 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.376 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.421 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.986 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:39:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:39:19 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:39:19 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.43 ms

*** Query: 2025-07-30 11:39:19 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 11:39:19 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.433 ms

*** Query: 2025-07-30 11:39:19 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.344 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.154 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.398 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.351 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.447 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.943 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:39:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.9 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.666 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.667 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.204 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.449 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.541 ms

*** Query: 2025-07-30 11:39:20 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.43 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.575 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.171 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:39:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.985 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.638 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.622 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.201 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.455 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
AND `invoice_number` IS NOT NULL
AND  `payment_type` LIKE '%Cash%' ESCAPE '!'
AND  `payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payment_type` LIKE '%Check%' ESCAPE '!'
AND  `payment_type` LIKE '%Credit Card%' ESCAPE '!'
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.519 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.056 ms

*** Query: 2025-07-30 11:39:27 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.409 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.572 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.124 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 04:39:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.949 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 1
 Execution Time: 1.346 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.839 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.864 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.387 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.541 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
AND `sales`.`sale_status` = 0
AND `invoice_number` IS NOT NULL
AND  `payment_type` LIKE '%Cash%' ESCAPE '!'
AND  `payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payment_type` LIKE '%Check%' ESCAPE '!'
AND  `payment_type` LIKE '%Credit Card%' ESCAPE '!'
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.542 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 24.905 ms

*** Query: 2025-07-30 11:39:38 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.462 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.428 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.622 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.204 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:40:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 1
 Execution Time: 1.105 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 1.033 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.829 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.314 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.266 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.58 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
AND `sales`.`sale_status` = 0
AND `invoice_number` IS NOT NULL
AND  `payment_type` LIKE '%Cash%' ESCAPE '!'
AND  `payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payment_type` LIKE '%Check%' ESCAPE '!'
AND  `payment_type` LIKE '%Credit Card%' ESCAPE '!'
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.584 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.651 ms

*** Query: 2025-07-30 11:40:00 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.803 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.456 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.965 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:40:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:40:01 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
 Affected rows: 35
 Execution Time: 0.358 ms

*** Query: 2025-07-30 11:40:01 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:46:\"https://eatmaja.co.id/ppos_demo/public/reports\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.779 ms

*** Query: 2025-07-30 11:40:01 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.407 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.831 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:40:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:40:03 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.427 ms

*** Query: 2025-07-30 11:40:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:61:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.593 ms

*** Query: 2025-07-30 11:40:03 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.175 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.586 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.331 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.444 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.929 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:40:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 2
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.452 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 0.731 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-29' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 3
 Execution Time: 1.497 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT `sale_id`, MAX(CASE
            WHEN sale_type = 0 && sale_status = 0 THEN 'POS'
            WHEN sale_type = 1 && sale_status = 0 THEN 'INV'
            WHEN sale_type = 2 && sale_status = 1 THEN 'W/O'
            WHEN sale_type = 3 && sale_status = 1 THEN 'Q'
            WHEN sale_type = 4 && sale_status = 0 THEN 'RET'
            WHEN sale_status = 2 THEN 'CNL'
            ELSE ''
            END) AS type_code, MAX(sale_status) as sale_status, MAX(sale_time) AS sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(comment) AS comment
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 0
AND   (
`sale_type` = 0
OR `sale_type` = 1
OR `sale_type` = 4
 )
GROUP BY `sale_id`
ORDER BY MAX(sale_time)
 Affected rows: 1
 Execution Time: 0.46 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT MAX(name) AS name, MAX(category) AS category, MAX(quantity_purchased) AS quantity_purchased, MAX(item_location) AS item_location, MAX(item_number) AS item_number, MAX(description) AS description, MAX(subtotal) AS subtotal, MAX(tax) AS tax, MAX(total) AS total, MAX(cost) AS cost, MAX(profit) AS profit, MAX(discount) AS discount, MAX(discount_type) AS discount_type, MAX(sale_status) AS sale_status
FROM `ospos_sales_items_temp`
WHERE `ospos_sales_items_temp`.`sale_id` = '1'
GROUP BY `ospos_sales_items_temp`.`sale_id`, `ospos_sales_items_temp`.`item_id`, `ospos_sales_items_temp`.`sale_id`
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT *
FROM `ospos_sales_reward_points`
WHERE `sale_id` = '1'
 Affected rows: 0
 Execution Time: 0.623 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 0
AND   (
`sale_type` = 0
OR `sale_type` = 1
OR `sale_type` = 4
 )
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.422 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:98:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales/2025-07-29/2025-07-30/complete/all/0\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.411 ms

*** Query: 2025-07-30 11:40:10 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.434 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.524 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.081 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:40:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 1
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.625 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 1
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 0.785 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 1
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.591 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 1
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.555 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 1
 Affected rows: 2
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.451 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.734 ms

*** Query: 2025-07-30 11:40:19 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.448 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.136 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.282 ms

*** Query: 2025-07-30 04:41:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 11:41:18 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
 Affected rows: 35
 Execution Time: 0.28 ms

*** Query: 2025-07-30 11:41:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:46:\"https://eatmaja.co.id/ppos_demo/public/reports\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.962 ms

*** Query: 2025-07-30 11:41:18 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.156 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.426 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.327 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.003 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 04:41:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:41:26 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 11:41:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:61:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.854 ms

*** Query: 2025-07-30 11:41:26 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.484 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.893 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.226 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 04:41:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 2
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.445 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.681 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 2
 Execution Time: 1.534 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT `sale_id`, MAX(CASE
            WHEN sale_type = 0 && sale_status = 0 THEN 'POS'
            WHEN sale_type = 1 && sale_status = 0 THEN 'INV'
            WHEN sale_type = 2 && sale_status = 1 THEN 'W/O'
            WHEN sale_type = 3 && sale_status = 1 THEN 'Q'
            WHEN sale_type = 4 && sale_status = 0 THEN 'RET'
            WHEN sale_status = 2 THEN 'CNL'
            ELSE ''
            END) AS type_code, MAX(sale_status) as sale_status, MAX(sale_time) AS sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(comment) AS comment
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 2
GROUP BY `sale_id`
ORDER BY MAX(sale_time)
 Affected rows: 2
 Execution Time: 0.429 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT MAX(name) AS name, MAX(category) AS category, MAX(quantity_purchased) AS quantity_purchased, MAX(item_location) AS item_location, MAX(item_number) AS item_number, MAX(description) AS description, MAX(subtotal) AS subtotal, MAX(tax) AS tax, MAX(total) AS total, MAX(cost) AS cost, MAX(profit) AS profit, MAX(discount) AS discount, MAX(discount_type) AS discount_type, MAX(sale_status) AS sale_status
FROM `ospos_sales_items_temp`
WHERE `ospos_sales_items_temp`.`sale_id` = '2'
GROUP BY `ospos_sales_items_temp`.`sale_id`, `ospos_sales_items_temp`.`item_id`, `ospos_sales_items_temp`.`sale_id`
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT *
FROM `ospos_sales_reward_points`
WHERE `sale_id` = '2'
 Affected rows: 0
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT MAX(name) AS name, MAX(category) AS category, MAX(quantity_purchased) AS quantity_purchased, MAX(item_location) AS item_location, MAX(item_number) AS item_number, MAX(description) AS description, MAX(subtotal) AS subtotal, MAX(tax) AS tax, MAX(total) AS total, MAX(cost) AS cost, MAX(profit) AS profit, MAX(discount) AS discount, MAX(discount_type) AS discount_type, MAX(sale_status) AS sale_status
FROM `ospos_sales_items_temp`
WHERE `ospos_sales_items_temp`.`sale_id` = '3'
GROUP BY `ospos_sales_items_temp`.`sale_id`, `ospos_sales_items_temp`.`item_id`, `ospos_sales_items_temp`.`sale_id`
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT *
FROM `ospos_sales_reward_points`
WHERE `sale_id` = '3'
 Affected rows: 0
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.194 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 2
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:98:\"https://eatmaja.co.id/ppos_demo/public/reports/detailed_sales/2025-07-30/2025-07-30/canceled/all/0\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.804 ms

*** Query: 2025-07-30 11:41:32 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.47 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.579 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.25 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.36 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:41:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.568 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 2
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.723 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.667 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 2
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.596 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 2
 Affected rows: 0
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.842 ms

*** Query: 2025-07-30 11:41:34 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.429 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.309 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.541 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.02 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.377 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 04:41:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.508 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 3
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.661 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.248 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 3
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.68 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.34 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 3
 Affected rows: 0
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.445 ms

*** Query: 2025-07-30 11:41:40 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.405 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.116 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.578 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.762 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.008 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 4.191 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.446 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:41:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT *
FROM `ospos_attribute_definitions`
WHERE definition_flags & 2
AND `deleted` = 0
AND `definition_type` <> 'GROUP'
ORDER BY `definition_id`
 Affected rows: 0
 Execution Time: 0.476 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.803 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.858 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 2
 Execution Time: 1.511 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT `sale_id`, MAX(CASE
            WHEN sale_type = 0 && sale_status = 0 THEN 'POS'
            WHEN sale_type = 1 && sale_status = 0 THEN 'INV'
            WHEN sale_type = 2 && sale_status = 1 THEN 'W/O'
            WHEN sale_type = 3 && sale_status = 1 THEN 'Q'
            WHEN sale_type = 4 && sale_status = 0 THEN 'RET'
            WHEN sale_status = 2 THEN 'CNL'
            ELSE ''
            END) AS type_code, MAX(sale_status) as sale_status, MAX(sale_time) AS sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(comment) AS comment
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 2
GROUP BY `sale_id`
ORDER BY MAX(sale_time)
 Affected rows: 2
 Execution Time: 0.489 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT MAX(name) AS name, MAX(category) AS category, MAX(quantity_purchased) AS quantity_purchased, MAX(item_location) AS item_location, MAX(item_number) AS item_number, MAX(description) AS description, MAX(subtotal) AS subtotal, MAX(tax) AS tax, MAX(total) AS total, MAX(cost) AS cost, MAX(profit) AS profit, MAX(discount) AS discount, MAX(discount_type) AS discount_type, MAX(sale_status) AS sale_status
FROM `ospos_sales_items_temp`
WHERE `ospos_sales_items_temp`.`sale_id` = '2'
GROUP BY `ospos_sales_items_temp`.`sale_id`, `ospos_sales_items_temp`.`item_id`, `ospos_sales_items_temp`.`sale_id`
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT *
FROM `ospos_sales_reward_points`
WHERE `sale_id` = '2'
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT MAX(name) AS name, MAX(category) AS category, MAX(quantity_purchased) AS quantity_purchased, MAX(item_location) AS item_location, MAX(item_number) AS item_number, MAX(description) AS description, MAX(subtotal) AS subtotal, MAX(tax) AS tax, MAX(total) AS total, MAX(cost) AS cost, MAX(profit) AS profit, MAX(discount) AS discount, MAX(discount_type) AS discount_type, MAX(sale_status) AS sale_status
FROM `ospos_sales_items_temp`
WHERE `ospos_sales_items_temp`.`sale_id` = '3'
GROUP BY `ospos_sales_items_temp`.`sale_id`, `ospos_sales_items_temp`.`item_id`, `ospos_sales_items_temp`.`sale_id`
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT *
FROM `ospos_sales_reward_points`
WHERE `sale_id` = '3'
 Affected rows: 0
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit
FROM `ospos_sales_items_temp`
WHERE `sale_status` = 2
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.081 ms

*** Query: 2025-07-30 11:41:45 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.409 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.449 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.007 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:42:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.522 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 2
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.676 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.298 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 2
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.543 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 2
 Affected rows: 0
 Execution Time: 0.22 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.598 ms

*** Query: 2025-07-30 11:42:06 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.15 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.472 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.935 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 04:42:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 11:42:09 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 11:42:09 +07 *******************
UPDATE `ospos_inventory` SET `trans_date` = '2025-07-30 11:00:20'
WHERE `trans_comment` = 'POS 2'
 Affected rows: 0
 Execution Time: 0.251 ms

*** Query: 2025-07-30 11:42:09 +07 *******************
UPDATE `ospos_sales` SET `sale_time` = '2025-07-30 11:00:20', `customer_id` = '2', `employee_id` = '3', `comment` = '', `invoice_number` = NULL
WHERE `sale_id` = 2
 Affected rows: 0
 Execution Time: 0.333 ms

*** Query: 2025-07-30 11:42:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.545 ms

*** Query: 2025-07-30 11:42:09 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.148 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.562 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.908 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:42:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:42:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '2'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.552 ms

*** Query: 2025-07-30 11:42:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = '2'
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.688 ms

*** Query: 2025-07-30 11:42:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '2'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.586 ms

*** Query: 2025-07-30 11:42:10 +07 *******************
SELECT `sale_id`, MAX(sale_time) as sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(sale_status) AS sale_status, `comment`
FROM `ospos_sales_items_temp`
WHERE `sale_id` = 2
 Affected rows: -1
 Execution Time: 0 µs

*** Query: 2025-07-30 11:42:10 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.951 ms

*** Query: 2025-07-30 11:42:10 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.154 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.773 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.466 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.436 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.888 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:42:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.484 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 3
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.59 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.139 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 3
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.459 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 3
 Affected rows: 0
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.944 ms

*** Query: 2025-07-30 11:42:11 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.38 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.339 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.334 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.491 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.017 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.671 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 3
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.7 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.952 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 3
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.75 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
UPDATE `ospos_inventory` SET `trans_date` = '2025-07-30 11:24:04'
WHERE `trans_comment` = 'POS 3'
 Affected rows: 0
 Execution Time: 0.323 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
UPDATE `ospos_sales` SET `sale_time` = '2025-07-30 11:24:04', `customer_id` = NULL, `employee_id` = '1', `comment` = '', `invoice_number` = NULL
WHERE `sale_id` = 3
 Affected rows: 0
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
INSERT INTO `ospos_sales_payments` (`sale_id`, `payment_type`, `payment_amount`, `cash_refund`, `cash_adjustment`, `employee_id`) VALUES (3, 'Cash', 100000, 0, 0, '1')
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.939 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.151 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.596 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.138 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '3'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.614 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = '3'
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 0.826 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '3'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.557 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
SELECT `sale_id`, MAX(sale_time) as sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(sale_status) AS sale_status, `comment`
FROM `ospos_sales_items_temp`
WHERE `sale_id` = 3
 Affected rows: -1
 Execution Time: 0 µs

*** Query: 2025-07-30 11:42:19 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.329 ms

*** Query: 2025-07-30 11:42:19 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.34 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.505 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.019 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 04:42:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.465 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 2
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.576 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.166 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 2
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.458 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 2
 Affected rows: 0
 Execution Time: 0.193 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.258 ms

*** Query: 2025-07-30 11:42:22 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.361 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.455 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.981 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.617 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 2
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.649 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 2
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.225 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 2
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.496 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
UPDATE `ospos_inventory` SET `trans_date` = '2025-07-30 11:00:20'
WHERE `trans_comment` = 'POS 2'
 Affected rows: 0
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
UPDATE `ospos_sales` SET `sale_time` = '2025-07-30 11:00:20', `customer_id` = '2', `employee_id` = '3', `comment` = '', `invoice_number` = NULL
WHERE `sale_id` = 2
 Affected rows: 0
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
INSERT INTO `ospos_sales_payments` (`sale_id`, `payment_type`, `payment_amount`, `cash_refund`, `cash_adjustment`, `employee_id`) VALUES (2, 'Cash', 100000, 0, 0, '1')
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.322 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.409 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.147 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.445 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.034 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 04:42:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '2'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.589 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = '2'
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 0.764 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '2'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.337 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
SELECT `sale_id`, MAX(sale_time) as sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(sale_status) AS sale_status, `comment`
FROM `ospos_sales_items_temp`
WHERE `sale_id` = 2
 Affected rows: -1
 Execution Time: 0 µs

*** Query: 2025-07-30 11:42:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.254 ms

*** Query: 2025-07-30 11:42:26 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.14 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.15 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.223 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:42:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.639 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 3
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 0.815 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 3
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.355 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 3
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.657 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.399 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.863 ms

*** Query: 2025-07-30 11:42:28 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.454 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.145 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.661 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.179 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:42:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:42:31 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 11:42:31 +07 *******************
UPDATE `ospos_inventory` SET `trans_date` = '2025-07-30 11:24:04'
WHERE `trans_comment` = 'POS 3'
 Affected rows: 0
 Execution Time: 0.445 ms

*** Query: 2025-07-30 11:42:31 +07 *******************
UPDATE `ospos_sales` SET `sale_time` = '2025-07-30 11:24:04', `customer_id` = NULL, `employee_id` = '1', `comment` = '', `invoice_number` = NULL
WHERE `sale_id` = 3
 Affected rows: 0
 Execution Time: 0.323 ms

*** Query: 2025-07-30 11:42:31 +07 *******************
DELETE FROM `ospos_sales_payments`
WHERE `payment_id` = '3'
 Affected rows: 1
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:42:31 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.688 ms

*** Query: 2025-07-30 11:42:31 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.196 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'reports%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 14
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.538 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.035 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:42:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.517 ms

*** Query: 2025-07-30 11:42:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '3'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 0
 Execution Time: 0.602 ms

*** Query: 2025-07-30 11:42:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = '3'
                GROUP BY payments.sale_id
            )
 Affected rows: 0
 Execution Time: 0.614 ms

*** Query: 2025-07-30 11:42:32 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = '3'
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 1.225 ms

*** Query: 2025-07-30 11:42:32 +07 *******************
SELECT `sale_id`, MAX(sale_time) as sale_time, SUM(quantity_purchased) AS items_purchased, MAX(employee_name) AS employee_name, MAX(customer_name) AS customer_name, SUM(subtotal) AS subtotal, SUM(tax) AS tax, SUM(total) AS total, SUM(cost) AS cost, SUM(profit) AS profit, MAX(payment_type) AS payment_type, MAX(sale_status) AS sale_status, `comment`
FROM `ospos_sales_items_temp`
WHERE `sale_id` = 3
 Affected rows: -1
 Execution Time: 0 µs

*** Query: 2025-07-30 11:42:32 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.337 ms

*** Query: 2025-07-30 11:42:32 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.144 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.975 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:42:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 1.005 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.38 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.23 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.04 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.92 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.348 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.913 ms

*** Query: 2025-07-30 11:42:35 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.342 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.702 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.088 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.368 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:42:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:42:37 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 0
 Execution Time: 0.282 ms

*** Query: 2025-07-30 11:42:37 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.394 ms

*** Query: 2025-07-30 11:42:37 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.321 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.633 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.948 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.278 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.407 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:42:39 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:42:39 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.37 ms

*** Query: 2025-07-30 11:42:39 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.425 ms

*** Query: 2025-07-30 11:42:39 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:42:39 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.93 ms

*** Query: 2025-07-30 11:42:39 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.184 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.349 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.387 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.549 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.091 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:42:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.684 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.82 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.521 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.672 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.262 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.569 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.64 ms

*** Query: 2025-07-30 11:42:40 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.153 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.473 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.049 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.358 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:42:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.82 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.51 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.629 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `ospos_sales`.`customer_id` = -1
AND `ospos_sales`.`invoice_number` IS NOT NULL
AND   (
`payments`.`payment_type` LIKE '%Cash%' ESCAPE '!'
OR `payments`.`payment_type` IS NULL
 )
AND  `payments`.`payment_type` LIKE '%Credit Card%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payments`.`payment_type` LIKE '%Check%' ESCAPE '!'
 Affected rows: 1
 Execution Time: 0.532 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
AND `invoice_number` IS NOT NULL
AND  `payment_type` LIKE '%Cash%' ESCAPE '!'
AND  `payment_type` LIKE '%Due%' ESCAPE '!'
AND  `payment_type` LIKE '%Check%' ESCAPE '!'
AND  `payment_type` LIKE '%Credit Card%' ESCAPE '!'
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.482 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.832 ms

*** Query: 2025-07-30 11:42:45 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.455 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.016 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:43:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.209 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.27 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.194 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.835 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.792 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.425 ms

*** Query: 2025-07-30 11:43:15 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.155 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.415 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.978 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850301;_ci_previous_url|s:51:\"https://eatmaja.co.id/ppos_demo/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.814 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.567 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.003 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 04:43:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 1
 Execution Time: 0.8 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.53 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 2
 Execution Time: 0.734 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.44 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.211 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.416 ms

*** Query: 2025-07-30 11:43:18 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.458 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.935 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:43:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_delete'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_sales_items`
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.615 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
INSERT INTO `ospos_inventory` (`trans_date`, `trans_items`, `trans_user`, `trans_comment`, `trans_location`, `trans_inventory`) VALUES ('2025-07-30 11:43:33', '1', 1, 'Deleting sale 3', '1', '1.000')
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.199 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
UPDATE `ospos_item_quantities` SET `item_id` = 1, `location_id` = 1, `quantity` = 10
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
UPDATE `ospos_sales` SET `sale_status` = 2
WHERE `sale_id` = 3
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_sales_items`
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
INSERT INTO `ospos_inventory` (`trans_date`, `trans_items`, `trans_user`, `trans_comment`, `trans_location`, `trans_inventory`) VALUES ('2025-07-30 11:43:33', '1', 1, 'Deleting sale 2', '1', '1.000')
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.21 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
UPDATE `ospos_item_quantities` SET `item_id` = 1, `location_id` = 1, `quantity` = 11
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
UPDATE `ospos_sales` SET `sale_status` = 2
WHERE `sale_id` = 2
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.009 ms

*** Query: 2025-07-30 11:43:33 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.159 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.432 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.479 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.942 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.226 ms

*** Query: 2025-07-30 04:43:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.833 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.612 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 0
 Execution Time: 0.613 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 0
 Execution Time: 0.377 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.975 ms

*** Query: 2025-07-30 11:43:34 +07 *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT GET_LOCK('3f8447c7652d9bcc9692e66a9ce83579', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.205 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:229d039302b72bf8cb9cb3452f09771e'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.754 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT RELEASE_LOCK('3f8447c7652d9bcc9692e66a9ce83579') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.164 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.375 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.432 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.176 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.409 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:43:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:43:57 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:92bdb675580ae9f743be9dac4b127b59', '171.14.0.1', '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 9.707 ms

*** Query: 2025-07-30 11:43:57 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.143 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.181 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.35 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.521 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.448 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:43:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.215 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.204 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.221 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.206 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.203 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.185 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.434 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:6:\"return\";dinner_table|i:1;sales_location|i:1;sale_type|i:4;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.257 ms

*** Query: 2025-07-30 11:43:58 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.156 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.192 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.345 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.836 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:44:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.158 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 2
 Execution Time: 0.157 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.155 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.245 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.333 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.779 ms

*** Query: 2025-07-30 11:44:05 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.465 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.791 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.161 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:44:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.375 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.303 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.507 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.334 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.523 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.273 ms

*** Query: 2025-07-30 11:44:21 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.171 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.374 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.23 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.049 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 0
 Execution Time: 0.252 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.295 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.25 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 3
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 03', `deleted` = 0
WHERE `dinner_table_id` = 3
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.444 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.177 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.145 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.351 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.185 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.376 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.003 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:44:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.175 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:44:34 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.136 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.159 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.48 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.953 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:44:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:44:42 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.935 ms

*** Query: 2025-07-30 11:44:42 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.377 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.593 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.462 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.551 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 1.464 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.267 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:44:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.215 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.188 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.777 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.692 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.257 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.722 ms

*** Query: 2025-07-30 11:44:45 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.633 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.046 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:44:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:44:50 +07 *******************
SELECT `item_id`, `name`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `name` LIKE '%test%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 11:44:50 +07 *******************
SELECT `item_id`, `item_number`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `item_number` LIKE '%test%' ESCAPE '!'
ORDER BY `item_number` ASC
 Affected rows: 0
 Execution Time: 0.41 ms

*** Query: 2025-07-30 11:44:50 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `name` LIKE '%test%' ESCAPE '!'
OR  `item_kit_number` LIKE '%test%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 0
 Execution Time: 0.299 ms

*** Query: 2025-07-30 11:44:50 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.43 ms

*** Query: 2025-07-30 11:44:50 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.38 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.334 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.691 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.076 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.404 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:44:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `item_kit_number` = '1'
 Affected rows: 0
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
AND `ospos_items`.`deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` IS NULL
AND `receiving_id` IS NULL
 Affected rows: 1
 Execution Time: 0.468 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.286 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.2 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.834 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.797 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/sales/add\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:1:\"1\";s:8:\"discount\";s:1:\"0\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:6:\"11.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.499 ms

*** Query: 2025-07-30 11:44:52 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.202 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.378 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.451 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.349 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.567 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.051 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.372 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:45:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.308 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
INSERT INTO `ospos_sales` (`sale_time`, `customer_id`, `employee_id`, `comment`, `sale_status`, `invoice_number`, `quote_number`, `work_order_number`, `dinner_table_id`, `sale_type`) VALUES ('2025-07-30 11:45:01', NULL, 1, '', '1', NULL, NULL, NULL, 1, 0)
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.349 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.856 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.76 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.591 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
INSERT INTO `ospos_sales_items` (`sale_id`, `item_id`, `line`, `description`, `serialnumber`, `quantity_purchased`, `discount`, `discount_type`, `item_cost_price`, `item_unit_price`, `item_location`, `print_option`) VALUES (4, '1', 1, '', '', '1', '0', 0, '100000.00', '100000.00', 1, 0)
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
INSERT IGNORE INTO `ospos_attribute_links` (`item_id`, `definition_id`, `attribute_id`, `sale_id`)
SELECT 1, definition_id, attribute_id, 4 FROM ospos_attribute_links WHERE item_id = 1 AND sale_id IS NULL AND receiving_id IS NULL
 Affected rows: 0
 Execution Time: 0.375 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.342 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.584 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.299 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.184 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.817 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.776 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:52:\"https://eatmaja.co.id/ppos_demo/public/sales/suspend\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.186 ms

*** Query: 2025-07-30 11:45:01 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.195 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.338 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.672 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.131 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.283 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.46 ms

*** Query: 2025-07-30 04:45:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 11:45:03 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:45:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.837 ms

*** Query: 2025-07-30 11:45:03 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.166 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.238 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.448 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.323 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.22 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.187 ms

*** Query: 2025-07-30 04:45:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.197 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.152 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 2
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.181 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.301 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.849 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.712 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.19 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.234 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.314 ms

*** Query: 2025-07-30 11:45:12 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.134 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.237 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.421 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.323 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.229 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.221 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 04:45:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.149 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.168 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.211 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.142 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.746 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.655 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.188 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.191 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.609 ms

*** Query: 2025-07-30 11:45:14 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.18 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.363 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.553 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.477 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.014 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.245 ms

*** Query: 2025-07-30 04:45:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 3
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.206 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.159 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.754 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.737 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.761 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.189 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:3;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.498 ms

*** Query: 2025-07-30 11:45:16 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.184 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.287 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.624 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.058 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:45:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.263 ms

*** Query: 2025-07-30 11:45:17 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 11:45:17 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.573 ms

*** Query: 2025-07-30 11:45:17 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.171 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.664 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.132 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.589 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.307 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:45:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.318 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 3
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.354 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.632 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.296 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.283 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.994 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.864 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.443 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.213 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.723 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.279 ms

*** Query: 2025-07-30 11:45:19 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.276 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.648 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.115 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.357 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:45:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 11:45:21 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 11:45:21 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.163 ms

*** Query: 2025-07-30 11:45:21 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.315 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.392 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.269 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.475 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.947 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.809 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.215 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.319 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.473 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.99 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 04:45:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 2
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.229 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.38 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.227 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.838 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.74 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.344 ms

*** Query: 2025-07-30 11:45:24 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.374 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.39 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.437 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.12 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.328 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:45:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 11:45:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.306 ms

*** Query: 2025-07-30 11:45:26 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.165 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.282 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.282 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.453 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.079 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.321 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.248 ms

*** Query: 2025-07-30 04:45:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.236 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.302 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.481 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.927 ms

*** Query: 2025-07-30 11:45:27 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.179 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.451 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.469 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.212 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.373 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.994 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 04:45:31 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 11:45:31 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.513 ms

*** Query: 2025-07-30 11:45:31 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 0
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:45:31 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:45:31 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.156 ms

*** Query: 2025-07-30 11:45:31 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.464 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.175 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.242 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.261 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.393 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.009 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.664 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.241 ms

*** Query: 2025-07-30 04:45:32 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:45:32 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.223 ms

*** Query: 2025-07-30 11:45:32 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.361 ms

*** Query: 2025-07-30 11:45:32 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.224 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.372 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.337 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.622 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.12 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 04:45:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 11:45:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.222 ms

*** Query: 2025-07-30 11:45:34 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.19 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.359 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.274 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.451 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.938 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.363 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 04:45:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.413 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 2
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.398 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.422 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.339 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.209 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.854 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.804 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.638 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.246 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.326 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 19.749 ms

*** Query: 2025-07-30 11:45:36 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.204 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.433 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.122 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.269 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.205 ms

*** Query: 2025-07-30 04:45:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:45:38 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:45:38 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:45:38 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.643 ms

*** Query: 2025-07-30 11:45:38 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.205 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.292 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.44 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.135 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.301 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.325 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 04:45:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.011 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT `sales_items`.`sale_id`, `sales_items`.`item_id`, `sales_items`.`description`, `serialnumber`, `line`, `quantity_purchased`, `item_cost_price`, `item_unit_price`, `discount`, `discount_type`, `item_location`, `print_option`, `items`.`name` AS `name`, `category`, `item_type`, `stock_type`
FROM `ospos_sales_items` AS `sales_items`
JOIN `ospos_items` AS `items` ON `sales_items`.`item_id` = `items`.`item_id`
WHERE `sales_items`.`sale_id` = 4
ORDER BY `line` ASC
 Affected rows: 1
 Execution Time: 0.994 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.412 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` = 4
AND definition_flags & 2
 Affected rows: 1
 Execution Time: 0.822 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.512 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 4
 Affected rows: 0
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` IS NULL
 Affected rows: 0
 Execution Time: 0.32 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.267 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.653 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.906 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.286 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.233 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.257 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.452 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.868 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 1.119 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.395 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.275 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.239 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.398 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:54:\"https://eatmaja.co.id/ppos_demo/public/sales/unsuspend\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:4;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:5:\"1.000\";s:8:\"discount\";s:4:\"0.00\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:6:\"11.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}cash_mode|i:0;sales_customer|i:-1;sales_quote_number|N;sales_work_order_number|N;sale_type|i:0;sales_comment|s:0:\"\";dinner_table|i:1;sales_mode|s:4:\"sale\";cash_rounding|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.229 ms

*** Query: 2025-07-30 11:45:41 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.311 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.4 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.534 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.162 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.368 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.331 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:45:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.38 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.752 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.933 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.383 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.376 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.394 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.912 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.859 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.317 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.241 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.303 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.224 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.972 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.879 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 2.044 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:55:\"https://eatmaja.co.id/ppos_demo/public/sales/addPayment\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:4;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:5:\"1.000\";s:8:\"discount\";s:4:\"0.00\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:6:\"11.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}cash_mode|i:0;sales_customer|i:-1;sales_quote_number|N;sales_work_order_number|N;sale_type|i:0;sales_comment|s:0:\"\";dinner_table|i:1;sales_mode|s:4:\"sale\";cash_rounding|i:0;sales_payments|a:1:{s:4:\"Cash\";a:4:{s:12:\"payment_type\";s:4:\"Cash\";s:14:\"payment_amount\";s:6:\"111000\";s:11:\"cash_refund\";i:0;s:15:\"cash_adjustment\";i:0;}}'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 39.145 ms

*** Query: 2025-07-30 11:45:48 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.31 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.515 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.965 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.306 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:45:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.262 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.395 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.631 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.825 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.751 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
DELETE FROM `ospos_sales_payments`
WHERE `sale_id` = 4
 Affected rows: 0
 Execution Time: 0.185 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
DELETE FROM `ospos_sales_items_taxes`
WHERE `sale_id` = 4
 Affected rows: 0
 Execution Time: 0.168 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
DELETE FROM `ospos_sales_items`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.49 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
DELETE FROM `ospos_sales_taxes`
WHERE `sale_id` = 4
 Affected rows: 0
 Execution Time: 1.105 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.256 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
UPDATE `ospos_sales` SET `sale_time` = '2025-07-30 11:45:52', `customer_id` = NULL, `employee_id` = 1, `comment` = '', `sale_status` = '0', `invoice_number` = NULL, `quote_number` = NULL, `work_order_number` = NULL, `dinner_table_id` = 1, `sale_type` = 0
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.544 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
INSERT INTO `ospos_sales_payments` (`sale_id`, `payment_type`, `payment_amount`, `cash_refund`, `cash_adjustment`, `employee_id`) VALUES (4, 'Cash', '111000', 0, 0, 1)
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.185 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.783 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.748 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.385 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
INSERT INTO `ospos_sales_items` (`sale_id`, `item_id`, `line`, `description`, `serialnumber`, `quantity_purchased`, `discount`, `discount_type`, `item_cost_price`, `item_unit_price`, `item_location`, `print_option`) VALUES (4, '1', 1, '', '', '1.000', '0.00', 0, '100000.00', '100000.00', 1, 0)
 Affected rows: 1
 Execution Time: 0.254 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.168 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
UPDATE `ospos_item_quantities` SET `quantity` = 10, `item_id` = '1', `location_id` = 1
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
INSERT INTO `ospos_inventory` (`trans_date`, `trans_items`, `trans_user`, `trans_location`, `trans_comment`, `trans_inventory`) VALUES ('2025-07-30 11:45:52', '1', 1, 1, 'POS 4', -1)
 Affected rows: 1
 Execution Time: 0.31 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
INSERT IGNORE INTO `ospos_attribute_links` (`item_id`, `definition_id`, `attribute_id`, `sale_id`)
SELECT 1, definition_id, attribute_id, 4 FROM ospos_attribute_links WHERE item_id = 1 AND sale_id IS NULL AND receiving_id IS NULL
 Affected rows: 0
 Execution Time: 0.387 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
INSERT INTO `ospos_sales_taxes` (`sale_id`, `tax_type`, `tax_group`, `sale_tax_basis`, `sale_tax_amount`, `print_sequence`, `name`, `tax_rate`, `sales_tax_code_id`, `jurisdiction_id`, `tax_category_id`, `rounding_code`) VALUES (4, '1', 'PPn', '100000.0000', 11000, 1, 'PPn', '11.000', NULL, NULL, NULL, 1)
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
INSERT INTO `ospos_sales_items_taxes` (`sale_id`, `item_id`, `line`, `name`, `percent`, `tax_type`, `rounding_code`, `cascade_sequence`, `item_tax_amount`, `sales_tax_code_id`, `tax_category_id`, `jurisdiction_id`) VALUES (4, '1', 1, 'PPn', '11.000', '1', 1, 0, '11000', NULL, NULL, NULL)
 Affected rows: 1
 Execution Time: 0.227 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.446 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753850637;_ci_previous_url|s:53:\"https://eatmaja.co.id/ppos_demo/public/sales/complete\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;'
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.204 ms

*** Query: 2025-07-30 11:45:52 +07 *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.217 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT GET_LOCK('a9f1eb1903eb0c8354eeba7fad650110', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.32 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:92bdb675580ae9f743be9dac4b127b59'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.747 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT RELEASE_LOCK('a9f1eb1903eb0c8354eeba7fad650110') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.355 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT GET_LOCK('4afcda6530cec56e8a8b921b19bb9e43', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4354d59db12abdf1d069072054c25e10'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.322 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.388 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.359 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.599 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.121 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.243 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.235 ms

*** Query: 2025-07-30 04:49:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.44 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.332 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.892 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.812 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.26 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.362 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.401 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:4354d59db12abdf1d069072054c25e10', '171.14.0.1', '__ci_last_regenerate|i:1753850968;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 3.538 ms

*** Query: 2025-07-30 11:49:28 +07 *******************
SELECT RELEASE_LOCK('4afcda6530cec56e8a8b921b19bb9e43') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.506 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT GET_LOCK('4afcda6530cec56e8a8b921b19bb9e43', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.218 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4354d59db12abdf1d069072054c25e10'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.132 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.473 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.73 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.228 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.363 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.394 ms

*** Query: 2025-07-30 04:49:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.393 ms

*** Query: 2025-07-30 11:49:30 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 0
 Execution Time: 0.302 ms

*** Query: 2025-07-30 11:49:30 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4354d59db12abdf1d069072054c25e10'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.287 ms

*** Query: 2025-07-30 11:49:30 +07 *******************
SELECT RELEASE_LOCK('4afcda6530cec56e8a8b921b19bb9e43') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT GET_LOCK('4afcda6530cec56e8a8b921b19bb9e43', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4354d59db12abdf1d069072054c25e10'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.388 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4354d59db12abdf1d069072054c25e10'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.31 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT RELEASE_LOCK('4afcda6530cec56e8a8b921b19bb9e43') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.206 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.455 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.476 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.457 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.686 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.101 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.392 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.403 ms

*** Query: 2025-07-30 04:55:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.369 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.512 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.598 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.392 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.08 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.878 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.35 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.386 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.519 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.411 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.582 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716', '171.14.0.1', '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 3.3 ms

*** Query: 2025-07-30 11:55:09 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.176 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.616 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.372 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.298 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.553 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.143 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:55:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 11:55:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.544 ms

*** Query: 2025-07-30 11:55:15 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.244 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.931 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.437 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.405 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.97 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.464 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.351 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 04:55:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 0.253 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.225 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 0.196 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.461 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.162 ms

*** Query: 2025-07-30 11:55:17 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.267 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.174 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.266 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.294 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.41 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.631 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.277 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.292 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 1
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.257 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 0.287 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir  01', `deleted` = 0
WHERE `dinner_table_id` = 1
 Affected rows: 0
 Execution Time: 0.214 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 02', `deleted` = 0
WHERE `dinner_table_id` = 2
 Affected rows: 0
 Execution Time: 0.278 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 3
 Affected rows: 1
 Execution Time: 0.173 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
UPDATE `ospos_dinner_tables` SET `name` = 'Kasir 03', `deleted` = 0
WHERE `dinner_table_id` = 3
 Affected rows: 0
 Execution Time: 0.169 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.208 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:45:\"https://eatmaja.co.id/ppos_demo/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.404 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.252 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.176 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.347 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.262 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 0.501 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.09 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.288 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.271 ms

*** Query: 2025-07-30 04:55:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.334 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 0.295 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 0
 Execution Time: 0.382 ms

*** Query: 2025-07-30 11:55:22 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.222 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.201 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.372 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.43 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.591 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.19 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.435 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.402 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:55:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.354 ms

*** Query: 2025-07-30 11:55:25 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:43:\"https://eatmaja.co.id/ppos_demo/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";'
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.338 ms

*** Query: 2025-07-30 11:55:25 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.375 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.458 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.494 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.406 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.586 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.079 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.381 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.417 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:55:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.337 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.352 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.484 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.496 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.438 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.274 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 1.122 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.971 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.414 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.531 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.383 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.794 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.412 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.543 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:44:\"https://eatmaja.co.id/ppos_demo/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.869 ms

*** Query: 2025-07-30 11:55:26 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.872 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.211 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.416 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.341 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.611 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.228 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.316 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.348 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.27 ms

*** Query: 2025-07-30 04:55:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.284 ms

*** Query: 2025-07-30 11:55:29 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 0
 Execution Time: 0.309 ms

*** Query: 2025-07-30 11:55:29 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.779 ms

*** Query: 2025-07-30 11:55:29 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.203 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.439 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.501 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.334 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.565 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.091 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.351 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.426 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.542 ms

*** Query: 2025-07-30 04:55:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.431 ms

*** Query: 2025-07-30 11:55:33 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 0
 Execution Time: 0.316 ms

*** Query: 2025-07-30 11:55:33 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.685 ms

*** Query: 2025-07-30 11:55:33 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.193 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.346 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.423 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.3 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.491 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.182 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.976 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.19 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.757 ms

*** Query: 2025-07-30 04:55:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.647 ms

*** Query: 2025-07-30 11:55:40 +07 *******************
SELECT `item_id`, `name`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `name` LIKE '%te%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 1
 Execution Time: 0.379 ms

*** Query: 2025-07-30 11:55:40 +07 *******************
SELECT `item_id`, `item_number`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `item_number` LIKE '%te%' ESCAPE '!'
ORDER BY `item_number` ASC
 Affected rows: 0
 Execution Time: 0.41 ms

*** Query: 2025-07-30 11:55:40 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `name` LIKE '%te%' ESCAPE '!'
OR  `item_kit_number` LIKE '%te%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 0
 Execution Time: 0.357 ms

*** Query: 2025-07-30 11:55:40 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.305 ms

*** Query: 2025-07-30 11:55:40 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.399 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.182 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.303 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.382 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.371 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.555 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.193 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.552 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.256 ms

*** Query: 2025-07-30 04:55:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `item_kit_number` = '1'
 Affected rows: 0
 Execution Time: 0.419 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
AND `ospos_items`.`deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.582 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` IS NULL
AND `receiving_id` IS NULL
 Affected rows: 1
 Execution Time: 0.555 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.348 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.255 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.315 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.503 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.386 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.306 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.968 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.943 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 0.364 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.389 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.297 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.273 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.295 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.438 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:48:\"https://eatmaja.co.id/ppos_demo/public/sales/add\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";cash_rounding|i:0;cash_mode|i:0;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:1:\"1\";s:8:\"discount\";s:1:\"0\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:6:\"10.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.196 ms

*** Query: 2025-07-30 11:55:41 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.304 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.25 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.312 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.39 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.433 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.609 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.109 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.348 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.841 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.376 ms

*** Query: 2025-07-30 04:55:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.34 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.038 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.432 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
INSERT INTO `ospos_sales` (`sale_time`, `customer_id`, `employee_id`, `comment`, `sale_status`, `invoice_number`, `quote_number`, `work_order_number`, `dinner_table_id`, `sale_type`) VALUES ('2025-07-30 11:55:44', NULL, 1, '', '1', NULL, NULL, NULL, 1, 0)
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.306 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.232 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.921 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.989 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.833 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
INSERT INTO `ospos_sales_items` (`sale_id`, `item_id`, `line`, `description`, `serialnumber`, `quantity_purchased`, `discount`, `discount_type`, `item_cost_price`, `item_unit_price`, `item_location`, `print_option`) VALUES (5, '1', 1, '', '', '1', '0', 0, '100000.00', '100000.00', 1, 0)
 Affected rows: 1
 Execution Time: 0.528 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
INSERT IGNORE INTO `ospos_attribute_links` (`item_id`, `definition_id`, `attribute_id`, `sale_id`)
SELECT 1, definition_id, attribute_id, 5 FROM ospos_attribute_links WHERE item_id = 1 AND sale_id IS NULL AND receiving_id IS NULL
 Affected rows: 0
 Execution Time: 0.857 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.946 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.991 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.773 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.367 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.883 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.879 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.341 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.23 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.29 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.352 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.392 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.431 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753851309;_ci_previous_url|s:52:\"https://eatmaja.co.id/ppos_demo/public/sales/suspend\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_employee|i:1;item_location|s:1:\"1\";sales_location|i:1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.301 ms

*** Query: 2025-07-30 11:55:44 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.314 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.198 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.396 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.445 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.663 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.125 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.322 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.366 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.336 ms

*** Query: 2025-07-30 04:55:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.335 ms

*** Query: 2025-07-30 11:55:46 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.264 ms

*** Query: 2025-07-30 11:55:46 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 3.199 ms

*** Query: 2025-07-30 11:55:46 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.289 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.168 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.279 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.367 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.349 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.579 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.995 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.236 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.216 ms

*** Query: 2025-07-30 04:55:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.272 ms

*** Query: 2025-07-30 11:55:48 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.24 ms

*** Query: 2025-07-30 11:55:48 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.537 ms

*** Query: 2025-07-30 11:55:48 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.353 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.258 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.372 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.64 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.437 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 1.314 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.157 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.329 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.296 ms

*** Query: 2025-07-30 04:55:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 11:55:50 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.345 ms

*** Query: 2025-07-30 11:55:50 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.307 ms

*** Query: 2025-07-30 11:55:50 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.247 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.161 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.305 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.376 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.478 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.029 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.33 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.299 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.265 ms

*** Query: 2025-07-30 04:55:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.324 ms

*** Query: 2025-07-30 11:55:52 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.332 ms

*** Query: 2025-07-30 11:55:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.46 ms

*** Query: 2025-07-30 11:55:52 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.251 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.212 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.365 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.343 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.263 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.386 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.966 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.293 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.281 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.232 ms

*** Query: 2025-07-30 04:55:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.207 ms

*** Query: 2025-07-30 11:55:54 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 11:55:54 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.591 ms

*** Query: 2025-07-30 11:55:54 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.309 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.158 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.259 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.323 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.313 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.496 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.003 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.285 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.28 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.231 ms

*** Query: 2025-07-30 04:55:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238 ms

*** Query: 2025-07-30 11:55:56 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.249 ms

*** Query: 2025-07-30 11:55:56 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 1.858 ms

*** Query: 2025-07-30 11:55:56 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.228 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT GET_LOCK('eb0fb1d71b5ee278f2c0cee28e709458', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.223 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 0.356 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.391 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 1.018 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.827 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.089 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.557 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.376 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.302 ms

*** Query: 2025-07-30 04:56:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.291 ms

*** Query: 2025-07-30 11:56:06 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.268 ms

*** Query: 2025-07-30 11:56:06 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:4aeac587c9b577f3f2ebb282dec5f716'
AND `ip_address` = '171.14.0.1'
 Affected rows: 1
 Execution Time: 2.001 ms

*** Query: 2025-07-30 11:56:06 +07 *******************
SELECT RELEASE_LOCK('eb0fb1d71b5ee278f2c0cee28e709458') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.219 ms

*** Query: 2025-07-30 05:08:57 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.10773 s

*** Query: 2025-07-30 05:08:57 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 0.10803 s

*** Query: 2025-07-30 05:08:57 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.103457 s

*** Query: 2025-07-30 05:08:57 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 67.404 ms

*** Query: 2025-07-30 05:08:57 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 58.856 ms

*** Query: 2025-07-30 12:08:57 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 76.015 ms

*** Query: 2025-07-30 12:08:58 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.974 ms

*** Query: 2025-07-30 12:08:58 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:7518ecffb898ad2c2156372a36c51097', '::1', '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:33:\"https://localhost/ospos_2/public/\";')
 Affected rows: 1
 Execution Time: 56.393 ms

*** Query: 2025-07-30 12:08:58 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 42.335 ms

*** Query: 2025-07-30 05:09:08 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.121293 s

*** Query: 2025-07-30 05:09:08 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.130895 s

*** Query: 2025-07-30 05:09:08 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.229273 s

*** Query: 2025-07-30 05:09:08 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 53.071 ms

*** Query: 2025-07-30 12:09:08 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 52.564 ms

*** Query: 2025-07-30 12:09:08 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 46.36 ms

*** Query: 2025-07-30 12:09:08 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'admin'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 72.702 ms

*** Query: 2025-07-30 12:09:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:33:\"https://localhost/ospos_2/public/\";person_id|s:1:\"1\";'
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 78.894 ms

*** Query: 2025-07-30 12:09:09 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.481 ms

*** Query: 2025-07-30 05:09:09 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 63.744 ms

*** Query: 2025-07-30 05:09:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.893 ms

*** Query: 2025-07-30 05:09:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.356 ms

*** Query: 2025-07-30 05:09:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 49.996 ms

*** Query: 2025-07-30 05:09:09 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 49.047 ms

*** Query: 2025-07-30 05:09:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.193235 s

*** Query: 2025-07-30 05:09:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.177009 s

*** Query: 2025-07-30 05:09:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.204153 s

*** Query: 2025-07-30 05:09:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.211722 s

*** Query: 2025-07-30 05:09:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.196684 s

*** Query: 2025-07-30 05:09:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.203368 s

*** Query: 2025-07-30 12:09:11 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:37:\"https://localhost/ospos_2/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.185907 s

*** Query: 2025-07-30 12:09:11 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.209177 s

*** Query: 2025-07-30 05:09:36 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 64.485 ms

*** Query: 2025-07-30 05:09:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 60.833 ms

*** Query: 2025-07-30 05:09:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.915 ms

*** Query: 2025-07-30 05:09:36 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 59.976 ms

*** Query: 2025-07-30 05:09:36 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 55.987 ms

*** Query: 2025-07-30 05:09:36 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 68.125 ms

*** Query: 2025-07-30 05:09:36 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 74.027 ms

*** Query: 2025-07-30 05:09:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.921 ms

*** Query: 2025-07-30 05:09:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.953 ms

*** Query: 2025-07-30 05:09:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.424472 s

*** Query: 2025-07-30 12:09:37 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 66.356 ms

*** Query: 2025-07-30 12:09:37 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 84.105 ms

*** Query: 2025-07-30 12:09:37 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.124 ms

*** Query: 2025-07-30 12:09:37 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 67.932 ms

*** Query: 2025-07-30 12:09:37 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 57.328 ms

*** Query: 2025-07-30 12:09:37 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 63.965 ms

*** Query: 2025-07-30 12:09:37 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 61.108 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 68.232 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.719 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 53.911 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 64.097 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 71.408 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 60.031 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 91.609 ms

*** Query: 2025-07-30 12:09:38 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 38.662 ms

*** Query: 2025-07-30 05:09:41 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.247399 s

*** Query: 2025-07-30 05:09:42 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.213368 s

*** Query: 2025-07-30 05:09:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.209463 s

*** Query: 2025-07-30 05:09:42 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.234241 s

*** Query: 2025-07-30 05:09:42 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.206516 s

*** Query: 2025-07-30 05:09:42 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.198625 s

*** Query: 2025-07-30 05:09:43 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 97.279 ms

*** Query: 2025-07-30 05:09:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.963789 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:09:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 46.937 ms

*** Query: 2025-07-30 05:09:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 60.081 ms

*** Query: 2025-07-30 12:09:44 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 64.945 ms

*** Query: 2025-07-30 12:09:44 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 95.448 ms

*** Query: 2025-07-30 12:09:44 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 79.588 ms

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.221099 s

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.153113 s

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.158887 s

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 62.531 ms

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.141927 s

*** Query: 2025-07-30 05:09:47 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 57.433 ms

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 50.284 ms

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.134 ms

*** Query: 2025-07-30 05:09:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 54.363 ms

*** Query: 2025-07-30 05:09:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.473101 s

*** Query: 2025-07-30 12:09:48 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 69.237 ms

*** Query: 2025-07-30 12:09:48 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 51.879 ms

*** Query: 2025-07-30 12:09:48 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 74.762 ms

*** Query: 2025-07-30 05:09:49 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.354916 s

*** Query: 2025-07-30 05:09:49 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 66.184 ms

*** Query: 2025-07-30 05:09:49 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.047 ms

*** Query: 2025-07-30 05:09:49 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 59.407 ms

*** Query: 2025-07-30 05:09:50 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.658317 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:09:50 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 59.614 ms

*** Query: 2025-07-30 05:09:50 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 58.69 ms

*** Query: 2025-07-30 05:09:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 60.289 ms

*** Query: 2025-07-30 05:09:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.95 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.448948 s

*** Query: 2025-07-30 12:09:51 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 62.45 ms

*** Query: 2025-07-30 12:09:51 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 53.434 ms

*** Query: 2025-07-30 12:09:51 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 64.431 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.538271 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 48.363 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 68.094 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 51.49 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 77.278 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 54.577 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 60.498 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.538 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.231 ms

*** Query: 2025-07-30 05:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.706 ms

*** Query: 2025-07-30 12:09:51 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 1
 Affected rows: 1
 Execution Time: 58.213 ms

*** Query: 2025-07-30 12:09:51 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 2
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 66.43 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 56.305 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 49.14 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 53.212 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 49.013 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 58.864 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.452 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 35.107 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 54.892 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.673 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 45.208 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 42.85 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:49:\"https://localhost/ospos_2/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:2;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 52.854 ms

*** Query: 2025-07-30 12:09:52 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 48.535 ms

*** Query: 2025-07-30 05:09:52 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 1.042612 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:09:52 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 46.803 ms

*** Query: 2025-07-30 05:09:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 50.721 ms

*** Query: 2025-07-30 05:09:52 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 49.908 ms

*** Query: 2025-07-30 05:09:52 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 53.379 ms

*** Query: 2025-07-30 05:09:52 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 49.684 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.648 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 50.206 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.917 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.407 ms

*** Query: 2025-07-30 12:09:53 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 54.321 ms

*** Query: 2025-07-30 12:09:53 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 75.474 ms

*** Query: 2025-07-30 12:09:53 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.64 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.657919 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 61.094 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 70.965 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 55.596 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 69.362 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 47.847 ms

*** Query: 2025-07-30 05:09:53 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 62.957 ms

*** Query: 2025-07-30 05:09:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.532521 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:09:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 52.103 ms

*** Query: 2025-07-30 05:09:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.437146 s

*** Query: 2025-07-30 12:09:54 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 2
 Affected rows: 1
 Execution Time: 60.279 ms

*** Query: 2025-07-30 12:09:54 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 3
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 56.514 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 55.738 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 55.274 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 51.359 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 58.308 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 56.335 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.66 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 56.849 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.666 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 61.269 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 65.129 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.21 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:49:\"https://localhost/ospos_2/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:3;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 60.196 ms

*** Query: 2025-07-30 12:09:55 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.893 ms

*** Query: 2025-07-30 05:09:55 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 2.009681 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:09:55 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 50.127 ms

*** Query: 2025-07-30 05:09:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.763 ms

*** Query: 2025-07-30 05:09:55 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 62.978 ms

*** Query: 2025-07-30 05:09:56 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 82.813 ms

*** Query: 2025-07-30 05:09:56 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 64.146 ms

*** Query: 2025-07-30 05:09:56 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 64.844 ms

*** Query: 2025-07-30 05:09:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.11 ms

*** Query: 2025-07-30 05:09:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.864 ms

*** Query: 2025-07-30 05:09:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.723 ms

*** Query: 2025-07-30 12:09:56 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 50.859 ms

*** Query: 2025-07-30 12:09:56 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 69.757 ms

*** Query: 2025-07-30 12:09:56 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 39.445 ms

*** Query: 2025-07-30 05:11:33 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.39769 s

*** Query: 2025-07-30 05:11:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.692118 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:34 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.713599 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.687647 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:37 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 1.624487 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:38 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.947151 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:38 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.616886 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:40 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 1.789125 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.187537 s

*** Query: 2025-07-30 05:11:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.845 ms

*** Query: 2025-07-30 05:11:40 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 75.098 ms

*** Query: 2025-07-30 12:11:41 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.106598 s

*** Query: 2025-07-30 12:11:41 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 72.411 ms

*** Query: 2025-07-30 12:11:41 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.171925 s

*** Query: 2025-07-30 05:11:41 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 1.998217 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:11:41 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.274599 s

*** Query: 2025-07-30 05:11:41 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.247652 s

*** Query: 2025-07-30 05:11:42 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.210441 s

*** Query: 2025-07-30 05:11:42 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.2106 s

*** Query: 2025-07-30 05:11:42 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.185151 s

*** Query: 2025-07-30 05:11:42 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.190319 s

*** Query: 2025-07-30 05:11:42 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.238948 s

*** Query: 2025-07-30 05:11:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.215001 s

*** Query: 2025-07-30 05:11:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.181257 s

*** Query: 2025-07-30 12:11:43 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 3
 Affected rows: 1
 Execution Time: 0.174266 s

*** Query: 2025-07-30 12:11:43 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 3
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.206348 s

*** Query: 2025-07-30 12:11:43 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.223492 s

*** Query: 2025-07-30 12:11:44 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.22991 s

*** Query: 2025-07-30 12:11:44 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.184693 s

*** Query: 2025-07-30 12:11:44 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.162497 s

*** Query: 2025-07-30 12:11:44 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.126657 s

*** Query: 2025-07-30 12:11:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.10691 s

*** Query: 2025-07-30 12:11:44 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 87.759 ms

*** Query: 2025-07-30 12:11:44 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 98.718 ms

*** Query: 2025-07-30 12:11:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 89.897 ms

*** Query: 2025-07-30 12:11:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 85.705 ms

*** Query: 2025-07-30 12:11:45 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 57.652 ms

*** Query: 2025-07-30 12:11:45 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 78.353 ms

*** Query: 2025-07-30 12:11:45 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 68.985 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 57.038 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 55.352 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 51.706 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 63.46 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 47.045 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 48.516 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 43.706 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 42.619 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.357 ms

*** Query: 2025-07-30 05:11:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 53.558 ms

*** Query: 2025-07-30 12:11:58 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 95.663 ms

*** Query: 2025-07-30 12:11:58 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 51.64 ms

*** Query: 2025-07-30 12:11:58 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 50.447 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 71.753 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 66.987 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 49.763 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 51.747 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 63.325 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 55.443 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 70.683 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.902 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 47.089 ms

*** Query: 2025-07-30 05:12:00 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 83.737 ms

*** Query: 2025-07-30 12:12:00 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 51.477 ms

*** Query: 2025-07-30 12:12:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 80.217 ms

*** Query: 2025-07-30 12:12:01 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.318 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 38.33 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 52.627 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.613 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 47.22 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 67.759 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 51.935 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.714 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.949 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 45.699 ms

*** Query: 2025-07-30 05:12:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.89 ms

*** Query: 2025-07-30 12:12:02 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `dinner_table_id` = 3
 Affected rows: 1
 Execution Time: 53.265 ms

*** Query: 2025-07-30 12:12:02 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 45.301 ms

*** Query: 2025-07-30 12:12:02 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 55.892 ms

*** Query: 2025-07-30 12:12:02 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 49.264 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 59.643 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 64.117 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 60.207 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.554 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 80.175 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 71.296 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 66.765 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 81.197 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 84.802 ms

*** Query: 2025-07-30 12:12:03 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:49:\"https://localhost/ospos_2/public/sales/changeMode\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 94.977 ms

*** Query: 2025-07-30 05:12:03 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.792843 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 12:12:03 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 78.123 ms

*** Query: 2025-07-30 05:12:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 83.641 ms

*** Query: 2025-07-30 05:12:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 86.781 ms

*** Query: 2025-07-30 05:12:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 68.771 ms

*** Query: 2025-07-30 05:12:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 76.886 ms

*** Query: 2025-07-30 05:12:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 90.188 ms

*** Query: 2025-07-30 05:12:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 84.011 ms

*** Query: 2025-07-30 05:12:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 84.611 ms

*** Query: 2025-07-30 05:12:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.116781 s

*** Query: 2025-07-30 05:12:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.14597 s

*** Query: 2025-07-30 12:12:05 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.196606 s

*** Query: 2025-07-30 12:12:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.151054 s

*** Query: 2025-07-30 12:12:05 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.164559 s

*** Query: 2025-07-30 05:12:06 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.132376 s

*** Query: 2025-07-30 05:12:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.121054 s

*** Query: 2025-07-30 05:12:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.117518 s

*** Query: 2025-07-30 05:12:06 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.123383 s

*** Query: 2025-07-30 05:12:06 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.125005 s

*** Query: 2025-07-30 05:12:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.140986 s

*** Query: 2025-07-30 05:12:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.128877 s

*** Query: 2025-07-30 05:12:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.116377 s

*** Query: 2025-07-30 05:12:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.150169 s

*** Query: 2025-07-30 05:12:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.126574 s

*** Query: 2025-07-30 12:12:07 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 79.445 ms

*** Query: 2025-07-30 12:12:07 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 66.55 ms

*** Query: 2025-07-30 12:12:07 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.121229 s

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 74.501 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.225 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.536 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 53.122 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 65.359 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 58.4 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.696 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.435 ms

*** Query: 2025-07-30 05:12:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 72.766 ms

*** Query: 2025-07-30 05:12:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.028 ms

*** Query: 2025-07-30 12:12:13 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 46.722 ms

*** Query: 2025-07-30 12:12:13 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 55.426 ms

*** Query: 2025-07-30 12:12:13 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.107122 s

*** Query: 2025-07-30 12:12:13 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 55.274 ms

*** Query: 2025-07-30 12:12:13 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 43.973 ms

*** Query: 2025-07-30 12:12:13 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.113579 s

*** Query: 2025-07-30 12:12:13 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 60.633 ms

*** Query: 2025-07-30 12:12:13 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 48.239 ms

*** Query: 2025-07-30 12:12:14 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.46329 s

*** Query: 2025-07-30 12:12:14 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.518718 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 12:12:14 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.112594 s

*** Query: 2025-07-30 12:12:15 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.458171 s

*** Query: 2025-07-30 12:12:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753852137;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 40.893 ms

*** Query: 2025-07-30 12:12:15 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 79.177 ms

*** Query: 2025-07-30 05:24:51 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 65.726 ms

*** Query: 2025-07-30 05:24:51 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 65.463 ms

*** Query: 2025-07-30 05:24:51 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 71.286 ms

*** Query: 2025-07-30 05:24:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 60.334 ms

*** Query: 2025-07-30 05:24:51 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 52.544 ms

*** Query: 2025-07-30 05:24:51 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 63.399 ms

*** Query: 2025-07-30 05:24:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.33444 s

*** Query: 2025-07-30 05:24:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.854 ms

*** Query: 2025-07-30 05:24:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 84.889 ms

*** Query: 2025-07-30 05:24:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.364 ms

*** Query: 2025-07-30 05:24:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.366 ms

*** Query: 2025-07-30 12:24:52 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 57.935 ms

*** Query: 2025-07-30 12:24:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 66.051 ms

*** Query: 2025-07-30 12:24:52 +07 *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 47.19 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT GET_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 59.649 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 53.048 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:7518ecffb898ad2c2156372a36c51097'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 54.532 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT RELEASE_LOCK('7ba0edeb978cfdf939cc0ffe2964caf8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.636 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT GET_LOCK('2b7d42e253d1d7882cfd3b078b5d0962', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 58.94 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 46.903 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.678 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'receivings%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 2
 Execution Time: 53.728 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 67.431 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 51.521 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 59.634 ms

*** Query: 2025-07-30 05:24:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 84.295 ms

*** Query: 2025-07-30 05:24:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.130603 s

*** Query: 2025-07-30 05:24:55 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.200108 s

*** Query: 2025-07-30 12:24:55 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'receivings%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 82.011 ms

*** Query: 2025-07-30 12:24:55 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 76 ms

*** Query: 2025-07-30 12:24:55 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 57.819 ms

*** Query: 2025-07-30 12:24:55 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7', '::1', '__ci_last_regenerate|i:1753853094;_ci_previous_url|s:43:\"https://localhost/ospos_2/public/receivings\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;')
 Affected rows: 1
 Execution Time: 56.512 ms

*** Query: 2025-07-30 12:24:55 +07 *******************
SELECT RELEASE_LOCK('2b7d42e253d1d7882cfd3b078b5d0962') AS ci_session_lock
 Affected rows: 1
 Execution Time: 49.509 ms

*** Query: 2025-07-30 05:24:58 UTC *******************
SELECT GET_LOCK('2b7d42e253d1d7882cfd3b078b5d0962', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.712581 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:24:58 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.2 ms

*** Query: 2025-07-30 05:24:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 68.012 ms

*** Query: 2025-07-30 05:24:58 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 53.836 ms

*** Query: 2025-07-30 05:24:58 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 62.199 ms

*** Query: 2025-07-30 05:24:59 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 56.546 ms

*** Query: 2025-07-30 05:24:59 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 56.548 ms

*** Query: 2025-07-30 05:24:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 86.981 ms

*** Query: 2025-07-30 05:24:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 79.338 ms

*** Query: 2025-07-30 05:24:59 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 90.255 ms

*** Query: 2025-07-30 12:24:59 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 64.571 ms

*** Query: 2025-07-30 12:24:59 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.115807 s

*** Query: 2025-07-30 12:24:59 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 75.667 ms

*** Query: 2025-07-30 12:24:59 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 57.666 ms

*** Query: 2025-07-30 12:24:59 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 61.984 ms

*** Query: 2025-07-30 12:25:00 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.353079 s

*** Query: 2025-07-30 12:25:00 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 53.363 ms

*** Query: 2025-07-30 12:25:00 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 56.172 ms

*** Query: 2025-07-30 12:25:00 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 67.732 ms

*** Query: 2025-07-30 12:25:00 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 59.406 ms

*** Query: 2025-07-30 12:25:00 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.332115 s

*** Query: 2025-07-30 12:25:00 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 57.119 ms

*** Query: 2025-07-30 12:25:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753853094;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sale_type|i:0;sales_payments|a:0:{}recv_cart|a:0:{}recv_mode|s:7:\"receive\";recv_supplier|i:-1;'
WHERE `id` = 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 78.553 ms

*** Query: 2025-07-30 12:25:00 +07 *******************
SELECT RELEASE_LOCK('2b7d42e253d1d7882cfd3b078b5d0962') AS ci_session_lock
 Affected rows: 1
 Execution Time: 94.222 ms

*** Query: 2025-07-30 05:25:06 UTC *******************
SELECT GET_LOCK('2b7d42e253d1d7882cfd3b078b5d0962', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 42.675 ms

*** Query: 2025-07-30 05:25:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 94.819 ms

*** Query: 2025-07-30 05:25:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 78.474 ms

*** Query: 2025-07-30 05:25:07 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.11454 s

*** Query: 2025-07-30 05:25:07 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 58.022 ms

*** Query: 2025-07-30 05:25:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 57.488 ms

*** Query: 2025-07-30 05:25:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 49.766 ms

*** Query: 2025-07-30 05:25:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 54.225 ms

*** Query: 2025-07-30 05:25:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.138471 s

*** Query: 2025-07-30 05:25:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 1.016341 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 12:25:09 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 0.45675 s

*** Query: 2025-07-30 12:25:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 43.565 ms

*** Query: 2025-07-30 12:25:09 +07 *******************
SELECT RELEASE_LOCK('2b7d42e253d1d7882cfd3b078b5d0962') AS ci_session_lock
 Affected rows: 1
 Execution Time: 66.018 ms

*** Query: 2025-07-30 05:25:29 UTC *******************
SELECT GET_LOCK('2b7d42e253d1d7882cfd3b078b5d0962', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.481 ms

*** Query: 2025-07-30 05:25:29 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 62.047 ms

*** Query: 2025-07-30 05:25:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 75.366 ms

*** Query: 2025-07-30 05:25:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.32529 s

*** Query: 2025-07-30 05:25:30 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 57.956 ms

*** Query: 2025-07-30 05:25:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 88.075 ms

*** Query: 2025-07-30 05:25:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 93.74 ms

*** Query: 2025-07-30 05:25:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 47.408 ms

*** Query: 2025-07-30 05:25:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.699 ms

*** Query: 2025-07-30 05:25:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.209 ms

*** Query: 2025-07-30 05:25:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 70.01 ms

*** Query: 2025-07-30 12:25:30 +07 *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:ee16f40345a1f4436e14d34b74f1efb7'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 58.248 ms

*** Query: 2025-07-30 12:25:31 +07 *******************
SELECT RELEASE_LOCK('2b7d42e253d1d7882cfd3b078b5d0962') AS ci_session_lock
 Affected rows: 1
 Execution Time: 72.139 ms

*** Query: 2025-07-30 05:25:31 UTC *******************
SELECT GET_LOCK('7d0c6c66ea87fa8562c5defa30ced400', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 50.944 ms

*** Query: 2025-07-30 05:25:31 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9b0e5211d3a4118de2f9ce9bf02c431c'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 49.188 ms

*** Query: 2025-07-30 05:25:31 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 51.769 ms

*** Query: 2025-07-30 05:25:31 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 57.336 ms

*** Query: 2025-07-30 12:25:31 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 73.282 ms

*** Query: 2025-07-30 12:25:31 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.484 ms

*** Query: 2025-07-30 12:25:32 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:9b0e5211d3a4118de2f9ce9bf02c431c', '::1', '__ci_last_regenerate|i:1753853131;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/login\";')
 Affected rows: 1
 Execution Time: 56.322 ms

*** Query: 2025-07-30 12:25:32 +07 *******************
SELECT RELEASE_LOCK('7d0c6c66ea87fa8562c5defa30ced400') AS ci_session_lock
 Affected rows: 1
 Execution Time: 60.663 ms

*** Query: 2025-07-30 05:33:31 UTC *******************
SELECT GET_LOCK('7d0c6c66ea87fa8562c5defa30ced400', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.2929 s

*** Query: 2025-07-30 05:33:32 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9b0e5211d3a4118de2f9ce9bf02c431c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.378423 s

*** Query: 2025-07-30 05:33:33 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:9b0e5211d3a4118de2f9ce9bf02c431c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.814153 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:33:33 UTC *******************
SELECT RELEASE_LOCK('7d0c6c66ea87fa8562c5defa30ced400') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.353216 s

*** Query: 2025-07-30 05:33:33 UTC *******************
SELECT GET_LOCK('1a2931011f012ff74412197eeba76762', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.418754 s

*** Query: 2025-07-30 05:33:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 0.370638 s

*** Query: 2025-07-30 05:33:34 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.572094 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:33:35 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 49.822 ms

*** Query: 2025-07-30 05:33:35 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 87.307 ms

*** Query: 2025-07-30 12:33:35 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 49.73 ms

*** Query: 2025-07-30 12:33:35 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.11 ms

*** Query: 2025-07-30 12:33:35 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'admin'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.13 ms

*** Query: 2025-07-30 12:33:35 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48', '::1', '__ci_last_regenerate|i:1753853612;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/login\";person_id|s:1:\"1\";')
 Affected rows: 1
 Execution Time: 91.174 ms

*** Query: 2025-07-30 12:33:35 +07 *******************
SELECT RELEASE_LOCK('1a2931011f012ff74412197eeba76762') AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.037 ms

*** Query: 2025-07-30 05:33:36 UTC *******************
SELECT GET_LOCK('1a2931011f012ff74412197eeba76762', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.955 ms

*** Query: 2025-07-30 05:33:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 84.012 ms

*** Query: 2025-07-30 05:33:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.126 ms

*** Query: 2025-07-30 05:33:36 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 57.912 ms

*** Query: 2025-07-30 05:33:36 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 41.907 ms

*** Query: 2025-07-30 05:33:36 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 56.383 ms

*** Query: 2025-07-30 05:33:37 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 62.696 ms

*** Query: 2025-07-30 05:33:37 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 52.914 ms

*** Query: 2025-07-30 05:33:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.119519 s

*** Query: 2025-07-30 05:33:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.537574 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:33:37 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.078 ms

*** Query: 2025-07-30 12:33:37 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753853612;_ci_previous_url|s:37:\"https://localhost/ospos_2/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 48.642 ms

*** Query: 2025-07-30 12:33:38 +07 *******************
SELECT RELEASE_LOCK('1a2931011f012ff74412197eeba76762') AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.533 ms

*** Query: 2025-07-30 05:33:47 UTC *******************
SELECT GET_LOCK('1a2931011f012ff74412197eeba76762', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.917 ms

*** Query: 2025-07-30 05:33:47 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 78.274 ms

*** Query: 2025-07-30 05:33:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.887 ms

*** Query: 2025-07-30 05:33:47 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.100259 s

*** Query: 2025-07-30 05:33:47 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 76.09 ms

*** Query: 2025-07-30 05:33:47 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 67.995 ms

*** Query: 2025-07-30 05:33:47 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 44.91 ms

*** Query: 2025-07-30 05:33:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.161222 s

*** Query: 2025-07-30 05:33:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.15998 s

*** Query: 2025-07-30 05:33:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 94.772 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 65.656 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 75.272 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 69.42 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 66.182 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 59.43 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 47.815 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 61.099 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 77.269 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.568 ms

*** Query: 2025-07-30 12:33:48 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.794 ms

*** Query: 2025-07-30 12:33:49 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.173 ms

*** Query: 2025-07-30 12:33:49 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.147271 s

*** Query: 2025-07-30 12:33:49 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 53.325 ms

*** Query: 2025-07-30 12:33:49 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753853612;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.441512 s

*** Query: 2025-07-30 12:33:49 +07 *******************
SELECT RELEASE_LOCK('1a2931011f012ff74412197eeba76762') AS ci_session_lock
 Affected rows: 1
 Execution Time: 92.122 ms

*** Query: 2025-07-30 05:33:57 UTC *******************
SELECT GET_LOCK('1a2931011f012ff74412197eeba76762', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 48.441 ms

*** Query: 2025-07-30 05:33:57 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.567 ms

*** Query: 2025-07-30 05:33:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.098 ms

*** Query: 2025-07-30 05:33:57 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 54.65 ms

*** Query: 2025-07-30 05:33:57 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 57.607 ms

*** Query: 2025-07-30 05:33:57 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 57.791 ms

*** Query: 2025-07-30 05:33:57 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 53.386 ms

*** Query: 2025-07-30 05:33:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.580007 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:33:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 60.15 ms

*** Query: 2025-07-30 05:33:58 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 63.952 ms

*** Query: 2025-07-30 12:33:58 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 54.945 ms

*** Query: 2025-07-30 12:33:58 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 52.262 ms

*** Query: 2025-07-30 12:33:58 +07 *******************
SELECT RELEASE_LOCK('1a2931011f012ff74412197eeba76762') AS ci_session_lock
 Affected rows: 1
 Execution Time: 58.534 ms

*** Query: 2025-07-30 05:40:27 UTC *******************
SELECT GET_LOCK('1a2931011f012ff74412197eeba76762', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 50.827 ms

*** Query: 2025-07-30 05:40:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.329 ms

*** Query: 2025-07-30 05:40:27 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:8c8b0ab9b566bcdadc53168bbf64ee48'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 48.188 ms

*** Query: 2025-07-30 05:40:27 UTC *******************
SELECT RELEASE_LOCK('1a2931011f012ff74412197eeba76762') AS ci_session_lock
 Affected rows: 1
 Execution Time: 59.488 ms

*** Query: 2025-07-30 05:40:27 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.246 ms

*** Query: 2025-07-30 05:40:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 83.701 ms

*** Query: 2025-07-30 05:40:28 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.147088 s

*** Query: 2025-07-30 05:40:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.43895 s

*** Query: 2025-07-30 05:40:28 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.356104 s

*** Query: 2025-07-30 05:40:28 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 56.479 ms

*** Query: 2025-07-30 05:40:28 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 61.981 ms

*** Query: 2025-07-30 05:40:29 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.353379 s

*** Query: 2025-07-30 05:40:29 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 57.964 ms

*** Query: 2025-07-30 05:40:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 67.187 ms

*** Query: 2025-07-30 05:40:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.405 ms

*** Query: 2025-07-30 05:40:29 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 52.361 ms

*** Query: 2025-07-30 12:40:29 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d', '::1', '__ci_last_regenerate|i:1753854027;_ci_previous_url|s:39:\"https://localhost/ospos_2/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 63.84 ms

*** Query: 2025-07-30 12:40:29 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 59.077 ms

*** Query: 2025-07-30 05:40:34 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 60.063 ms

*** Query: 2025-07-30 05:40:34 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 63.925 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.527 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 60.148 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 48.261 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 59.71 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 55.715 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.237 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.894 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.665 ms

*** Query: 2025-07-30 05:40:35 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.633 ms

*** Query: 2025-07-30 12:40:35 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 65.453 ms

*** Query: 2025-07-30 12:40:35 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 57.687 ms

*** Query: 2025-07-30 12:40:35 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 50.861 ms

*** Query: 2025-07-30 12:40:36 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 68.703 ms

*** Query: 2025-07-30 12:40:36 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 49.187 ms

*** Query: 2025-07-30 12:40:36 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 66.641 ms

*** Query: 2025-07-30 12:40:36 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 57.273 ms

*** Query: 2025-07-30 12:40:36 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 81.515 ms

*** Query: 2025-07-30 12:40:36 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854027;_ci_previous_url|s:39:\"https://localhost/ospos_2/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 49.507 ms

*** Query: 2025-07-30 12:40:36 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 60.417 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 60.926 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 64.076 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.422 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.332075 s

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 54.727 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 68.674 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 51.154 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 69.105 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.847 ms

*** Query: 2025-07-30 05:40:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 52.467 ms

*** Query: 2025-07-30 05:40:45 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.239 ms

*** Query: 2025-07-30 12:40:45 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'dinner_table_enable'
 Affected rows: 1
 Execution Time: 68.039 ms

*** Query: 2025-07-30 12:40:45 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'dinner_table_enable', `value` = 0
WHERE `ospos_app_config`.`key` IN ('dinner_table_enable')
 Affected rows: 1
 Execution Time: 0.318951 s

*** Query: 2025-07-30 12:40:45 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 58.321 ms

*** Query: 2025-07-30 12:40:46 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 47.931 ms

*** Query: 2025-07-30 12:40:46 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 64.694 ms

*** Query: 2025-07-30 05:40:46 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 48.686 ms

*** Query: 2025-07-30 05:40:46 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 66.949 ms

*** Query: 2025-07-30 05:40:46 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.66 ms

*** Query: 2025-07-30 05:40:46 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 61.343 ms

*** Query: 2025-07-30 05:40:46 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 56.548 ms

*** Query: 2025-07-30 05:40:46 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 98.609 ms

*** Query: 2025-07-30 05:40:47 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 48.014 ms

*** Query: 2025-07-30 05:40:47 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 56.564 ms

*** Query: 2025-07-30 05:40:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.404 ms

*** Query: 2025-07-30 05:40:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 86.107 ms

*** Query: 2025-07-30 05:40:47 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.82 ms

*** Query: 2025-07-30 12:40:47 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 52.916 ms

*** Query: 2025-07-30 12:40:47 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.641 ms

*** Query: 2025-07-30 12:40:47 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 54.902 ms

*** Query: 2025-07-30 05:40:49 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 58.96 ms

*** Query: 2025-07-30 05:40:49 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 55.366 ms

*** Query: 2025-07-30 05:40:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 70.178 ms

*** Query: 2025-07-30 05:40:50 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 47.758 ms

*** Query: 2025-07-30 05:40:50 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.776844 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:40:50 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 69.977 ms

*** Query: 2025-07-30 05:40:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 56.393 ms

*** Query: 2025-07-30 05:40:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 40.284 ms

*** Query: 2025-07-30 05:40:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 74.889 ms

*** Query: 2025-07-30 05:40:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.804 ms

*** Query: 2025-07-30 05:40:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 52.95 ms

*** Query: 2025-07-30 12:40:51 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854027;_ci_previous_url|s:37:\"https://localhost/ospos_2/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 93.543 ms

*** Query: 2025-07-30 12:40:51 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 70.295 ms

*** Query: 2025-07-30 05:41:01 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.431 ms

*** Query: 2025-07-30 05:41:01 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 55.382 ms

*** Query: 2025-07-30 05:41:01 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.317254 s

*** Query: 2025-07-30 05:41:02 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.342737 s

*** Query: 2025-07-30 05:41:02 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.119843 s

*** Query: 2025-07-30 05:41:02 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 75.719 ms

*** Query: 2025-07-30 05:41:02 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.791 ms

*** Query: 2025-07-30 05:41:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.127383 s

*** Query: 2025-07-30 05:41:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 79.565 ms

*** Query: 2025-07-30 05:41:02 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.116728 s

*** Query: 2025-07-30 12:41:03 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` = 1
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 56.795 ms

*** Query: 2025-07-30 12:41:03 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 0.666407 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 12:41:03 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.101689 s

*** Query: 2025-07-30 12:41:03 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 52.641 ms

*** Query: 2025-07-30 12:41:03 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 56.45 ms

*** Query: 2025-07-30 12:41:03 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 58.818 ms

*** Query: 2025-07-30 12:41:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 63.542 ms

*** Query: 2025-07-30 12:41:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 61.444 ms

*** Query: 2025-07-30 12:41:04 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.561909 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 12:41:04 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.257607 s

*** Query: 2025-07-30 12:41:05 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.291339 s

*** Query: 2025-07-30 12:41:05 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.155147 s

*** Query: 2025-07-30 12:41:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854027;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.190074 s

*** Query: 2025-07-30 12:41:05 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.201793 s

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 76.156 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 50.801 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 71.866 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 58.736 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 57.353 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 65.961 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.015 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.134382 s

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.094 ms

*** Query: 2025-07-30 05:41:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.649 ms

*** Query: 2025-07-30 12:41:10 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 56.067 ms

*** Query: 2025-07-30 12:41:10 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 71.764 ms

*** Query: 2025-07-30 12:41:11 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 54.944 ms

*** Query: 2025-07-30 12:41:11 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.34539 s

*** Query: 2025-07-30 05:41:12 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.966 ms

*** Query: 2025-07-30 05:41:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 62.718 ms

*** Query: 2025-07-30 05:41:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.162 ms

*** Query: 2025-07-30 05:41:12 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 59.267 ms

*** Query: 2025-07-30 05:41:12 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 70.245 ms

*** Query: 2025-07-30 05:41:13 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 61.58 ms

*** Query: 2025-07-30 05:41:13 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 64.312 ms

*** Query: 2025-07-30 05:41:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 68.37 ms

*** Query: 2025-07-30 05:41:13 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.468143 s

*** Query: 2025-07-30 05:41:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.510805 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 12:41:14 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 47.81 ms

*** Query: 2025-07-30 12:41:14 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.987 ms

*** Query: 2025-07-30 12:41:14 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 53.675 ms

*** Query: 2025-07-30 12:41:14 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.2 ms

*** Query: 2025-07-30 05:41:15 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 59.215 ms

*** Query: 2025-07-30 05:41:15 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 51.831 ms

*** Query: 2025-07-30 05:41:15 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 71.908 ms

*** Query: 2025-07-30 05:41:15 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 72.641 ms

*** Query: 2025-07-30 05:41:15 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 56.86 ms

*** Query: 2025-07-30 05:41:16 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 66.542 ms

*** Query: 2025-07-30 05:41:16 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.338901 s

*** Query: 2025-07-30 05:41:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.313 ms

*** Query: 2025-07-30 05:41:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 68.183 ms

*** Query: 2025-07-30 05:41:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 98.589 ms

*** Query: 2025-07-30 12:41:16 +07 *******************
SELECT sale_id, case when sale_type = '3' THEN quote_number WHEN sale_type = '2' THEN work_order_number else sale_id end as doc_id, sale_id as suspended_sale_id, sale_status, sale_time, dinner_table_id, customer_id, employee_id, comment FROM ospos_sales where sale_status = 1
 Affected rows: 1
 Execution Time: 79.498 ms

*** Query: 2025-07-30 12:41:16 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.205821 s

*** Query: 2025-07-30 12:41:16 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 44.655 ms

*** Query: 2025-07-30 12:41:17 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 66.605 ms

*** Query: 2025-07-30 05:42:03 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 60.395 ms

*** Query: 2025-07-30 05:42:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 65.082 ms

*** Query: 2025-07-30 05:42:03 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 80.78 ms

*** Query: 2025-07-30 05:42:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.858693 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:42:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 41.313 ms

*** Query: 2025-07-30 05:42:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 60.441 ms

*** Query: 2025-07-30 05:42:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 54.94 ms

*** Query: 2025-07-30 05:42:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 74.783 ms

*** Query: 2025-07-30 05:42:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.272 ms

*** Query: 2025-07-30 05:42:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.387 ms

*** Query: 2025-07-30 05:42:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.886 ms

*** Query: 2025-07-30 12:42:05 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 48.706 ms

*** Query: 2025-07-30 12:42:05 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.269 ms

*** Query: 2025-07-30 12:42:05 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.450766 s

*** Query: 2025-07-30 12:42:05 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854027;_ci_previous_url|s:45:\"https://localhost/ospos_2/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";dinner_table|i:1;sales_location|i:1;sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 65.778 ms

*** Query: 2025-07-30 12:42:05 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 64.34 ms

*** Query: 2025-07-30 05:42:06 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 66.019 ms

*** Query: 2025-07-30 05:42:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.355142 s

*** Query: 2025-07-30 05:42:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.176 ms

*** Query: 2025-07-30 05:42:07 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 51.555 ms

*** Query: 2025-07-30 05:42:07 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.111885 s

*** Query: 2025-07-30 05:42:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 73.293 ms

*** Query: 2025-07-30 05:42:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.428 ms

*** Query: 2025-07-30 05:42:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 76.786 ms

*** Query: 2025-07-30 05:42:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 79.688 ms

*** Query: 2025-07-30 05:42:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 54.957 ms

*** Query: 2025-07-30 12:42:07 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 1
 Execution Time: 54.662 ms

*** Query: 2025-07-30 12:42:07 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 1
 Execution Time: 64.254 ms

*** Query: 2025-07-30 12:42:08 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 1
 Execution Time: 0.417425 s

*** Query: 2025-07-30 12:42:08 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 0.16192 s

*** Query: 2025-07-30 12:42:08 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.269477 s

*** Query: 2025-07-30 12:42:08 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 0.351076 s

*** Query: 2025-07-30 12:42:09 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 1
 Execution Time: 0.253982 s

*** Query: 2025-07-30 12:42:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.103027 s

*** Query: 2025-07-30 12:42:09 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 51.87 ms

*** Query: 2025-07-30 05:42:18 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.310423 s

*** Query: 2025-07-30 05:42:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 60.548 ms

*** Query: 2025-07-30 05:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.42712 s

*** Query: 2025-07-30 05:42:19 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 53.142 ms

*** Query: 2025-07-30 05:42:19 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 56.292 ms

*** Query: 2025-07-30 05:42:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 45.862 ms

*** Query: 2025-07-30 05:42:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.863 ms

*** Query: 2025-07-30 05:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 70.886 ms

*** Query: 2025-07-30 05:42:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.775 ms

*** Query: 2025-07-30 05:42:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.301245 s

*** Query: 2025-07-30 12:42:20 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 4
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 56.523 ms

*** Query: 2025-07-30 12:42:20 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 4
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 54.113 ms

*** Query: 2025-07-30 12:42:20 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 4
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 63.756 ms

*** Query: 2025-07-30 12:42:20 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 4
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 58.977 ms

*** Query: 2025-07-30 12:42:20 +07 *******************
SELECT `sales_items`.`sale_id`, `sales_items`.`item_id`, `sales_items`.`description`, `serialnumber`, `line`, `quantity_purchased`, `item_cost_price`, `item_unit_price`, `discount`, `discount_type`, `item_location`, `print_option`, `items`.`name` AS `name`, `category`, `item_type`, `stock_type`
FROM `ospos_sales_items` AS `sales_items`
JOIN `ospos_items` AS `items` ON `sales_items`.`item_id` = `items`.`item_id`
WHERE `sales_items`.`sale_id` = 4
ORDER BY `line` ASC
 Affected rows: 1
 Execution Time: 70.911 ms

*** Query: 2025-07-30 12:42:20 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 84.017 ms

*** Query: 2025-07-30 12:42:20 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` = 4
AND definition_flags & 2
 Affected rows: 1
 Execution Time: 52.06 ms

*** Query: 2025-07-30 12:42:20 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 0.347856 s

*** Query: 2025-07-30 12:42:20 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 54.932 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 48.94 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 60.294 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` IS NULL
 Affected rows: 0
 Execution Time: 0.261037 s

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 61.9 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 53.103 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 58.973 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 47.441 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.57 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 54.214 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 45.964 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 65.541 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 53.796 ms

*** Query: 2025-07-30 12:42:21 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 60.785 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.258822 s

*** Query: 2025-07-30 12:42:22 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 39.83 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 59.186 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 51.848 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SELECT `item_id`, `name`, `percent`
FROM `ospos_sales_items_taxes`
WHERE `sale_id` = 4
AND `item_id` = 1
 Affected rows: 1
 Execution Time: 47.894 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SELECT *
FROM `ospos_sales_taxes`
WHERE `sale_id` = 4
ORDER BY `print_sequence` ASC
 Affected rows: 1
 Execution Time: 52.523 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 60.05 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 72.576 ms

*** Query: 2025-07-30 12:42:22 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.320719 s

*** Query: 2025-07-30 12:42:22 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854027;_ci_previous_url|s:48:\"https://localhost/ospos_2/public/sales/receipt/4\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;'
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 58.257 ms

*** Query: 2025-07-30 12:42:23 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 55.416 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 58.792 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 58.799 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 57.581 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.865 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 49.641 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 60.398 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 47.739 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 63.196 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.073 ms

*** Query: 2025-07-30 05:45:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.171 ms

*** Query: 2025-07-30 05:45:08 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 78.153 ms

*** Query: 2025-07-30 12:45:08 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 67.223 ms

*** Query: 2025-07-30 12:45:08 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 63.157 ms

*** Query: 2025-07-30 12:45:08 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 67.313 ms

*** Query: 2025-07-30 12:45:08 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.31927 s

*** Query: 2025-07-30 12:45:09 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 0.445918 s

*** Query: 2025-07-30 12:45:09 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 53.508 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 91.479 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 53.454 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.313 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.828 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 55.951 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 49.973 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854027;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 81.379 ms

*** Query: 2025-07-30 12:45:09 +07 *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.347 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT GET_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 51.54 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 54.717 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:c0cad803ca63d2ff478e35c41536cf4d'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.14 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT RELEASE_LOCK('380d785370e2e88bbb0d59ef8e0ea0e8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 42.351 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT GET_LOCK('95d5a0083c42b01b7853c61cf0d97bee', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 58.809 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 48.4 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.401 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 52.403 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 77.233 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 64.298 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 88.284 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 72.476 ms

*** Query: 2025-07-30 05:45:48 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 88.606 ms

*** Query: 2025-07-30 05:45:49 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.253152 s

*** Query: 2025-07-30 12:45:49 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.354061 s

*** Query: 2025-07-30 12:45:49 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.041 ms

*** Query: 2025-07-30 12:45:49 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.005 ms

*** Query: 2025-07-30 12:45:49 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:790bed8ddd17c0fe285f127698f2f29c', '::1', '__ci_last_regenerate|i:1753854348;_ci_previous_url|s:45:\"https://localhost/ospos_2/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}')
 Affected rows: 1
 Execution Time: 56.731 ms

*** Query: 2025-07-30 12:45:49 +07 *******************
SELECT RELEASE_LOCK('95d5a0083c42b01b7853c61cf0d97bee') AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.296 ms

*** Query: 2025-07-30 05:45:51 UTC *******************
SELECT GET_LOCK('95d5a0083c42b01b7853c61cf0d97bee', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 60.079 ms

*** Query: 2025-07-30 05:45:51 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 59.331 ms

*** Query: 2025-07-30 05:45:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 63.196 ms

*** Query: 2025-07-30 05:45:51 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 50.936 ms

*** Query: 2025-07-30 05:45:51 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 66.548 ms

*** Query: 2025-07-30 05:45:51 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 61.633 ms

*** Query: 2025-07-30 05:45:52 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.557 ms

*** Query: 2025-07-30 05:45:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.509 ms

*** Query: 2025-07-30 05:45:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.591 ms

*** Query: 2025-07-30 05:45:52 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.416 ms

*** Query: 2025-07-30 12:45:52 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 1
 Execution Time: 49.919 ms

*** Query: 2025-07-30 12:45:52 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 1
 Execution Time: 53.414 ms

*** Query: 2025-07-30 12:45:52 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 1
 Execution Time: 0.102622 s

*** Query: 2025-07-30 12:45:52 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 53.735 ms

*** Query: 2025-07-30 12:45:52 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 55.352 ms

*** Query: 2025-07-30 12:45:52 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 93.881 ms

*** Query: 2025-07-30 12:45:52 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 1
 Execution Time: 0.154797 s

*** Query: 2025-07-30 12:45:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.188475 s

*** Query: 2025-07-30 12:45:53 +07 *******************
SELECT RELEASE_LOCK('95d5a0083c42b01b7853c61cf0d97bee') AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.15 ms

*** Query: 2025-07-30 05:45:54 UTC *******************
SELECT GET_LOCK('95d5a0083c42b01b7853c61cf0d97bee', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 57.07 ms

*** Query: 2025-07-30 05:45:54 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 52.266 ms

*** Query: 2025-07-30 05:45:54 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 70.845 ms

*** Query: 2025-07-30 05:45:55 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.254708 s

*** Query: 2025-07-30 05:45:55 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.30771 s

*** Query: 2025-07-30 05:45:55 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.580086 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:45:56 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.184434 s

*** Query: 2025-07-30 05:45:56 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 91.23 ms

*** Query: 2025-07-30 05:45:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.829113 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:45:57 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.261246 s

*** Query: 2025-07-30 12:45:57 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 4
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 63.181 ms

*** Query: 2025-07-30 12:45:57 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 4
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 83.989 ms

*** Query: 2025-07-30 12:45:57 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 4
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 0.204601 s

*** Query: 2025-07-30 12:45:57 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 4
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 0.17717 s

*** Query: 2025-07-30 12:45:57 +07 *******************
SELECT `sales_items`.`sale_id`, `sales_items`.`item_id`, `sales_items`.`description`, `serialnumber`, `line`, `quantity_purchased`, `item_cost_price`, `item_unit_price`, `discount`, `discount_type`, `item_location`, `print_option`, `items`.`name` AS `name`, `category`, `item_type`, `stock_type`
FROM `ospos_sales_items` AS `sales_items`
JOIN `ospos_items` AS `items` ON `sales_items`.`item_id` = `items`.`item_id`
WHERE `sales_items`.`sale_id` = 4
ORDER BY `line` ASC
 Affected rows: 1
 Execution Time: 73.344 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 82.833 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` = 4
AND definition_flags & 2
 Affected rows: 1
 Execution Time: 70.391 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 84.539 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 68.218 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.131413 s

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 47.514 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` IS NULL
 Affected rows: 0
 Execution Time: 66.845 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 60.268 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 96.67 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 51.96 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 56.043 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.335 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 71.318 ms

*** Query: 2025-07-30 12:45:58 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 62.947 ms

*** Query: 2025-07-30 12:45:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 68.013 ms

*** Query: 2025-07-30 12:45:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.140858 s

*** Query: 2025-07-30 12:45:59 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 0.146637 s

*** Query: 2025-07-30 12:45:59 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 59.216 ms

*** Query: 2025-07-30 12:45:59 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 0.35469 s

*** Query: 2025-07-30 12:45:59 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 72.765 ms

*** Query: 2025-07-30 12:46:00 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 0.338574 s

*** Query: 2025-07-30 12:46:00 +07 *******************
SELECT `item_id`, `name`, `percent`
FROM `ospos_sales_items_taxes`
WHERE `sale_id` = 4
AND `item_id` = 1
 Affected rows: 1
 Execution Time: 50.538 ms

*** Query: 2025-07-30 12:46:00 +07 *******************
SELECT *
FROM `ospos_sales_taxes`
WHERE `sale_id` = 4
ORDER BY `print_sequence` ASC
 Affected rows: 1
 Execution Time: 61.269 ms

*** Query: 2025-07-30 12:46:00 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 69.42 ms

*** Query: 2025-07-30 12:46:00 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.486741 s

*** Query: 2025-07-30 12:46:00 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 65.777 ms

*** Query: 2025-07-30 12:46:00 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854348;_ci_previous_url|s:48:\"https://localhost/ospos_2/public/sales/receipt/4\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;'
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 54.254 ms

*** Query: 2025-07-30 12:46:01 +07 *******************
SELECT RELEASE_LOCK('95d5a0083c42b01b7853c61cf0d97bee') AS ci_session_lock
 Affected rows: 1
 Execution Time: 55.303 ms

*** Query: 2025-07-30 05:46:10 UTC *******************
SELECT GET_LOCK('95d5a0083c42b01b7853c61cf0d97bee', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 55.783 ms

*** Query: 2025-07-30 05:46:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.974 ms

*** Query: 2025-07-30 05:46:10 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 66.697 ms

*** Query: 2025-07-30 05:46:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.796 ms

*** Query: 2025-07-30 05:46:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 51.021 ms

*** Query: 2025-07-30 05:46:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 69.792 ms

*** Query: 2025-07-30 05:46:11 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 65.006 ms

*** Query: 2025-07-30 05:46:11 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.335 ms

*** Query: 2025-07-30 05:46:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 74.51 ms

*** Query: 2025-07-30 05:46:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.74 ms

*** Query: 2025-07-30 05:46:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 63.06 ms

*** Query: 2025-07-30 12:46:11 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 42.922 ms

*** Query: 2025-07-30 12:46:11 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.703 ms

*** Query: 2025-07-30 12:46:11 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.906 ms

*** Query: 2025-07-30 12:46:11 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854348;_ci_previous_url|s:45:\"https://localhost/ospos_2/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;'
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.777 ms

*** Query: 2025-07-30 12:46:11 +07 *******************
SELECT RELEASE_LOCK('95d5a0083c42b01b7853c61cf0d97bee') AS ci_session_lock
 Affected rows: 1
 Execution Time: 63.165 ms

*** Query: 2025-07-30 05:46:12 UTC *******************
SELECT GET_LOCK('95d5a0083c42b01b7853c61cf0d97bee', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 60.986 ms

*** Query: 2025-07-30 05:46:12 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.441 ms

*** Query: 2025-07-30 05:46:12 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 51.082 ms

*** Query: 2025-07-30 05:46:13 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 0.692426 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:46:13 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 61.954 ms

*** Query: 2025-07-30 05:46:13 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 98.461 ms

*** Query: 2025-07-30 05:46:14 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.354039 s

*** Query: 2025-07-30 05:46:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.273 ms

*** Query: 2025-07-30 05:46:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.005 ms

*** Query: 2025-07-30 05:46:14 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.269 ms

*** Query: 2025-07-30 12:46:14 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 1
 Execution Time: 53.776 ms

*** Query: 2025-07-30 12:46:14 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 1
 Execution Time: 63.739 ms

*** Query: 2025-07-30 12:46:14 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 1
 Execution Time: 78.519 ms

*** Query: 2025-07-30 12:46:14 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 70.074 ms

*** Query: 2025-07-30 12:46:15 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 0.326792 s

*** Query: 2025-07-30 12:46:15 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 57.408 ms

*** Query: 2025-07-30 12:46:15 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 1
 Execution Time: 55.736 ms

*** Query: 2025-07-30 12:46:15 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 63.53 ms

*** Query: 2025-07-30 12:46:15 +07 *******************
SELECT RELEASE_LOCK('95d5a0083c42b01b7853c61cf0d97bee') AS ci_session_lock
 Affected rows: 1
 Execution Time: 49.882 ms

*** Query: 2025-07-30 05:54:24 UTC *******************
SELECT GET_LOCK('95d5a0083c42b01b7853c61cf0d97bee', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 58.084 ms

*** Query: 2025-07-30 05:54:24 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.16 ms

*** Query: 2025-07-30 05:54:24 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:790bed8ddd17c0fe285f127698f2f29c'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.176966 s

*** Query: 2025-07-30 05:54:25 UTC *******************
SELECT RELEASE_LOCK('95d5a0083c42b01b7853c61cf0d97bee') AS ci_session_lock
 Affected rows: 1
 Execution Time: 0.701081 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:54:25 UTC *******************
SELECT GET_LOCK('707db09d4f0497525f5df78a2ec6a58f', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 63.235 ms

*** Query: 2025-07-30 05:54:26 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:51711854e0238286b1fdbc60ce77eb57'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 0.339046 s

*** Query: 2025-07-30 05:54:26 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.313719 s

*** Query: 2025-07-30 05:54:26 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.598007 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 05:54:26 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 54.332 ms

*** Query: 2025-07-30 05:54:27 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 61.53 ms

*** Query: 2025-07-30 05:54:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 75.733 ms

*** Query: 2025-07-30 05:54:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 60.674 ms

*** Query: 2025-07-30 05:54:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 79.322 ms

*** Query: 2025-07-30 05:54:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.887 ms

*** Query: 2025-07-30 05:54:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.571 ms

*** Query: 2025-07-30 05:54:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.836 ms

*** Query: 2025-07-30 12:54:27 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:51711854e0238286b1fdbc60ce77eb57', '::1', '__ci_last_regenerate|i:1753854864;_ci_previous_url|s:39:\"https://localhost/ospos_2/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;')
 Affected rows: 1
 Execution Time: 59.284 ms

*** Query: 2025-07-30 12:54:27 +07 *******************
SELECT RELEASE_LOCK('707db09d4f0497525f5df78a2ec6a58f') AS ci_session_lock
 Affected rows: 1
 Execution Time: 54.764 ms

*** Query: 2025-07-30 05:54:29 UTC *******************
SELECT GET_LOCK('707db09d4f0497525f5df78a2ec6a58f', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 57.241 ms

*** Query: 2025-07-30 05:54:29 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:51711854e0238286b1fdbc60ce77eb57'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.330224 s

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.437 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 57.049 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 59.018 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 59.089 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 60.926 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.593 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.82 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.738 ms

*** Query: 2025-07-30 05:54:30 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 63.94 ms

*** Query: 2025-07-30 12:54:30 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 49.89 ms

*** Query: 2025-07-30 12:54:30 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 55.064 ms

*** Query: 2025-07-30 12:54:30 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 63.314 ms

*** Query: 2025-07-30 12:54:30 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 67.002 ms

*** Query: 2025-07-30 12:54:30 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 56.131 ms

*** Query: 2025-07-30 12:54:31 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 56.855 ms

*** Query: 2025-07-30 12:54:31 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 53.132 ms

*** Query: 2025-07-30 12:54:31 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 50.629 ms

*** Query: 2025-07-30 12:54:31 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753854864;_ci_previous_url|s:39:\"https://localhost/ospos_2/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;'
WHERE `id` = 'ospos_session:51711854e0238286b1fdbc60ce77eb57'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 59.519 ms

*** Query: 2025-07-30 12:54:31 +07 *******************
SELECT RELEASE_LOCK('707db09d4f0497525f5df78a2ec6a58f') AS ci_session_lock
 Affected rows: 1
 Execution Time: 59.241 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT GET_LOCK('707db09d4f0497525f5df78a2ec6a58f', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 62.884 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:51711854e0238286b1fdbc60ce77eb57'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.4 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:51711854e0238286b1fdbc60ce77eb57'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 53.054 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT RELEASE_LOCK('707db09d4f0497525f5df78a2ec6a58f') AS ci_session_lock
 Affected rows: 1
 Execution Time: 65.922 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 46.609 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 56.144 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 50.272 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.347 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 51.497 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 53.376 ms

*** Query: 2025-07-30 06:05:06 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 55.041 ms

*** Query: 2025-07-30 06:05:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 65.363 ms

*** Query: 2025-07-30 06:05:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 63.755 ms

*** Query: 2025-07-30 06:05:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.972 ms

*** Query: 2025-07-30 06:05:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.144522 s

*** Query: 2025-07-30 06:05:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 54.377 ms

*** Query: 2025-07-30 13:05:07 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07', '::1', '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:37:\"https://localhost/ospos_2/public/home\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;')
 Affected rows: 1
 Execution Time: 58.576 ms

*** Query: 2025-07-30 13:05:07 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 51.995 ms

*** Query: 2025-07-30 06:05:10 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 55.119 ms

*** Query: 2025-07-30 06:05:10 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 68.123 ms

*** Query: 2025-07-30 06:05:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.818 ms

*** Query: 2025-07-30 06:05:10 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 52.597 ms

*** Query: 2025-07-30 06:05:10 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 78.64 ms

*** Query: 2025-07-30 06:05:11 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 77.016 ms

*** Query: 2025-07-30 06:05:11 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 50.775 ms

*** Query: 2025-07-30 06:05:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.268 ms

*** Query: 2025-07-30 06:05:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.73 ms

*** Query: 2025-07-30 06:05:11 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.27514 s

*** Query: 2025-07-30 13:05:11 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 47.565 ms

*** Query: 2025-07-30 13:05:11 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 58.922 ms

*** Query: 2025-07-30 13:05:11 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 63.04 ms

*** Query: 2025-07-30 13:05:11 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 58.955 ms

*** Query: 2025-07-30 13:05:11 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 56.371 ms

*** Query: 2025-07-30 13:05:11 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 69.084 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.797 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 53.163 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.879 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.283 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 57.133 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.505 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 63.843 ms

*** Query: 2025-07-30 13:05:12 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.822 ms

*** Query: 2025-07-30 06:05:16 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 61.487 ms

*** Query: 2025-07-30 06:05:16 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 52.736 ms

*** Query: 2025-07-30 06:05:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.755548 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:05:17 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 59.947 ms

*** Query: 2025-07-30 06:05:17 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 70.276 ms

*** Query: 2025-07-30 06:05:17 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 65.932 ms

*** Query: 2025-07-30 06:05:17 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 53.911 ms

*** Query: 2025-07-30 06:05:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.705 ms

*** Query: 2025-07-30 06:05:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 73.976 ms

*** Query: 2025-07-30 06:05:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 53.832 ms

*** Query: 2025-07-30 13:05:17 +07 *******************
SELECT `item_id`, `name`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `name` LIKE '%te%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 1
 Execution Time: 52.564 ms

*** Query: 2025-07-30 13:05:17 +07 *******************
SELECT `item_id`, `item_number`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `item_number` LIKE '%te%' ESCAPE '!'
ORDER BY `item_number` ASC
 Affected rows: 0
 Execution Time: 55.092 ms

*** Query: 2025-07-30 13:05:18 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `name` LIKE '%te%' ESCAPE '!'
OR  `item_kit_number` LIKE '%te%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 0
 Execution Time: 57.398 ms

*** Query: 2025-07-30 13:05:18 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.327733 s

*** Query: 2025-07-30 13:05:18 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 63.96 ms

*** Query: 2025-07-30 06:05:21 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 40.617 ms

*** Query: 2025-07-30 06:05:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.628 ms

*** Query: 2025-07-30 06:05:21 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.325 ms

*** Query: 2025-07-30 06:05:21 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 47.668 ms

*** Query: 2025-07-30 06:05:21 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 64.695 ms

*** Query: 2025-07-30 06:05:22 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.338747 s

*** Query: 2025-07-30 06:05:22 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 53.574 ms

*** Query: 2025-07-30 06:05:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 84.044 ms

*** Query: 2025-07-30 06:05:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 68.381 ms

*** Query: 2025-07-30 06:05:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.26 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `item_kit_number` = '1'
 Affected rows: 0
 Execution Time: 54.295 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
AND `ospos_items`.`deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 67.198 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` IS NULL
AND `receiving_id` IS NULL
 Affected rows: 1
 Execution Time: 53.094 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 89.349 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 53.406 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 70.389 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 54.948 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 49.156 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 61.868 ms

*** Query: 2025-07-30 13:05:22 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 59.819 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 52.105 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 56.542 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 66.486 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 53.373 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 53.617 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 52.74 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.110401 s

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 60.918 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 54.458 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 61.595 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:42:\"https://localhost/ospos_2/public/sales/add\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:1:\"1\";s:8:\"discount\";s:1:\"0\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:6:\"10.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 55.962 ms

*** Query: 2025-07-30 13:05:23 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 61.348 ms

*** Query: 2025-07-30 06:05:24 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 59.565 ms

*** Query: 2025-07-30 06:05:24 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.18067 s

*** Query: 2025-07-30 06:05:24 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 91.083 ms

*** Query: 2025-07-30 06:05:24 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 70.838 ms

*** Query: 2025-07-30 06:05:24 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.124632 s

*** Query: 2025-07-30 06:05:25 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 71.464 ms

*** Query: 2025-07-30 06:05:25 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.529 ms

*** Query: 2025-07-30 06:05:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 95.323 ms

*** Query: 2025-07-30 06:05:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.538082 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:05:25 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.889 ms

*** Query: 2025-07-30 13:05:25 +07 *******************
SELECT `item_id`, `name`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `name` LIKE '%1%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 1
 Execution Time: 61.449 ms

*** Query: 2025-07-30 13:05:25 +07 *******************
SELECT `item_id`, `item_number`, `pack_name`, `name`, `unit_price`, `cost_price`
FROM `ospos_items`
WHERE `deleted` = 0
AND `item_type` IN (0,2)
AND  `item_number` LIKE '%1%' ESCAPE '!'
ORDER BY `item_number` ASC
 Affected rows: 0
 Execution Time: 74.69 ms

*** Query: 2025-07-30 13:05:26 +07 *******************
SELECT *
FROM `ospos_item_kits`
WHERE `name` LIKE '%1%' ESCAPE '!'
OR  `item_kit_number` LIKE '%1%' ESCAPE '!'
ORDER BY `name` ASC
 Affected rows: 0
 Execution Time: 57.126 ms

*** Query: 2025-07-30 13:05:26 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 98.274 ms

*** Query: 2025-07-30 13:05:26 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.327 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.191 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 52.868 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 69.12 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 55.04 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 54.012 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 45.953 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 49.123 ms

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.224468 s

*** Query: 2025-07-30 06:05:27 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 52.232 ms

*** Query: 2025-07-30 06:05:28 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.531256 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 13:05:28 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 83.443 ms

*** Query: 2025-07-30 13:05:28 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 52.118 ms

*** Query: 2025-07-30 13:05:28 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 66.3 ms

*** Query: 2025-07-30 13:05:28 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 93.118 ms

*** Query: 2025-07-30 13:05:28 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 52.669 ms

*** Query: 2025-07-30 13:05:28 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 65.989 ms

*** Query: 2025-07-30 13:05:28 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 55.2 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 70.103 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 51.43 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 57.205 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 54.175 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 58.888 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.538815 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 13:05:29 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 57.393 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 59.354 ms

*** Query: 2025-07-30 13:05:29 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 68.578 ms

*** Query: 2025-07-30 13:05:30 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 66.015 ms

*** Query: 2025-07-30 13:05:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.746 ms

*** Query: 2025-07-30 13:05:30 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 50.231 ms

*** Query: 2025-07-30 13:05:30 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.452437 s

*** Query: 2025-07-30 13:05:30 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 57.421 ms

*** Query: 2025-07-30 13:05:31 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 0.347165 s

*** Query: 2025-07-30 13:05:31 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 46.176 ms

*** Query: 2025-07-30 13:05:31 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:49:\"https://localhost/ospos_2/public/sales/addPayment\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:1:{i:1;a:25:{s:7:\"item_id\";s:1:\"1\";s:13:\"item_location\";i:1;s:10:\"stock_name\";s:10:\"Gudang  01\";s:4:\"line\";i:1;s:4:\"name\";s:12:\"items_test01\";s:11:\"item_number\";N;s:16:\"attribute_values\";N;s:18:\"attribute_dtvalues\";N;s:11:\"description\";s:0:\"\";s:12:\"serialnumber\";s:0:\"\";s:21:\"allow_alt_description\";s:1:\"0\";s:13:\"is_serialized\";s:1:\"0\";s:8:\"quantity\";s:1:\"1\";s:8:\"discount\";s:1:\"0\";s:13:\"discount_type\";i:0;s:8:\"in_stock\";s:6:\"10.000\";s:5:\"price\";s:9:\"100000.00\";s:10:\"cost_price\";s:9:\"100000.00\";s:5:\"total\";s:11:\"100000.0000\";s:16:\"discounted_total\";s:11:\"100000.0000\";s:12:\"print_option\";i:0;s:10:\"stock_type\";s:1:\"0\";s:9:\"item_type\";s:1:\"0\";s:8:\"hsn_code\";s:0:\"\";s:15:\"tax_category_id\";N;}}sales_mode|s:4:\"sale\";sales_payments|a:1:{s:4:\"Cash\";a:4:{s:12:\"payment_type\";s:4:\"Cash\";s:14:\"payment_amount\";s:6:\"111000\";s:11:\"cash_refund\";i:0;s:15:\"cash_adjustment\";i:0;}}'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.105548 s

*** Query: 2025-07-30 13:05:31 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.017 ms

*** Query: 2025-07-30 06:05:36 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 59.905 ms

*** Query: 2025-07-30 06:05:36 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.347322 s

*** Query: 2025-07-30 06:05:36 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.476942 s

*** Query: 2025-07-30 06:05:36 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 59.401 ms

*** Query: 2025-07-30 06:05:37 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 0.5561 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:05:38 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 0.353138 s

*** Query: 2025-07-30 06:05:38 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 48.072 ms

*** Query: 2025-07-30 06:05:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.285396 s

*** Query: 2025-07-30 06:05:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.142654 s

*** Query: 2025-07-30 06:05:38 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.956 ms

*** Query: 2025-07-30 13:05:38 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 60.361 ms

*** Query: 2025-07-30 13:05:38 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.792 ms

*** Query: 2025-07-30 13:05:38 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.965 ms

*** Query: 2025-07-30 13:05:38 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 51.878 ms

*** Query: 2025-07-30 13:05:38 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 58.505 ms

*** Query: 2025-07-30 13:05:38 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 57.499 ms

*** Query: 2025-07-30 13:05:38 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 48.749 ms

*** Query: 2025-07-30 13:05:39 +07 *******************
SELECT *
FROM `ospos_items_taxes`
WHERE `item_id` = 1
 Affected rows: 1
 Execution Time: 56.385 ms

*** Query: 2025-07-30 13:05:39 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 76.475 ms

*** Query: 2025-07-30 13:05:39 +07 *******************
INSERT INTO `ospos_sales` (`sale_time`, `customer_id`, `employee_id`, `comment`, `sale_status`, `invoice_number`, `quote_number`, `work_order_number`, `dinner_table_id`, `sale_type`) VALUES ('2025-07-30 13:05:39', NULL, 1, '', '0', NULL, NULL, NULL, NULL, 0)
 Affected rows: 1
 Execution Time: 53.139 ms

*** Query: 2025-07-30 13:05:39 +07 *******************
INSERT INTO `ospos_sales_payments` (`sale_id`, `payment_type`, `payment_amount`, `cash_refund`, `cash_adjustment`, `employee_id`) VALUES (6, 'Cash', '111000', 0, 0, 1)
 Affected rows: 1
 Execution Time: 51.923 ms

*** Query: 2025-07-30 13:05:39 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.100448 s

*** Query: 2025-07-30 13:05:39 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 55.597 ms

*** Query: 2025-07-30 13:05:39 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 57.856 ms

*** Query: 2025-07-30 13:05:39 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 73.394 ms

*** Query: 2025-07-30 13:05:40 +07 *******************
SELECT `ospos_items`.*, GROUP_CONCAT(attribute_value SEPARATOR '|') AS attribute_values, GROUP_CONCAT(attribute_decimal SEPARATOR '|') AS attribute_dvalues, GROUP_CONCAT(attribute_date SEPARATOR '|') AS attribute_dtvalues
FROM `ospos_items`
LEFT JOIN `ospos_attribute_links` ON `ospos_attribute_links`.`item_id` = `ospos_items`.`item_id`
LEFT JOIN `ospos_attribute_values` ON `ospos_attribute_links`.`attribute_id` = `ospos_attribute_values`.`attribute_id`
WHERE `ospos_items`.`item_id` = 1
GROUP BY `ospos_items`.`item_id`
 Affected rows: 1
 Execution Time: 0.263443 s

*** Query: 2025-07-30 13:05:40 +07 *******************
INSERT INTO `ospos_sales_items` (`sale_id`, `item_id`, `line`, `description`, `serialnumber`, `quantity_purchased`, `discount`, `discount_type`, `item_cost_price`, `item_unit_price`, `item_location`, `print_option`) VALUES (6, '1', 1, '', '', '1', '0', 0, '100000.00', '100000.00', 1, 0)
 Affected rows: 1
 Execution Time: 0.184813 s

*** Query: 2025-07-30 13:05:40 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.527197 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 13:05:40 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 53.216 ms

*** Query: 2025-07-30 13:05:41 +07 *******************
UPDATE `ospos_item_quantities` SET `quantity` = 9, `item_id` = '1', `location_id` = 1
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 0.64114 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 13:05:41 +07 *******************
INSERT INTO `ospos_inventory` (`trans_date`, `trans_items`, `trans_user`, `trans_location`, `trans_comment`, `trans_inventory`) VALUES ('2025-07-30 13:05:41', '1', 1, 1, 'POS 6', -1)
 Affected rows: 1
 Execution Time: 59.969 ms

*** Query: 2025-07-30 13:05:41 +07 *******************
INSERT IGNORE INTO `ospos_attribute_links` (`item_id`, `definition_id`, `attribute_id`, `sale_id`)
SELECT 1, definition_id, attribute_id, 6 FROM ospos_attribute_links WHERE item_id = 1 AND sale_id IS NULL AND receiving_id IS NULL
 Affected rows: 0
 Execution Time: 56.886 ms

*** Query: 2025-07-30 13:05:41 +07 *******************
INSERT INTO `ospos_sales_taxes` (`sale_id`, `tax_type`, `tax_group`, `sale_tax_basis`, `sale_tax_amount`, `print_sequence`, `name`, `tax_rate`, `sales_tax_code_id`, `jurisdiction_id`, `tax_category_id`, `rounding_code`) VALUES (6, '1', 'PPn', '100000.0000', 11000, 1, 'PPn', '11.000', NULL, NULL, NULL, 1)
 Affected rows: 1
 Execution Time: 69.28 ms

*** Query: 2025-07-30 13:05:41 +07 *******************
INSERT INTO `ospos_sales_items_taxes` (`sale_id`, `item_id`, `line`, `name`, `percent`, `tax_type`, `rounding_code`, `cascade_sequence`, `item_tax_amount`, `sales_tax_code_id`, `tax_category_id`, `jurisdiction_id`) VALUES (6, '1', 1, 'PPn', '11.000', '1', 1, 0, '11000', NULL, NULL, NULL)
 Affected rows: 1
 Execution Time: 56.295 ms

*** Query: 2025-07-30 13:05:42 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 48.572 ms

*** Query: 2025-07-30 13:05:42 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:47:\"https://localhost/ospos_2/public/sales/complete\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 55.873 ms

*** Query: 2025-07-30 13:05:42 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.129 ms

*** Query: 2025-07-30 06:07:09 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.832 ms

*** Query: 2025-07-30 06:07:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 60.093 ms

*** Query: 2025-07-30 06:07:09 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 61.732 ms

*** Query: 2025-07-30 06:07:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.413 ms

*** Query: 2025-07-30 06:07:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 49.521 ms

*** Query: 2025-07-30 06:07:09 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 63.445 ms

*** Query: 2025-07-30 06:07:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 55.308 ms

*** Query: 2025-07-30 06:07:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.343939 s

*** Query: 2025-07-30 06:07:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 67.664 ms

*** Query: 2025-07-30 06:07:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.290755 s

*** Query: 2025-07-30 06:07:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.577 ms

*** Query: 2025-07-30 13:07:11 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `status` = 0
OR `dinner_table_id` IS NULL
AND `deleted` = 0
 Affected rows: 3
 Execution Time: 0.324587 s

*** Query: 2025-07-30 13:07:11 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 61.094 ms

*** Query: 2025-07-30 13:07:11 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 0.355641 s

*** Query: 2025-07-30 13:07:11 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 51.949 ms

*** Query: 2025-07-30 13:07:11 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 54.219 ms

*** Query: 2025-07-30 13:07:11 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 57.431 ms

*** Query: 2025-07-30 13:07:11 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.127867 s

*** Query: 2025-07-30 13:07:11 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'items'
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.512 ms

*** Query: 2025-07-30 13:07:11 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.602 ms

*** Query: 2025-07-30 13:07:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'sales_change_price'
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.7 ms

*** Query: 2025-07-30 13:07:12 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_sales`
WHERE `invoice_number` IS NOT NULL
 Affected rows: 1
 Execution Time: 56.679 ms

*** Query: 2025-07-30 13:07:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.448 ms

*** Query: 2025-07-30 13:07:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/sales\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 62.809 ms

*** Query: 2025-07-30 13:07:12 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 55.35 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.596 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 39.43 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.05 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 87.368 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 67.498 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 53.342 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 49.891 ms

*** Query: 2025-07-30 06:07:16 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.588 ms

*** Query: 2025-07-30 06:07:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 63.704 ms

*** Query: 2025-07-30 06:07:17 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 54.047 ms

*** Query: 2025-07-30 13:07:17 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 58.562 ms

*** Query: 2025-07-30 13:07:17 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.316 ms

*** Query: 2025-07-30 13:07:17 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.603 ms

*** Query: 2025-07-30 13:07:17 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:45:\"https://localhost/ospos_2/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;cash_rounding|i:0;cash_mode|i:0;sales_cart|a:0:{}sales_customer|i:-1;sales_mode|s:4:\"sale\";sales_payments|a:0:{}'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 61.928 ms

*** Query: 2025-07-30 13:07:17 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 45.076 ms

*** Query: 2025-07-30 06:07:17 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 43.687 ms

*** Query: 2025-07-30 06:07:18 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 0.325127 s

*** Query: 2025-07-30 06:07:18 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.520325 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:07:18 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 61.249 ms

*** Query: 2025-07-30 06:07:18 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 62.026 ms

*** Query: 2025-07-30 06:07:19 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 59.604 ms

*** Query: 2025-07-30 06:07:19 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 50.709 ms

*** Query: 2025-07-30 06:07:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.345 ms

*** Query: 2025-07-30 06:07:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 64.274 ms

*** Query: 2025-07-30 06:07:19 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.591 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 2
 Execution Time: 48.03 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 2
 Execution Time: 54.061 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 2
 Execution Time: 61.602 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 46.744 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 55.484 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 54.213 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 1
 Execution Time: 55.296 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 55.099 ms

*** Query: 2025-07-30 13:07:19 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 50.52 ms

*** Query: 2025-07-30 06:07:22 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 47.838 ms

*** Query: 2025-07-30 06:07:22 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 48.738 ms

*** Query: 2025-07-30 06:07:22 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.646 ms

*** Query: 2025-07-30 06:07:22 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 58.701 ms

*** Query: 2025-07-30 06:07:22 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 63.559 ms

*** Query: 2025-07-30 06:07:23 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 65.71 ms

*** Query: 2025-07-30 06:07:23 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 59.648 ms

*** Query: 2025-07-30 06:07:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.774 ms

*** Query: 2025-07-30 06:07:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.699 ms

*** Query: 2025-07-30 06:07:23 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 52.192 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 4
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 49.076 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 4
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 56.188 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 4
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 52.226 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 4
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 56.571 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT `sales_items`.`sale_id`, `sales_items`.`item_id`, `sales_items`.`description`, `serialnumber`, `line`, `quantity_purchased`, `item_cost_price`, `item_unit_price`, `discount`, `discount_type`, `item_location`, `print_option`, `items`.`name` AS `name`, `category`, `item_type`, `stock_type`
FROM `ospos_sales_items` AS `sales_items`
JOIN `ospos_items` AS `items` ON `sales_items`.`item_id` = `items`.`item_id`
WHERE `sales_items`.`sale_id` = 4
ORDER BY `line` ASC
 Affected rows: 1
 Execution Time: 70.581 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 64.972 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` = 4
AND definition_flags & 2
 Affected rows: 1
 Execution Time: 54.11 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 54.131 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 54.898 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 54.468 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 46.696 ms

*** Query: 2025-07-30 13:07:23 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` IS NULL
 Affected rows: 0
 Execution Time: 57.377 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 55.692 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 51.928 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 51.989 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 42.933 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 65.186 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 52.751 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 55.681 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 56.452 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 65.821 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 4
 Affected rows: 1
 Execution Time: 54.156 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 64.289 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 55.942 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 49.606 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 47.987 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT `item_id`, `name`, `percent`
FROM `ospos_sales_items_taxes`
WHERE `sale_id` = 4
AND `item_id` = 1
 Affected rows: 1
 Execution Time: 48.777 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_sales_taxes`
WHERE `sale_id` = 4
ORDER BY `print_sequence` ASC
 Affected rows: 1
 Execution Time: 53.4 ms

*** Query: 2025-07-30 13:07:24 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 50.854 ms

*** Query: 2025-07-30 13:07:25 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.082 ms

*** Query: 2025-07-30 13:07:25 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 64.921 ms

*** Query: 2025-07-30 13:07:25 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:48:\"https://localhost/ospos_2/public/sales/receipt/4\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 52.383 ms

*** Query: 2025-07-30 13:07:25 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 54.027 ms

*** Query: 2025-07-30 06:08:04 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.805 ms

*** Query: 2025-07-30 06:08:04 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.646 ms

*** Query: 2025-07-30 06:08:04 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.178 ms

*** Query: 2025-07-30 06:08:04 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 52.488 ms

*** Query: 2025-07-30 06:08:04 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 58.191 ms

*** Query: 2025-07-30 06:08:04 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 51.128 ms

*** Query: 2025-07-30 06:08:04 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.359 ms

*** Query: 2025-07-30 06:08:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.989 ms

*** Query: 2025-07-30 06:08:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 78.04 ms

*** Query: 2025-07-30 06:08:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.515462 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 13:08:05 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 0.342595 s

*** Query: 2025-07-30 13:08:06 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 54.932 ms

*** Query: 2025-07-30 13:08:06 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.012 ms

*** Query: 2025-07-30 13:08:06 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:45:\"https://localhost/ospos_2/public/sales/manage\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;sales_customer|i:-1;'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.506 ms

*** Query: 2025-07-30 13:08:06 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 64.324 ms

*** Query: 2025-07-30 06:08:06 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.652 ms

*** Query: 2025-07-30 06:08:06 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 55.532 ms

*** Query: 2025-07-30 06:08:06 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.581 ms

*** Query: 2025-07-30 06:08:07 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 60.976 ms

*** Query: 2025-07-30 06:08:07 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 55.534 ms

*** Query: 2025-07-30 06:08:07 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 54.141 ms

*** Query: 2025-07-30 06:08:07 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 55.803 ms

*** Query: 2025-07-30 06:08:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 73.725 ms

*** Query: 2025-07-30 06:08:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 60.772 ms

*** Query: 2025-07-30 06:08:07 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 46.018 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 2
 Execution Time: 55.213 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 2
 Execution Time: 60.116 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
SELECT `ospos_sales`.`sale_id` AS sale_id, MAX(DATE(`ospos_sales`.`sale_time`)) AS sale_date, MAX(`ospos_sales`.`sale_time`) AS sale_time, MAX(`ospos_sales`.`invoice_number`) AS invoice_number, MAX(`ospos_sales`.`quote_number`) AS quote_number, SUM(`sales_items`.`quantity_purchased`) AS items_purchased, MAX(CONCAT(`customer_p`.`first_name`, " ", `customer_p`.`last_name`)) AS customer_name, MAX(`customer`.`company_name`) AS company_name, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) - IFNULL(SUM(`sales_items_taxes`.`internal_tax`), 0) AS subtotal, IFNULL(SUM(`sales_items_taxes`.`tax`), 0) AS tax, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS total, SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`) AS cost, (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) - SUM(`sales_items`.`item_cost_price` * `sales_items`.`quantity_purchased`)) AS profit, ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0) AS amount_due, MAX(`payments`.`sale_payment_amount`) AS amount_tendered, (MAX(`payments`.`sale_payment_amount`)) - (ROUND(SUM(CASE WHEN `sales_items`.`discount_type` = 0 THEN `sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` - ROUND(`sales_items`.`quantity_purchased` * `sales_items`.`item_unit_price` * `sales_items`.`discount` / 100, 2) ELSE `sales_items`.`quantity_purchased` * (`sales_items`.`item_unit_price` - `sales_items`.`discount`) END), 2) + IFNULL(SUM(`sales_items_taxes`.`sales_tax`), 0) + IFNULL(SUM(`payments`.`sale_cash_adjustment`), 0)) AS change_due, MAX(`payments`.`payment_type`) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `ospos_sales`.`sale_id`
ORDER BY `sale_id` DESC
 LIMIT 25
 Affected rows: 2
 Execution Time: 62.923 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(`sale_id`), INDEX(`sale_id`)) AS (SELECT `payments`.`sale_id`, SUM(CASE WHEN `payments`.`cash_adjustment` = 0 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_payment_amount, SUM(CASE WHEN `payments`.`cash_adjustment` = 1 THEN `payments`.`payment_amount` ELSE 0 END) AS sale_cash_adjustment, GROUP_CONCAT(CONCAT(`payments`.`payment_type`, " ", (`payments`.`payment_amount` - `payments`.`cash_refund`)) SEPARATOR ", ") AS payment_type
FROM `ospos_sales_payments` AS `payments`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `payments`.`sale_id`)
 Affected rows: 0
 Execution Time: 51.95 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY AS (SELECT `sales_items_taxes`.`sale_id` AS `sale_id`, `sales_items_taxes`.`item_id` AS `item_id`, `sales_items_taxes`.`line` AS `line`, SUM(sales_items_taxes.item_tax_amount) AS tax, SUM(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS internal_tax, SUM(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END) AS sales_tax
FROM `ospos_sales_items_taxes` AS `sales_items_taxes`
INNER JOIN `ospos_sales` ON `ospos_sales`.`sale_id` = `sales_items_taxes`.`sale_id`
INNER JOIN `ospos_sales_items` ON `ospos_sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `ospos_sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
GROUP BY `sale_id`, `item_id`, `line`)
 Affected rows: 0
 Execution Time: 66.47 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
SELECT COUNT(DISTINCT `ospos_sales`.`sale_id`) AS count
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` ON `sales_items`.`sale_id` = `ospos_sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `ospos_sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `ospos_sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `ospos_sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `ospos_sales`.`sale_status` = 0 AND DATE(ospos_sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
 Affected rows: 1
 Execution Time: 50.623 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
SELECT `payment_type`, COUNT(payment_amount) AS count, SUM(payment_amount - cash_refund) AS payment_amount
FROM `ospos_sales` AS `sales`
JOIN `ospos_sales_payments` ON `ospos_sales_payments`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
WHERE DATE(sales.sale_time) BETWEEN '2025-07-30' AND '2025-07-30'
AND `sales`.`sale_status` = 0
GROUP BY `payment_type`
 Affected rows: 1
 Execution Time: 55.137 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.648 ms

*** Query: 2025-07-30 13:08:07 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 46.734 ms

*** Query: 2025-07-30 06:08:09 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 53.053 ms

*** Query: 2025-07-30 06:08:09 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 53.654 ms

*** Query: 2025-07-30 06:08:09 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 52.822 ms

*** Query: 2025-07-30 06:08:09 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'sales%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 4
 Execution Time: 52.246 ms

*** Query: 2025-07-30 06:08:09 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 67.409 ms

*** Query: 2025-07-30 06:08:10 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 55.194 ms

*** Query: 2025-07-30 06:08:10 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 48.589 ms

*** Query: 2025-07-30 06:08:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 60.322 ms

*** Query: 2025-07-30 06:08:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 58.102 ms

*** Query: 2025-07-30 06:08:10 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 53.295 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_taxes_temp (INDEX(sale_id), INDEX(item_id)) ENGINE=MEMORY
            (
                SELECT sales_items_taxes.sale_id AS sale_id,
                    sales_items_taxes.item_id AS item_id,
                    sales_items_taxes.line AS line,
                    SUM(ROUND(sales_items_taxes.item_tax_amount, 2)) AS tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 0 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS internal_tax,
                    SUM(ROUND(CASE WHEN sales_items_taxes.tax_type = 1 THEN sales_items_taxes.item_tax_amount ELSE 0 END, 2)) AS sales_tax
                FROM ospos_sales_items_taxes AS sales_items_taxes
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = sales_items_taxes.sale_id
                INNER JOIN ospos_sales_items AS sales_items
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 6
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 57.034 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_payments_temp (PRIMARY KEY(sale_id), INDEX(sale_id))
            (
                SELECT payments.sale_id AS sale_id,
                    SUM(CASE WHEN payments.cash_adjustment = 0 THEN payments.payment_amount ELSE 0 END) AS sale_payment_amount,
                    SUM(CASE WHEN payments.cash_adjustment = 1 THEN payments.payment_amount ELSE 0 END) AS sale_cash_adjustment,
                    SUM(payments.cash_refund) AS sale_cash_refund,
                    GROUP_CONCAT(CONCAT(payments.payment_type, " ", (payments.payment_amount - payments.cash_refund)) SEPARATOR ", ") AS payment_type
                FROM ospos_sales_payments AS payments
                INNER JOIN ospos_sales AS sales
                    ON sales.sale_id = payments.sale_id
                WHERE sales.sale_id = 6
                GROUP BY payments.sale_id
            )
 Affected rows: 1
 Execution Time: 52.814 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
CREATE TEMPORARY TABLE IF NOT EXISTS ospos_sales_items_temp (INDEX(sale_date), INDEX(sale_time), INDEX(sale_id))
            (
                SELECT
                    MAX(DATE(sales.sale_time)) AS sale_date,
                    MAX(sales.sale_time) AS sale_time,
                    sales.sale_id AS sale_id,
                    MAX(sales.sale_status) AS sale_status,
                    MAX(sales.sale_type) AS sale_type,
                    MAX(sales.comment) AS comment,
                    MAX(sales.invoice_number) AS invoice_number,
                    MAX(sales.quote_number) AS quote_number,
                    MAX(sales.customer_id) AS customer_id,
                    MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name,
                    MAX(customer_p.first_name) AS customer_first_name,
                    MAX(customer_p.last_name) AS customer_last_name,
                    MAX(customer_p.email) AS customer_email,
                    MAX(customer_p.comments) AS customer_comments,
                    MAX(customer.company_name) AS customer_company_name,
                    MAX(sales.employee_id) AS employee_id,
                    MAX(CONCAT(employee.first_name, " ", employee.last_name)) AS employee_name,
                    items.item_id AS item_id,
                    MAX(items.name) AS name,
                    MAX(items.item_number) AS item_number,
                    MAX(items.category) AS category,
                    MAX(items.supplier_id) AS supplier_id,
                    MAX(sales_items.quantity_purchased) AS quantity_purchased,
                    MAX(sales_items.item_cost_price) AS item_cost_price,
                    MAX(sales_items.item_unit_price) AS item_unit_price,
                    MAX(sales_items.discount) AS discount,
                    sales_items.discount_type AS discount_type,
                    sales_items.line AS line,
                    MAX(sales_items.serialnumber) AS serialnumber,
                    MAX(sales_items.item_location) AS item_location,
                    MAX(sales_items.description) AS description,
                    MAX(payments.payment_type) AS payment_type,
                    MAX(payments.sale_payment_amount) AS sale_payment_amount,
                    
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS subtotal,
                    IFNULL(SUM(sales_items_taxes.tax), 0) AS tax,
                    ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS total,
                    SUM(sales_items.item_cost_price * sales_items.quantity_purchased) AS cost,
                    (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) - IFNULL(SUM(sales_items_taxes.internal_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) - SUM(sales_items.item_cost_price * sales_items.quantity_purchased)) AS profit
                    
                FROM ospos_sales_items AS sales_items
                INNER JOIN ospos_sales AS sales
                    ON sales_items.sale_id = sales.sale_id
                INNER JOIN ospos_items AS items
                    ON sales_items.item_id = items.item_id
                LEFT OUTER JOIN ospos_sales_payments_temp AS payments
                    ON sales_items.sale_id = payments.sale_id
                LEFT OUTER JOIN ospos_suppliers AS supplier
                    ON items.supplier_id = supplier.person_id
                LEFT OUTER JOIN ospos_people AS customer_p
                    ON sales.customer_id = customer_p.person_id
                LEFT OUTER JOIN ospos_customers AS customer
                    ON sales.customer_id = customer.person_id
                LEFT OUTER JOIN ospos_people AS employee
                    ON sales.employee_id = employee.person_id
                LEFT OUTER JOIN ospos_sales_items_taxes_temp AS sales_items_taxes
                    ON sales_items.sale_id = sales_items_taxes.sale_id AND sales_items.item_id = sales_items_taxes.item_id AND sales_items.line = sales_items_taxes.line
                WHERE sales.sale_id = 6
                GROUP BY sale_id, item_id, line
            )
 Affected rows: 1
 Execution Time: 62.957 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
SELECT `sales`.`sale_id` AS `sale_id`, MAX(DATE(sales.sale_time)) AS sale_date, MAX(sales.sale_time) AS sale_time, MAX(sales.comment) AS comment, MAX(sales.sale_status) AS sale_status, MAX(sales.invoice_number) AS invoice_number, MAX(sales.quote_number) AS quote_number, MAX(sales.employee_id) AS employee_id, MAX(sales.customer_id) AS customer_id, MAX(CONCAT(customer_p.first_name, " ", customer_p.last_name)) AS customer_name, MAX(customer_p.first_name) AS first_name, MAX(customer_p.last_name) AS last_name, MAX(customer_p.email) AS email, MAX(customer_p.comments) AS comments, MAX(IFnull(payments.sale_cash_adjustment, 0)) AS cash_adjustment, MAX(IFnull(payments.sale_cash_refund, 0)) AS cash_refund, ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0) AS amount_due, MAX(IFnull(payments.sale_payment_amount, 0)) AS amount_tendered, (MAX(payments.sale_payment_amount)) - (ROUND(SUM(CASE WHEN sales_items.discount_type = 0 THEN sales_items.quantity_purchased * sales_items.item_unit_price - ROUND(sales_items.quantity_purchased * sales_items.item_unit_price * sales_items.discount / 100, 2) ELSE sales_items.quantity_purchased * (sales_items.item_unit_price - sales_items.discount) END), 2) + IFNULL(SUM(sales_items_taxes.sales_tax), 0) + IFNULL(SUM(payments.sale_cash_adjustment), 0)) AS change_due, MAX(payments.payment_type) AS payment_type
FROM `ospos_sales_items` AS `sales_items`
INNER JOIN `ospos_sales` AS `sales` ON `sales_items`.`sale_id` = `sales`.`sale_id`
LEFT JOIN `ospos_people` AS `customer_p` ON `sales`.`customer_id` = `customer_p`.`person_id`
LEFT JOIN `ospos_customers` AS `customer` ON `sales`.`customer_id` = `customer`.`person_id`
LEFT OUTER JOIN `ospos_sales_payments_temp` AS `payments` ON `sales`.`sale_id` = `payments`.`sale_id`
LEFT OUTER JOIN `ospos_sales_items_taxes_temp` AS `sales_items_taxes` ON `sales_items`.`sale_id` = `sales_items_taxes`.`sale_id` AND `sales_items`.`item_id` = `sales_items_taxes`.`item_id` AND `sales_items`.`line` = `sales_items_taxes`.`line`
WHERE `sales`.`sale_id` = 6
GROUP BY `sales`.`sale_id`
ORDER BY `sales`.`sale_time` ASC
 Affected rows: 1
 Execution Time: 57.809 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
SELECT `sales_items`.`sale_id`, `sales_items`.`item_id`, `sales_items`.`description`, `serialnumber`, `line`, `quantity_purchased`, `item_cost_price`, `item_unit_price`, `discount`, `discount_type`, `item_location`, `print_option`, `items`.`name` AS `name`, `category`, `item_type`, `stock_type`
FROM `ospos_sales_items` AS `sales_items`
JOIN `ospos_items` AS `items` ON `sales_items`.`item_id` = `items`.`item_id`
WHERE `sales_items`.`sale_id` = 6
ORDER BY `line` ASC
 Affected rows: 1
 Execution Time: 52.197 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
SELECT *
FROM `ospos_items`
WHERE   (
`ospos_items`.`item_number` = '1'
OR `ospos_items`.`item_id` = '1'
 )
 LIMIT 1
 Affected rows: 1
 Execution Time: 62.528 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
SELECT GROUP_CONCAT(attribute_value SEPARATOR ', ') AS attribute_values, GROUP_CONCAT(DATE_FORMAT(attribute_date, '%m/%d/%Y') SEPARATOR ', ') AS attribute_dtvalues
FROM `ospos_attribute_links`
JOIN `ospos_attribute_values` ON `ospos_attribute_values`.`attribute_id` = `ospos_attribute_links`.`attribute_id`
JOIN `ospos_attribute_definitions` ON `ospos_attribute_definitions`.`definition_id` = `ospos_attribute_links`.`definition_id`
WHERE `definition_type` <> 'GROUP'
AND `deleted` = 0
AND `item_id` = 1
AND `sale_id` = 6
AND definition_flags & 2
 Affected rows: 1
 Execution Time: 47.563 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `location_id` = 1
 Affected rows: 1
 Execution Time: 56.302 ms

*** Query: 2025-07-30 13:08:10 +07 *******************
SELECT *
FROM `ospos_item_quantities`
WHERE `item_id` = 1
AND `location_id` = 1
 Affected rows: 1
 Execution Time: 36.158 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales_payments`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 0.329045 s

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 50.098 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` IS NULL
 Affected rows: 0
 Execution Time: 47.007 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 56.381 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 48.697 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 48.869 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 55.464 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 50.352 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 58.713 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 58.671 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 56.713 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 65.189 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_sales`
WHERE `sale_id` = 6
 Affected rows: 1
 Execution Time: 58.304 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_customers`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_customers`.`person_id`
WHERE `ospos_customers`.`person_id` = -1
 Affected rows: 0
 Execution Time: 61.701 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SELECT *
FROM `ospos_people`
WHERE `person_id` = -1
 LIMIT 1
 Affected rows: 0
 Execution Time: 51.28 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SHOW COLUMNS FROM `ospos_people`
 Affected rows: 13
 Execution Time: 54.795 ms

*** Query: 2025-07-30 13:08:11 +07 *******************
SHOW COLUMNS FROM `ospos_customers`
 Affected rows: 14
 Execution Time: 58.983 ms

*** Query: 2025-07-30 13:08:12 +07 *******************
SELECT `item_id`, `name`, `percent`
FROM `ospos_sales_items_taxes`
WHERE `sale_id` = 6
AND `item_id` = 1
 Affected rows: 1
 Execution Time: 54.67 ms

*** Query: 2025-07-30 13:08:12 +07 *******************
SELECT *
FROM `ospos_sales_taxes`
WHERE `sale_id` = 6
ORDER BY `print_sequence` ASC
 Affected rows: 1
 Execution Time: 51.605 ms

*** Query: 2025-07-30 13:08:12 +07 *******************
SELECT *
FROM `ospos_stock_locations`
JOIN `ospos_permissions` AS `permissions` ON `permissions`.`location_id` = `ospos_stock_locations`.`location_id`
JOIN `ospos_grants` AS `grants` ON `grants`.`permission_id` = `permissions`.`permission_id`
WHERE `person_id` = '1'
AND  `permissions`.`permission_id` LIKE 'sales%' ESCAPE '!'
AND `deleted` = 0
 Affected rows: 1
 Execution Time: 58.139 ms

*** Query: 2025-07-30 13:08:12 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 55.167 ms

*** Query: 2025-07-30 13:08:12 +07 *******************
SELECT *
FROM `ospos_grants`
WHERE `person_id` = 1
AND `permission_id` = 'reports_sales'
 LIMIT 1
 Affected rows: 1
 Execution Time: 61.207 ms

*** Query: 2025-07-30 13:08:12 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:48:\"https://localhost/ospos_2/public/sales/receipt/6\";person_id|s:1:\"1\";menu_group|s:4:\"home\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.592 ms

*** Query: 2025-07-30 13:08:12 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 50.666 ms

*** Query: 2025-07-30 06:09:42 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 78.201 ms

*** Query: 2025-07-30 06:09:42 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 56.495 ms

*** Query: 2025-07-30 06:09:42 UTC *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 81.904 ms

*** Query: 2025-07-30 06:09:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.71883 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:09:43 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'office%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 54.92 ms

*** Query: 2025-07-30 06:09:43 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'office_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 56.48 ms

*** Query: 2025-07-30 06:09:43 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 52.846 ms

*** Query: 2025-07-30 06:09:43 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 60.82 ms

*** Query: 2025-07-30 06:09:43 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 51.088 ms

*** Query: 2025-07-30 06:09:43 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.101779 s

*** Query: 2025-07-30 06:09:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.564087 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:09:44 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.510246 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 13:09:44 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:39:\"https://localhost/ospos_2/public/office\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.876 ms

*** Query: 2025-07-30 13:09:44 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.713 ms

*** Query: 2025-07-30 06:09:49 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 58.077 ms

*** Query: 2025-07-30 06:09:50 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 1.127414 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:09:50 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 85.191 ms

*** Query: 2025-07-30 06:09:50 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 54.51 ms

*** Query: 2025-07-30 06:09:50 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 0.317086 s

*** Query: 2025-07-30 06:09:50 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 75.32 ms

*** Query: 2025-07-30 06:09:50 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 57.876 ms

*** Query: 2025-07-30 06:09:51 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 58.594 ms

*** Query: 2025-07-30 06:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 77.48 ms

*** Query: 2025-07-30 06:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.839 ms

*** Query: 2025-07-30 06:09:51 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 88.251 ms

*** Query: 2025-07-30 13:09:51 +07 *******************
SELECT *
FROM `ospos_stock_locations`
WHERE `deleted` = 0
 Affected rows: 1
 Execution Time: 69.495 ms

*** Query: 2025-07-30 13:09:51 +07 *******************
SELECT *
FROM `ospos_dinner_tables`
WHERE `deleted` = 0
 Affected rows: 3
 Execution Time: 58.662 ms

*** Query: 2025-07-30 13:09:51 +07 *******************
SELECT *
FROM `ospos_customers_packages`
WHERE `deleted` = 0
 Affected rows: 5
 Execution Time: 46.816 ms

*** Query: 2025-07-30 13:09:51 +07 *******************
SELECT *
FROM `ospos_tax_codes`
WHERE `deleted` = 0
ORDER BY `tax_code_name` ASC
 Affected rows: 0
 Execution Time: 55.262 ms

*** Query: 2025-07-30 13:09:51 +07 *******************
SELECT *
FROM `ospos_tax_categories`
WHERE `deleted` = 0
ORDER BY `tax_group_sequence` ASC, `tax_category` ASC
 Affected rows: 0
 Execution Time: 54.264 ms

*** Query: 2025-07-30 13:09:51 +07 *******************
SELECT *
FROM `ospos_tax_jurisdictions`
WHERE `deleted` = 0
ORDER BY `jurisdiction_name` ASC
 Affected rows: 0
 Execution Time: 68.425 ms

*** Query: 2025-07-30 13:09:51 +07 *******************
SELECT `sort`
FROM `ospos_modules`
WHERE `module_id` = 'office'
 Affected rows: 1
 Execution Time: 0.346538 s

*** Query: 2025-07-30 13:09:52 +07 *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.99 ms

*** Query: 2025-07-30 13:09:52 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855506;_ci_previous_url|s:39:\"https://localhost/ospos_2/public/config\";person_id|s:1:\"1\";menu_group|s:6:\"office\";allow_temp_items|i:1;sale_id|i:-1;sales_location|i:1;sales_employee|i:1;cash_adjustment_amount|d:0;'
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.347 ms

*** Query: 2025-07-30 13:09:52 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 49.35 ms

*** Query: 2025-07-30 06:10:03 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 73.807 ms

*** Query: 2025-07-30 06:10:03 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 82.763 ms

*** Query: 2025-07-30 06:10:03 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 92.407 ms

*** Query: 2025-07-30 06:10:03 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'config%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 0.204228 s

*** Query: 2025-07-30 06:10:03 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'config_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 72.905 ms

*** Query: 2025-07-30 06:10:03 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('office','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 5
 Execution Time: 52.676 ms

*** Query: 2025-07-30 06:10:05 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 1.265044 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 06:10:05 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 59.387 ms

*** Query: 2025-07-30 06:10:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 62.619 ms

*** Query: 2025-07-30 06:10:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 66.86 ms

*** Query: 2025-07-30 06:10:05 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 56.033 ms

*** Query: 2025-07-30 13:10:05 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'company'
 Affected rows: 1
 Execution Time: 50.093 ms

*** Query: 2025-07-30 13:10:05 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'company', `value` = 'Personal Point Of Sales'
WHERE `ospos_app_config`.`key` IN ('company')
 Affected rows: 1
 Execution Time: 64.309 ms

*** Query: 2025-07-30 13:10:05 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.144046 s

*** Query: 2025-07-30 13:10:06 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'address'
 Affected rows: 1
 Execution Time: 0.324718 s

*** Query: 2025-07-30 13:10:06 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'address', `value` = 'Jakarta'
WHERE `ospos_app_config`.`key` IN ('address')
 Affected rows: 0
 Execution Time: 54.442 ms

*** Query: 2025-07-30 13:10:06 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.113456 s

*** Query: 2025-07-30 13:10:06 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'phone'
 Affected rows: 1
 Execution Time: 53.038 ms

*** Query: 2025-07-30 13:10:06 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'phone', `value` = '000-000-0000'
WHERE `ospos_app_config`.`key` IN ('phone')
 Affected rows: 0
 Execution Time: 49.401 ms

*** Query: 2025-07-30 13:10:06 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.412854 s

*** Query: 2025-07-30 13:10:06 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'email'
 Affected rows: 1
 Execution Time: 77.107 ms

*** Query: 2025-07-30 13:10:07 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'email', `value` = 'ganti@domain.co.id'
WHERE `ospos_app_config`.`key` IN ('email')
 Affected rows: 0
 Execution Time: 57.114 ms

*** Query: 2025-07-30 13:10:07 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.128485 s

*** Query: 2025-07-30 13:10:07 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'fax'
 Affected rows: 1
 Execution Time: 84.605 ms

*** Query: 2025-07-30 13:10:07 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'fax', `value` = ''
WHERE `ospos_app_config`.`key` IN ('fax')
 Affected rows: 0
 Execution Time: 0.25304 s

*** Query: 2025-07-30 13:10:07 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 82.803 ms

*** Query: 2025-07-30 13:10:07 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'website'
 Affected rows: 1
 Execution Time: 58.004 ms

*** Query: 2025-07-30 13:10:07 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'website', `value` = ''
WHERE `ospos_app_config`.`key` IN ('website')
 Affected rows: 0
 Execution Time: 53.781 ms

*** Query: 2025-07-30 13:10:08 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.505001 s [LONG RUNNING QUERY]

*** Query: 2025-07-30 13:10:08 +07 *******************
SELECT COUNT(*) AS `numrows`
FROM `ospos_app_config`
WHERE `key` = 'return_policy'
 Affected rows: 1
 Execution Time: 54.821 ms

*** Query: 2025-07-30 13:10:08 +07 *******************
UPDATE `ospos_app_config` SET `key` = 'return_policy', `value` = 'Terimakasih'
WHERE `ospos_app_config`.`key` IN ('return_policy')
 Affected rows: 0
 Execution Time: 58.674 ms

*** Query: 2025-07-30 13:10:08 +07 *******************
SELECT *
FROM `ospos_app_config`
ORDER BY `key` ASC
 Affected rows: 132
 Execution Time: 0.11646 s

*** Query: 2025-07-30 13:10:08 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now()
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 59.15 ms

*** Query: 2025-07-30 13:10:09 +07 *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 69.359 ms

*** Query: 2025-07-30 06:10:19 UTC *******************
SELECT GET_LOCK('5eb95ef94390a774430a98e1a6b9508a', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 57.538 ms

*** Query: 2025-07-30 06:10:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.173 ms

*** Query: 2025-07-30 06:10:19 UTC *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:12bf9156dd22e449eea9b55ebf2f1f07'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 51.287 ms

*** Query: 2025-07-30 06:10:19 UTC *******************
SELECT RELEASE_LOCK('5eb95ef94390a774430a98e1a6b9508a') AS ci_session_lock
 Affected rows: 1
 Execution Time: 48.778 ms

*** Query: 2025-07-30 06:10:19 UTC *******************
SELECT GET_LOCK('2661334b9312b80edfc4d9ba3f9c14d8', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 57.755 ms

*** Query: 2025-07-30 06:10:19 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:5795a623d4e910e81dc26aaccc8471ae'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 51.23 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 0.226535 s

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 1
 Affected rows: 1
 Execution Time: 56.326 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 58.678 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 1
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 12
 Execution Time: 66.209 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 47.504 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 58.827 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 59.826 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 57.027 ms

*** Query: 2025-07-30 06:10:20 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 1
 Affected rows: 1
 Execution Time: 61.829 ms

*** Query: 2025-07-30 13:10:20 +07 *******************
DELETE FROM `ospos_sessions`
WHERE `id` = 'ospos_session:5795a623d4e910e81dc26aaccc8471ae'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 55.477 ms

*** Query: 2025-07-30 13:10:20 +07 *******************
SELECT RELEASE_LOCK('2661334b9312b80edfc4d9ba3f9c14d8') AS ci_session_lock
 Affected rows: 1
 Execution Time: 52.388 ms

*** Query: 2025-07-30 06:10:21 UTC *******************
SELECT GET_LOCK('8972964e2afacf33d716ddd6a257826c', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 49.792 ms

*** Query: 2025-07-30 06:10:21 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:28a8dd7533a2de630e1e2a7a15ae2623'
AND `ip_address` = '::1'
 Affected rows: 0
 Execution Time: 55.638 ms

*** Query: 2025-07-30 06:10:21 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 64.152 ms

*** Query: 2025-07-30 06:10:21 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 46.834 ms

*** Query: 2025-07-30 13:10:21 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 70.722 ms

*** Query: 2025-07-30 13:10:21 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 49.997 ms

*** Query: 2025-07-30 13:10:21 +07 *******************
INSERT INTO `ospos_sessions` (`timestamp`, `id`, `ip_address`, `data`) VALUES (now(), 'ospos_session:28a8dd7533a2de630e1e2a7a15ae2623', '::1', '__ci_last_regenerate|i:1753855821;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/login\";')
 Affected rows: 1
 Execution Time: 59.051 ms

*** Query: 2025-07-30 13:10:21 +07 *******************
SELECT RELEASE_LOCK('8972964e2afacf33d716ddd6a257826c') AS ci_session_lock
 Affected rows: 1
 Execution Time: 56.293 ms

*** Query: 2025-07-30 06:10:31 UTC *******************
SELECT GET_LOCK('8972964e2afacf33d716ddd6a257826c', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 57.702 ms

*** Query: 2025-07-30 06:10:31 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:28a8dd7533a2de630e1e2a7a15ae2623'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 63.694 ms

*** Query: 2025-07-30 06:10:31 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 57.495 ms

*** Query: 2025-07-30 06:10:31 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 52.6 ms

*** Query: 2025-07-30 13:10:31 +07 *******************
SHOW COLUMNS FROM `ospos_migrations`
 Affected rows: 7
 Execution Time: 60.211 ms

*** Query: 2025-07-30 13:10:32 +07 *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 56.192 ms

*** Query: 2025-07-30 13:10:32 +07 *******************
SELECT *
FROM `ospos_employees`
WHERE `username` = 'sales01'
AND `deleted` = 0
 LIMIT 1
 Affected rows: 1
 Execution Time: 60.492 ms

*** Query: 2025-07-30 13:10:32 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855821;_ci_previous_url|s:38:\"https://localhost/ospos_2/public/login\";person_id|s:1:\"3\";'
WHERE `id` = 'ospos_session:28a8dd7533a2de630e1e2a7a15ae2623'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 58.624 ms

*** Query: 2025-07-30 13:10:32 +07 *******************
SELECT RELEASE_LOCK('8972964e2afacf33d716ddd6a257826c') AS ci_session_lock
 Affected rows: 1
 Execution Time: 48.758 ms

*** Query: 2025-07-30 06:10:33 UTC *******************
SELECT GET_LOCK('8972964e2afacf33d716ddd6a257826c', 300) AS ci_session_lock
 Affected rows: 1
 Execution Time: 55.516 ms

*** Query: 2025-07-30 06:10:33 UTC *******************
SELECT `data`
FROM `ospos_sessions`
WHERE `id` = 'ospos_session:28a8dd7533a2de630e1e2a7a15ae2623'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 51.924 ms

*** Query: 2025-07-30 06:10:33 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 60.333 ms

*** Query: 2025-07-30 06:10:33 UTC *******************
SELECT *
FROM `ospos_grants`
WHERE `permission_id` LIKE 'home%' ESCAPE '!'
AND `person_id` = 3
 Affected rows: 1
 Execution Time: 67.778 ms

*** Query: 2025-07-30 06:10:33 UTC *******************
SELECT *
FROM `ospos_permissions`
WHERE `permission_id` LIKE 'home_%' ESCAPE '!'
 Affected rows: 0
 Execution Time: 55.056 ms

*** Query: 2025-07-30 06:10:33 UTC *******************
SELECT *
FROM `ospos_modules`
JOIN `ospos_permissions` ON `ospos_permissions`.`permission_id` = `ospos_modules`.`module_id`
JOIN `ospos_grants` ON `ospos_permissions`.`permission_id` = `ospos_grants`.`permission_id`
WHERE `person_id` = 3
AND `menu_group` IN ('home','both')
AND `sort` != 0
ORDER BY `sort` ASC
 Affected rows: 3
 Execution Time: 0.365608 s

*** Query: 2025-07-30 06:10:34 UTC *******************
SHOW TABLES FROM `db_pposmp`
 Affected rows: 39
 Execution Time: 60.782 ms

*** Query: 2025-07-30 06:10:34 UTC *******************
SELECT `version`
FROM `ospos_migrations`
ORDER BY `version` DESC
 LIMIT 1
 Affected rows: 1
 Execution Time: 54.338 ms

*** Query: 2025-07-30 06:10:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 0.140351 s

*** Query: 2025-07-30 06:10:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 60.206 ms

*** Query: 2025-07-30 06:10:34 UTC *******************
SELECT *
FROM `ospos_employees`
JOIN `ospos_people` ON `ospos_people`.`person_id` = `ospos_employees`.`person_id`
WHERE `ospos_employees`.`person_id` = 3
 Affected rows: 1
 Execution Time: 63.415 ms

*** Query: 2025-07-30 13:10:34 +07 *******************
UPDATE `ospos_sessions` SET `timestamp` = now(), `data` = '__ci_last_regenerate|i:1753855821;_ci_previous_url|s:37:\"https://localhost/ospos_2/public/home\";person_id|s:1:\"3\";menu_group|s:4:\"home\";'
WHERE `id` = 'ospos_session:28a8dd7533a2de630e1e2a7a15ae2623'
AND `ip_address` = '::1'
 Affected rows: 1
 Execution Time: 57.797 ms

*** Query: 2025-07-30 13:10:34 +07 *******************
SELECT RELEASE_LOCK('8972964e2afacf33d716ddd6a257826c') AS ci_session_lock
 Affected rows: 1
 Execution Time: 57.68 ms

